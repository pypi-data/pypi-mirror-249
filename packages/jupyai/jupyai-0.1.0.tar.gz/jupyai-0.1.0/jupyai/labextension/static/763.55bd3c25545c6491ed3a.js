"use strict";(self.webpackChunkjupyai=self.webpackChunkjupyai||[]).push([[763],{763:(e,o,t)=>{t.r(o),t.d(o,{default:()=>d});var a=t(539),i=t(576),n=t(83),s=t(178),r=t(483),c=t(429);const l=new n.LabIcon({name:"jupyai:wand",svgstr:t(1)}),d={id:"jupyai:plugin",description:"JupyAI is an experimental package to add AI capabilities to JupyterLab.",autoStart:!0,optional:[a.ISettingRegistry],requires:[i.INotebookTracker],activate:(e,o,t)=>{console.log("JupyterLab extension jupyai is activated!");const{commands:a}=e;a.addCommand("jupyai:autocomplete",{icon:l,caption:"Autocomplete with AI",execute:()=>{const e=o.activeCell;if(e){let t,a;o.forEach((e=>{var o;t=null===(o=e.model)||void 0===o?void 0:o.sharedModel.toJSON(),a=null==t?void 0:t.cells.map((e=>({source:e.source,id:e.id})))})),async function(e="",o={}){const t=c.ServerConnection.makeSettings(),a=r.URLExt.join(t.baseUrl,"jupyai",e);let i;try{i=await c.ServerConnection.makeRequest(a,o,t)}catch(e){throw new c.ServerConnection.NetworkError(e)}let n=await i.text();if(n.length>0)try{n=JSON.parse(n)}catch(e){console.log("Not a JSON response body.",i)}if(!i.ok)throw new c.ServerConnection.ResponseError(i,n.message||n);return n}("autocomplete",{body:JSON.stringify({cell:e.model.sharedModel.toJSON(),sources:a}),method:"POST"}).then((o=>{e.model.sharedModel.source=o.data})).catch((e=>{s.Notification.error(e.message,{autoClose:3e3})}))}},isVisible:()=>{var e;return"code"===(null===(e=o.activeCell)||void 0===e?void 0:e.model.type)}})}}},1:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512">\x3c!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--\x3e<path opacity="1" fill="#1E3050" d="M14.1 463.3c-18.7-18.7-18.7-49.1 0-67.9L395.4 14.1c18.7-18.7 49.1-18.7 67.9 0l34.6 34.6c18.7 18.7 18.7 49.1 0 67.9L116.5 497.9c-18.7 18.7-49.1 18.7-67.9 0L14.1 463.3zM347.6 187.6l105-105L429.4 59.3l-105 105 23.3 23.3z"/></svg>'}}]);