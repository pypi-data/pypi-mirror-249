/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
export const id = "src_common_navigate_ts-src_data_context_ts-src_data_entity_registry_ts";
export const ids = ["src_common_navigate_ts-src_data_context_ts-src_data_entity_registry_ts"];
export const modules = {

/***/ "./src/common/dom/ancestors-with-property.ts":
/*!***************************************************!*\
  !*** ./src/common/dom/ancestors-with-property.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ancestorsWithProperty: () => (/* binding */ ancestorsWithProperty),\n/* harmony export */   closestWithProperty: () => (/* binding */ closestWithProperty)\n/* harmony export */ });\nconst DEFAULT_OWN = true;\n\n// Finds the closest ancestor of an element that has a specific optionally owned property,\n// traversing slot and shadow root boundaries until the body element is reached\nconst closestWithProperty = (element, property, own = DEFAULT_OWN) => {\n  var _element$assignedSlot;\n  if (!element || element === document.body) return null;\n  element = (_element$assignedSlot = element.assignedSlot) !== null && _element$assignedSlot !== void 0 ? _element$assignedSlot : element;\n  if (element.parentElement) {\n    element = element.parentElement;\n  } else {\n    const root = element.getRootNode();\n    element = root instanceof ShadowRoot ? root.host : null;\n  }\n  if (own ? Object.prototype.hasOwnProperty.call(element, property) : element && property in element) return element;\n  return closestWithProperty(element, property, own);\n};\n\n// Finds the set of all such ancestors and includes starting element as first in the set\nconst ancestorsWithProperty = (element, property, own = DEFAULT_OWN) => {\n  const ancestors = new Set();\n  while (element) {\n    ancestors.add(element);\n    element = closestWithProperty(element, property, own);\n  }\n  return ancestors;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2RvbS9hbmNlc3RvcnMtd2l0aC1wcm9wZXJ0eS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTs7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21tb24vZG9tL2FuY2VzdG9ycy13aXRoLXByb3BlcnR5LnRzPzc4ODMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgREVGQVVMVF9PV04gPSB0cnVlO1xuXG4vLyBGaW5kcyB0aGUgY2xvc2VzdCBhbmNlc3RvciBvZiBhbiBlbGVtZW50IHRoYXQgaGFzIGEgc3BlY2lmaWMgb3B0aW9uYWxseSBvd25lZCBwcm9wZXJ0eSxcbi8vIHRyYXZlcnNpbmcgc2xvdCBhbmQgc2hhZG93IHJvb3QgYm91bmRhcmllcyB1bnRpbCB0aGUgYm9keSBlbGVtZW50IGlzIHJlYWNoZWRcbmV4cG9ydCBjb25zdCBjbG9zZXN0V2l0aFByb3BlcnR5ID0gKFxuICBlbGVtZW50OiBFbGVtZW50IHwgbnVsbCxcbiAgcHJvcGVydHk6IHN0cmluZyB8IHN5bWJvbCxcbiAgb3duID0gREVGQVVMVF9PV05cbikgPT4ge1xuICBpZiAoIWVsZW1lbnQgfHwgZWxlbWVudCA9PT0gZG9jdW1lbnQuYm9keSkgcmV0dXJuIG51bGw7XG5cbiAgZWxlbWVudCA9IGVsZW1lbnQuYXNzaWduZWRTbG90ID8/IGVsZW1lbnQ7XG4gIGlmIChlbGVtZW50LnBhcmVudEVsZW1lbnQpIHtcbiAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHJvb3QgPSBlbGVtZW50LmdldFJvb3ROb2RlKCk7XG4gICAgZWxlbWVudCA9IHJvb3QgaW5zdGFuY2VvZiBTaGFkb3dSb290ID8gcm9vdC5ob3N0IDogbnVsbDtcbiAgfVxuXG4gIGlmIChcbiAgICBvd25cbiAgICAgID8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGVsZW1lbnQsIHByb3BlcnR5KVxuICAgICAgOiBlbGVtZW50ICYmIHByb3BlcnR5IGluIGVsZW1lbnRcbiAgKVxuICAgIHJldHVybiBlbGVtZW50O1xuICByZXR1cm4gY2xvc2VzdFdpdGhQcm9wZXJ0eShlbGVtZW50LCBwcm9wZXJ0eSwgb3duKTtcbn07XG5cbi8vIEZpbmRzIHRoZSBzZXQgb2YgYWxsIHN1Y2ggYW5jZXN0b3JzIGFuZCBpbmNsdWRlcyBzdGFydGluZyBlbGVtZW50IGFzIGZpcnN0IGluIHRoZSBzZXRcbmV4cG9ydCBjb25zdCBhbmNlc3RvcnNXaXRoUHJvcGVydHkgPSAoXG4gIGVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsLFxuICBwcm9wZXJ0eTogc3RyaW5nIHwgc3ltYm9sLFxuICBvd24gPSBERUZBVUxUX09XTlxuKSA9PiB7XG4gIGNvbnN0IGFuY2VzdG9yczogU2V0PEVsZW1lbnQ+ID0gbmV3IFNldCgpO1xuICB3aGlsZSAoZWxlbWVudCkge1xuICAgIGFuY2VzdG9ycy5hZGQoZWxlbWVudCk7XG4gICAgZWxlbWVudCA9IGNsb3Nlc3RXaXRoUHJvcGVydHkoZWxlbWVudCwgcHJvcGVydHksIG93bik7XG4gIH1cbiAgcmV0dXJuIGFuY2VzdG9ycztcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common/dom/ancestors-with-property.ts\n");

/***/ }),

/***/ "./src/common/dom/deep-active-element.ts":
/*!***********************************************!*\
  !*** ./src/common/dom/deep-active-element.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deepActiveElement: () => (/* binding */ deepActiveElement)\n/* harmony export */ });\nconst deepActiveElement = (root = document) => {\n  var _root$activeElement;\n  if ((_root$activeElement = root.activeElement) !== null && _root$activeElement !== void 0 && (_root$activeElement = _root$activeElement.shadowRoot) !== null && _root$activeElement !== void 0 && _root$activeElement.activeElement) {\n    return deepActiveElement(root.activeElement.shadowRoot);\n  }\n  return root.activeElement;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2RvbS9kZWVwLWFjdGl2ZS1lbGVtZW50LnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbW1vbi9kb20vZGVlcC1hY3RpdmUtZWxlbWVudC50cz9mNjM0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBkZWVwQWN0aXZlRWxlbWVudCA9IChcbiAgcm9vdDogRG9jdW1lbnRPclNoYWRvd1Jvb3QgPSBkb2N1bWVudFxuKTogRWxlbWVudCB8IG51bGwgPT4ge1xuICBpZiAocm9vdC5hY3RpdmVFbGVtZW50Py5zaGFkb3dSb290Py5hY3RpdmVFbGVtZW50KSB7XG4gICAgcmV0dXJuIGRlZXBBY3RpdmVFbGVtZW50KHJvb3QuYWN0aXZlRWxlbWVudC5zaGFkb3dSb290KTtcbiAgfVxuICByZXR1cm4gcm9vdC5hY3RpdmVFbGVtZW50O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/dom/deep-active-element.ts\n");

/***/ }),

/***/ "./src/common/navigate.ts":
/*!********************************!*\
  !*** ./src/common/navigate.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   navigate: () => (/* binding */ navigate)\n/* harmony export */ });\n/* harmony import */ var _state_url_sync_mixin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../state/url-sync-mixin */ \"./src/state/url-sync-mixin.ts\");\n/* harmony import */ var _dom_fire_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _dom_get_main_window__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dom/get_main_window */ \"./src/common/dom/get_main_window.ts\");\n\n\n\nconst navigate = (path, options) => {\n  const replace = (options === null || options === void 0 ? void 0 : options.replace) || false;\n  if (_state_url_sync_mixin__WEBPACK_IMPORTED_MODULE_0__.historyPromise) {\n    _state_url_sync_mixin__WEBPACK_IMPORTED_MODULE_0__.historyPromise.then(() => navigate(path, options));\n    return;\n  }\n  if (false) { var _mainWindow$history$s; } else if (replace) {\n    var _mainWindow$history$s2;\n    _dom_get_main_window__WEBPACK_IMPORTED_MODULE_2__.mainWindow.history.replaceState((_mainWindow$history$s2 = _dom_get_main_window__WEBPACK_IMPORTED_MODULE_2__.mainWindow.history.state) !== null && _mainWindow$history$s2 !== void 0 && _mainWindow$history$s2.root ? {\n      root: true\n    } : null, \"\", path);\n  } else {\n    _dom_get_main_window__WEBPACK_IMPORTED_MODULE_2__.mainWindow.history.pushState(null, \"\", path);\n  }\n  (0,_dom_fire_event__WEBPACK_IMPORTED_MODULE_1__.fireEvent)(_dom_get_main_window__WEBPACK_IMPORTED_MODULE_2__.mainWindow, \"location-changed\", {\n    replace\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL25hdmlnYXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFhQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVVBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21tb24vbmF2aWdhdGUudHM/YzVhZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoaXN0b3J5UHJvbWlzZSB9IGZyb20gXCIuLi9zdGF0ZS91cmwtc3luYy1taXhpblwiO1xuaW1wb3J0IHsgZmlyZUV2ZW50IH0gZnJvbSBcIi4vZG9tL2ZpcmVfZXZlbnRcIjtcbmltcG9ydCB7IG1haW5XaW5kb3cgfSBmcm9tIFwiLi9kb20vZ2V0X21haW5fd2luZG93XCI7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgLy8gZm9yIGZpcmUgZXZlbnRcbiAgaW50ZXJmYWNlIEhBU1NEb21FdmVudHMge1xuICAgIFwibG9jYXRpb24tY2hhbmdlZFwiOiBOYXZpZ2F0ZU9wdGlvbnM7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBOYXZpZ2F0ZU9wdGlvbnMge1xuICByZXBsYWNlPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IG5hdmlnYXRlID0gKHBhdGg6IHN0cmluZywgb3B0aW9ucz86IE5hdmlnYXRlT3B0aW9ucykgPT4ge1xuICBjb25zdCByZXBsYWNlID0gb3B0aW9ucz8ucmVwbGFjZSB8fCBmYWxzZTtcblxuICBpZiAoaGlzdG9yeVByb21pc2UpIHtcbiAgICBoaXN0b3J5UHJvbWlzZS50aGVuKCgpID0+IG5hdmlnYXRlKHBhdGgsIG9wdGlvbnMpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoX19ERU1PX18pIHtcbiAgICBpZiAocmVwbGFjZSkge1xuICAgICAgbWFpbldpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShcbiAgICAgICAgbWFpbldpbmRvdy5oaXN0b3J5LnN0YXRlPy5yb290ID8geyByb290OiB0cnVlIH0gOiBudWxsLFxuICAgICAgICBcIlwiLFxuICAgICAgICBgJHttYWluV2luZG93LmxvY2F0aW9uLnBhdGhuYW1lfSMke3BhdGh9YFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWFpbldpbmRvdy5sb2NhdGlvbi5oYXNoID0gcGF0aDtcbiAgICB9XG4gIH0gZWxzZSBpZiAocmVwbGFjZSkge1xuICAgIG1haW5XaW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoXG4gICAgICBtYWluV2luZG93Lmhpc3Rvcnkuc3RhdGU/LnJvb3QgPyB7IHJvb3Q6IHRydWUgfSA6IG51bGwsXG4gICAgICBcIlwiLFxuICAgICAgcGF0aFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgbWFpbldpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBcIlwiLCBwYXRoKTtcbiAgfVxuICBmaXJlRXZlbnQobWFpbldpbmRvdywgXCJsb2NhdGlvbi1jaGFuZ2VkXCIsIHtcbiAgICByZXBsYWNlLFxuICB9KTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common/navigate.ts\n");

/***/ }),

/***/ "./src/common/util/render-status.ts":
/*!******************************************!*\
  !*** ./src/common/util/render-status.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   afterNextRender: () => (/* binding */ afterNextRender),\n/* harmony export */   nextRender: () => (/* binding */ nextRender)\n/* harmony export */ });\nconst afterNextRender = cb => {\n  requestAnimationFrame(() => setTimeout(cb, 0));\n};\nconst nextRender = () => new Promise(resolve => {\n  afterNextRender(resolve);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL3V0aWwvcmVuZGVyLXN0YXR1cy50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbW1vbi91dGlsL3JlbmRlci1zdGF0dXMudHM/MTUwMiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgYWZ0ZXJOZXh0UmVuZGVyID0gKGNiOiAodmFsdWU6IHVua25vd24pID0+IHZvaWQpOiB2b2lkID0+IHtcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHNldFRpbWVvdXQoY2IsIDApKTtcbn07XG5cbmV4cG9ydCBjb25zdCBuZXh0UmVuZGVyID0gKCkgPT5cbiAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBhZnRlck5leHRSZW5kZXIocmVzb2x2ZSk7XG4gIH0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/util/render-status.ts\n");

/***/ }),

/***/ "./src/data/context.ts":
/*!*****************************!*\
  !*** ./src/data/context.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   areasContext: () => (/* binding */ areasContext),\n/* harmony export */   configContext: () => (/* binding */ configContext),\n/* harmony export */   devicesContext: () => (/* binding */ devicesContext),\n/* harmony export */   entitiesContext: () => (/* binding */ entitiesContext),\n/* harmony export */   fullEntitiesContext: () => (/* binding */ fullEntitiesContext),\n/* harmony export */   localeContext: () => (/* binding */ localeContext),\n/* harmony export */   localizeContext: () => (/* binding */ localizeContext),\n/* harmony export */   panelsContext: () => (/* binding */ panelsContext),\n/* harmony export */   selectedThemeContext: () => (/* binding */ selectedThemeContext),\n/* harmony export */   statesContext: () => (/* binding */ statesContext),\n/* harmony export */   themesContext: () => (/* binding */ themesContext),\n/* harmony export */   userContext: () => (/* binding */ userContext),\n/* harmony export */   userDataContext: () => (/* binding */ userDataContext)\n/* harmony export */ });\n/* harmony import */ var _lit_labs_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit-labs/context */ \"./node_modules/@lit-labs/context/development/index.js\");\n\nconst statesContext = (0,_lit_labs_context__WEBPACK_IMPORTED_MODULE_0__.createContext)(\"states\");\nconst entitiesContext = (0,_lit_labs_context__WEBPACK_IMPORTED_MODULE_0__.createContext)(\"entities\");\nconst devicesContext = (0,_lit_labs_context__WEBPACK_IMPORTED_MODULE_0__.createContext)(\"devices\");\nconst areasContext = (0,_lit_labs_context__WEBPACK_IMPORTED_MODULE_0__.createContext)(\"areas\");\nconst localizeContext = (0,_lit_labs_context__WEBPACK_IMPORTED_MODULE_0__.createContext)(\"localize\");\nconst localeContext = (0,_lit_labs_context__WEBPACK_IMPORTED_MODULE_0__.createContext)(\"locale\");\nconst configContext = (0,_lit_labs_context__WEBPACK_IMPORTED_MODULE_0__.createContext)(\"config\");\nconst themesContext = (0,_lit_labs_context__WEBPACK_IMPORTED_MODULE_0__.createContext)(\"themes\");\nconst selectedThemeContext = (0,_lit_labs_context__WEBPACK_IMPORTED_MODULE_0__.createContext)(\"selectedTheme\");\nconst userContext = (0,_lit_labs_context__WEBPACK_IMPORTED_MODULE_0__.createContext)(\"user\");\nconst userDataContext = (0,_lit_labs_context__WEBPACK_IMPORTED_MODULE_0__.createContext)(\"userData\");\nconst panelsContext = (0,_lit_labs_context__WEBPACK_IMPORTED_MODULE_0__.createContext)(\"panels\");\nconst fullEntitiesContext = (0,_lit_labs_context__WEBPACK_IMPORTED_MODULE_0__.createContext)(\"extendedEntities\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9jb250ZXh0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFLQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2RhdGEvY29udGV4dC50cz9iZTgwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tIFwiQGxpdC1sYWJzL2NvbnRleHRcIjtcbmltcG9ydCB7IEhhc3NDb25maWcgfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBFbnRpdHlSZWdpc3RyeUVudHJ5IH0gZnJvbSBcIi4vZW50aXR5X3JlZ2lzdHJ5XCI7XG5cbmV4cG9ydCBjb25zdCBzdGF0ZXNDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxIb21lQXNzaXN0YW50W1wic3RhdGVzXCJdPihcInN0YXRlc1wiKTtcbmV4cG9ydCBjb25zdCBlbnRpdGllc0NvbnRleHQgPVxuICBjcmVhdGVDb250ZXh0PEhvbWVBc3Npc3RhbnRbXCJlbnRpdGllc1wiXT4oXCJlbnRpdGllc1wiKTtcbmV4cG9ydCBjb25zdCBkZXZpY2VzQ29udGV4dCA9XG4gIGNyZWF0ZUNvbnRleHQ8SG9tZUFzc2lzdGFudFtcImRldmljZXNcIl0+KFwiZGV2aWNlc1wiKTtcbmV4cG9ydCBjb25zdCBhcmVhc0NvbnRleHQgPSBjcmVhdGVDb250ZXh0PEhvbWVBc3Npc3RhbnRbXCJhcmVhc1wiXT4oXCJhcmVhc1wiKTtcbmV4cG9ydCBjb25zdCBsb2NhbGl6ZUNvbnRleHQgPVxuICBjcmVhdGVDb250ZXh0PEhvbWVBc3Npc3RhbnRbXCJsb2NhbGl6ZVwiXT4oXCJsb2NhbGl6ZVwiKTtcbmV4cG9ydCBjb25zdCBsb2NhbGVDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxIb21lQXNzaXN0YW50W1wibG9jYWxlXCJdPihcImxvY2FsZVwiKTtcbmV4cG9ydCBjb25zdCBjb25maWdDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxIYXNzQ29uZmlnPihcImNvbmZpZ1wiKTtcbmV4cG9ydCBjb25zdCB0aGVtZXNDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxIb21lQXNzaXN0YW50W1widGhlbWVzXCJdPihcInRoZW1lc1wiKTtcbmV4cG9ydCBjb25zdCBzZWxlY3RlZFRoZW1lQ29udGV4dCA9XG4gIGNyZWF0ZUNvbnRleHQ8SG9tZUFzc2lzdGFudFtcInNlbGVjdGVkVGhlbWVcIl0+KFwic2VsZWN0ZWRUaGVtZVwiKTtcbmV4cG9ydCBjb25zdCB1c2VyQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8SG9tZUFzc2lzdGFudFtcInVzZXJcIl0+KFwidXNlclwiKTtcbmV4cG9ydCBjb25zdCB1c2VyRGF0YUNvbnRleHQgPVxuICBjcmVhdGVDb250ZXh0PEhvbWVBc3Npc3RhbnRbXCJ1c2VyRGF0YVwiXT4oXCJ1c2VyRGF0YVwiKTtcbmV4cG9ydCBjb25zdCBwYW5lbHNDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxIb21lQXNzaXN0YW50W1wicGFuZWxzXCJdPihcInBhbmVsc1wiKTtcblxuZXhwb3J0IGNvbnN0IGZ1bGxFbnRpdGllc0NvbnRleHQgPVxuICBjcmVhdGVDb250ZXh0PEVudGl0eVJlZ2lzdHJ5RW50cnlbXT4oXCJleHRlbmRlZEVudGl0aWVzXCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/context.ts\n");

/***/ }),

/***/ "./src/data/entity_registry.ts":
/*!*************************************!*\
  !*** ./src/data/entity_registry.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeEntityRegistryName: () => (/* binding */ computeEntityRegistryName),\n/* harmony export */   entityRegistryByEntityId: () => (/* binding */ entityRegistryByEntityId),\n/* harmony export */   entityRegistryById: () => (/* binding */ entityRegistryById),\n/* harmony export */   fetchEntityRegistry: () => (/* binding */ fetchEntityRegistry),\n/* harmony export */   fetchEntityRegistryDisplay: () => (/* binding */ fetchEntityRegistryDisplay),\n/* harmony export */   findBatteryChargingEntity: () => (/* binding */ findBatteryChargingEntity),\n/* harmony export */   findBatteryEntity: () => (/* binding */ findBatteryEntity),\n/* harmony export */   getEntityPlatformLookup: () => (/* binding */ getEntityPlatformLookup),\n/* harmony export */   getExtendedEntityRegistryEntries: () => (/* binding */ getExtendedEntityRegistryEntries),\n/* harmony export */   getExtendedEntityRegistryEntry: () => (/* binding */ getExtendedEntityRegistryEntry),\n/* harmony export */   removeEntityRegistryEntry: () => (/* binding */ removeEntityRegistryEntry),\n/* harmony export */   sortEntityRegistryByName: () => (/* binding */ sortEntityRegistryByName),\n/* harmony export */   subscribeEntityRegistry: () => (/* binding */ subscribeEntityRegistry),\n/* harmony export */   subscribeEntityRegistryDisplay: () => (/* binding */ subscribeEntityRegistryDisplay),\n/* harmony export */   updateEntityRegistryEntry: () => (/* binding */ updateEntityRegistryEntry)\n/* harmony export */ });\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var _common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/entity/compute_state_name */ \"./src/common/entity/compute_state_name.ts\");\n/* harmony import */ var _common_string_compare__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/string/compare */ \"./src/common/string/compare.ts\");\n/* harmony import */ var _common_util_debounce__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/util/debounce */ \"./src/common/util/debounce.ts\");\n/* harmony import */ var _common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/entity/compute_domain */ \"./src/common/entity/compute_domain.ts\");\n\n\n\n\n\n\nconst batteryPriorities = [\"sensor\", \"binary_sensor\"];\nconst findBatteryEntity = (hass, entities) => {\n  const batteryEntities = entities.filter(entity => hass.states[entity.entity_id] && hass.states[entity.entity_id].attributes.device_class === \"battery\" && batteryPriorities.includes((0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_3__.computeDomain)(entity.entity_id))).sort((a, b) => batteryPriorities.indexOf((0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_3__.computeDomain)(a.entity_id)) - batteryPriorities.indexOf((0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_3__.computeDomain)(b.entity_id)));\n  if (batteryEntities.length > 0) {\n    return batteryEntities[0];\n  }\n  return undefined;\n};\nconst findBatteryChargingEntity = (hass, entities) => entities.find(entity => hass.states[entity.entity_id] && hass.states[entity.entity_id].attributes.device_class === \"battery_charging\");\nconst computeEntityRegistryName = (hass, entry) => {\n  if (entry.name) {\n    return entry.name;\n  }\n  const state = hass.states[entry.entity_id];\n  if (state) {\n    return (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_0__.computeStateName)(state);\n  }\n  return entry.original_name ? entry.original_name : entry.entity_id;\n};\nconst getExtendedEntityRegistryEntry = (hass, entityId) => hass.callWS({\n  type: \"config/entity_registry/get\",\n  entity_id: entityId\n});\nconst getExtendedEntityRegistryEntries = (hass, entityIds) => hass.callWS({\n  type: \"config/entity_registry/get_entries\",\n  entity_ids: entityIds\n});\nconst updateEntityRegistryEntry = (hass, entityId, updates) => hass.callWS({\n  type: \"config/entity_registry/update\",\n  entity_id: entityId,\n  ...updates\n});\nconst removeEntityRegistryEntry = (hass, entityId) => hass.callWS({\n  type: \"config/entity_registry/remove\",\n  entity_id: entityId\n});\nconst fetchEntityRegistry = conn => conn.sendMessagePromise({\n  type: \"config/entity_registry/list\"\n});\nconst fetchEntityRegistryDisplay = conn => conn.sendMessagePromise({\n  type: \"config/entity_registry/list_for_display\"\n});\nconst subscribeEntityRegistryUpdates = (conn, store) => conn.subscribeEvents((0,_common_util_debounce__WEBPACK_IMPORTED_MODULE_2__.debounce)(() => fetchEntityRegistry(conn).then(entities => store.setState(entities, true)), 500, true), \"entity_registry_updated\");\nconst subscribeEntityRegistry = (conn, onChange) => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_4__.createCollection)(\"_entityRegistry\", fetchEntityRegistry, subscribeEntityRegistryUpdates, conn, onChange);\nconst subscribeEntityRegistryDisplayUpdates = (conn, store) => conn.subscribeEvents((0,_common_util_debounce__WEBPACK_IMPORTED_MODULE_2__.debounce)(() => fetchEntityRegistryDisplay(conn).then(entities => store.setState(entities, true)), 500, true), \"entity_registry_updated\");\nconst subscribeEntityRegistryDisplay = (conn, onChange) => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_4__.createCollection)(\"_entityRegistryDisplay\", fetchEntityRegistryDisplay, subscribeEntityRegistryDisplayUpdates, conn, onChange);\nconst sortEntityRegistryByName = (entries, language) => entries.sort((entry1, entry2) => (0,_common_string_compare__WEBPACK_IMPORTED_MODULE_1__.caseInsensitiveStringCompare)(entry1.name || \"\", entry2.name || \"\", language));\nconst entityRegistryByEntityId = (0,memoize_one__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(entries => {\n  const entities = {};\n  for (const entity of entries) {\n    entities[entity.entity_id] = entity;\n  }\n  return entities;\n});\nconst entityRegistryById = (0,memoize_one__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(entries => {\n  const entities = {};\n  for (const entity of entries) {\n    entities[entity.id] = entity;\n  }\n  return entities;\n});\nconst getEntityPlatformLookup = entities => {\n  const entityLookup = {};\n  for (const confEnt of entities) {\n    if (!confEnt.platform) {\n      continue;\n    }\n    entityLookup[confEnt.entity_id] = confEnt.platform;\n  }\n  return entityLookup;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9lbnRpdHlfcmVnaXN0cnkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBNEhBO0FBQ0E7QUFJQTtBQVlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQVdBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBZ0JBO0FBWUE7QUFnQkE7QUFZQTtBQVFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2RhdGEvZW50aXR5X3JlZ2lzdHJ5LnRzP2FlNzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29ubmVjdGlvbiwgY3JlYXRlQ29sbGVjdGlvbiB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXRcIjtcbmltcG9ydCB7IFN0b3JlIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldC9kaXN0L3N0b3JlXCI7XG5pbXBvcnQgbWVtb2l6ZU9uZSBmcm9tIFwibWVtb2l6ZS1vbmVcIjtcbmltcG9ydCB7IGNvbXB1dGVTdGF0ZU5hbWUgfSBmcm9tIFwiLi4vY29tbW9uL2VudGl0eS9jb21wdXRlX3N0YXRlX25hbWVcIjtcbmltcG9ydCB7IGNhc2VJbnNlbnNpdGl2ZVN0cmluZ0NvbXBhcmUgfSBmcm9tIFwiLi4vY29tbW9uL3N0cmluZy9jb21wYXJlXCI7XG5pbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gXCIuLi9jb21tb24vdXRpbC9kZWJvdW5jZVwiO1xuaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgTGlnaHRDb2xvciB9IGZyb20gXCIuL2xpZ2h0XCI7XG5pbXBvcnQgeyBjb21wdXRlRG9tYWluIH0gZnJvbSBcIi4uL2NvbW1vbi9lbnRpdHkvY29tcHV0ZV9kb21haW5cIjtcblxudHlwZSBlbnRpdHlDYXRlZ29yeSA9IFwiY29uZmlnXCIgfCBcImRpYWdub3N0aWNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBFbnRpdHlSZWdpc3RyeURpc3BsYXlFbnRyeSB7XG4gIGVudGl0eV9pZDogc3RyaW5nO1xuICBuYW1lPzogc3RyaW5nO1xuICBkZXZpY2VfaWQ/OiBzdHJpbmc7XG4gIGFyZWFfaWQ/OiBzdHJpbmc7XG4gIGhpZGRlbj86IGJvb2xlYW47XG4gIGVudGl0eV9jYXRlZ29yeT86IGVudGl0eUNhdGVnb3J5O1xuICB0cmFuc2xhdGlvbl9rZXk/OiBzdHJpbmc7XG4gIHBsYXRmb3JtPzogc3RyaW5nO1xuICBkaXNwbGF5X3ByZWNpc2lvbj86IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIEVudGl0eVJlZ2lzdHJ5RGlzcGxheUVudHJ5UmVzcG9uc2Uge1xuICBlbnRpdGllczoge1xuICAgIGVpOiBzdHJpbmc7XG4gICAgZGk/OiBzdHJpbmc7XG4gICAgYWk/OiBzdHJpbmc7XG4gICAgZWM/OiBudW1iZXI7XG4gICAgZW4/OiBzdHJpbmc7XG4gICAgcGw/OiBzdHJpbmc7XG4gICAgdGs/OiBzdHJpbmc7XG4gICAgaGI/OiBib29sZWFuO1xuICAgIGRwPzogbnVtYmVyO1xuICB9W107XG4gIGVudGl0eV9jYXRlZ29yaWVzOiBSZWNvcmQ8bnVtYmVyLCBlbnRpdHlDYXRlZ29yeT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW50aXR5UmVnaXN0cnlFbnRyeSB7XG4gIGlkOiBzdHJpbmc7XG4gIGVudGl0eV9pZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmcgfCBudWxsO1xuICBpY29uOiBzdHJpbmcgfCBudWxsO1xuICBwbGF0Zm9ybTogc3RyaW5nO1xuICBjb25maWdfZW50cnlfaWQ6IHN0cmluZyB8IG51bGw7XG4gIGRldmljZV9pZDogc3RyaW5nIHwgbnVsbDtcbiAgYXJlYV9pZDogc3RyaW5nIHwgbnVsbDtcbiAgZGlzYWJsZWRfYnk6IFwidXNlclwiIHwgXCJkZXZpY2VcIiB8IFwiaW50ZWdyYXRpb25cIiB8IFwiY29uZmlnX2VudHJ5XCIgfCBudWxsO1xuICBoaWRkZW5fYnk6IEV4Y2x1ZGU8RW50aXR5UmVnaXN0cnlFbnRyeVtcImRpc2FibGVkX2J5XCJdLCBcImNvbmZpZ19lbnRyeVwiPjtcbiAgZW50aXR5X2NhdGVnb3J5OiBlbnRpdHlDYXRlZ29yeSB8IG51bGw7XG4gIGhhc19lbnRpdHlfbmFtZTogYm9vbGVhbjtcbiAgb3JpZ2luYWxfbmFtZT86IHN0cmluZztcbiAgdW5pcXVlX2lkOiBzdHJpbmc7XG4gIHRyYW5zbGF0aW9uX2tleT86IHN0cmluZztcbiAgb3B0aW9uczogRW50aXR5UmVnaXN0cnlPcHRpb25zIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFeHRFbnRpdHlSZWdpc3RyeUVudHJ5IGV4dGVuZHMgRW50aXR5UmVnaXN0cnlFbnRyeSB7XG4gIGNhcGFiaWxpdGllczogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIG9yaWdpbmFsX2ljb24/OiBzdHJpbmc7XG4gIGRldmljZV9jbGFzcz86IHN0cmluZztcbiAgb3JpZ2luYWxfZGV2aWNlX2NsYXNzPzogc3RyaW5nO1xuICBhbGlhc2VzOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVFbnRpdHlSZWdpc3RyeUVudHJ5UmVzdWx0IHtcbiAgZW50aXR5X2VudHJ5OiBFeHRFbnRpdHlSZWdpc3RyeUVudHJ5O1xuICByZWxvYWRfZGVsYXk/OiBudW1iZXI7XG4gIHJlcXVpcmVfcmVzdGFydD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Vuc29yRW50aXR5T3B0aW9ucyB7XG4gIGRpc3BsYXlfcHJlY2lzaW9uPzogbnVtYmVyIHwgbnVsbDtcbiAgc3VnZ2VzdGVkX2Rpc3BsYXlfcHJlY2lzaW9uPzogbnVtYmVyIHwgbnVsbDtcbiAgdW5pdF9vZl9tZWFzdXJlbWVudD86IHN0cmluZyB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGlnaHRFbnRpdHlPcHRpb25zIHtcbiAgZmF2b3JpdGVfY29sb3JzPzogTGlnaHRDb2xvcltdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE51bWJlckVudGl0eU9wdGlvbnMge1xuICB1bml0X29mX21lYXN1cmVtZW50Pzogc3RyaW5nIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2NrRW50aXR5T3B0aW9ucyB7XG4gIGRlZmF1bHRfY29kZT86IHN0cmluZyB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2VhdGhlckVudGl0eU9wdGlvbnMge1xuICBwcmVjaXBpdGF0aW9uX3VuaXQ/OiBzdHJpbmcgfCBudWxsO1xuICBwcmVzc3VyZV91bml0Pzogc3RyaW5nIHwgbnVsbDtcbiAgdGVtcGVyYXR1cmVfdW5pdD86IHN0cmluZyB8IG51bGw7XG4gIHZpc2liaWxpdHlfdW5pdD86IHN0cmluZyB8IG51bGw7XG4gIHdpbmRfc3BlZWRfdW5pdD86IHN0cmluZyB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3dpdGNoQXNYRW50aXR5T3B0aW9ucyB7XG4gIGVudGl0eV9pZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVudGl0eVJlZ2lzdHJ5T3B0aW9ucyB7XG4gIG51bWJlcj86IE51bWJlckVudGl0eU9wdGlvbnM7XG4gIHNlbnNvcj86IFNlbnNvckVudGl0eU9wdGlvbnM7XG4gIGxvY2s/OiBMb2NrRW50aXR5T3B0aW9ucztcbiAgd2VhdGhlcj86IFdlYXRoZXJFbnRpdHlPcHRpb25zO1xuICBsaWdodD86IExpZ2h0RW50aXR5T3B0aW9ucztcbiAgc3dpdGNoX2FzX3g/OiBTd2l0Y2hBc1hFbnRpdHlPcHRpb25zO1xuICBjb252ZXJzYXRpb24/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgXCJjbG91ZC5hbGV4YVwiPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIFwiY2xvdWQuZ29vZ2xlX2Fzc2lzdGFudFwiPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW50aXR5UmVnaXN0cnlFbnRyeVVwZGF0ZVBhcmFtcyB7XG4gIG5hbWU/OiBzdHJpbmcgfCBudWxsO1xuICBpY29uPzogc3RyaW5nIHwgbnVsbDtcbiAgZGV2aWNlX2NsYXNzPzogc3RyaW5nIHwgbnVsbDtcbiAgYXJlYV9pZD86IHN0cmluZyB8IG51bGw7XG4gIGRpc2FibGVkX2J5Pzogc3RyaW5nIHwgbnVsbDtcbiAgaGlkZGVuX2J5OiBzdHJpbmcgfCBudWxsO1xuICBuZXdfZW50aXR5X2lkPzogc3RyaW5nO1xuICBvcHRpb25zX2RvbWFpbj86IHN0cmluZztcbiAgb3B0aW9ucz86XG4gICAgfCBTZW5zb3JFbnRpdHlPcHRpb25zXG4gICAgfCBOdW1iZXJFbnRpdHlPcHRpb25zXG4gICAgfCBMb2NrRW50aXR5T3B0aW9uc1xuICAgIHwgV2VhdGhlckVudGl0eU9wdGlvbnNcbiAgICB8IExpZ2h0RW50aXR5T3B0aW9ucztcbiAgYWxpYXNlcz86IHN0cmluZ1tdO1xufVxuXG5jb25zdCBiYXR0ZXJ5UHJpb3JpdGllcyA9IFtcInNlbnNvclwiLCBcImJpbmFyeV9zZW5zb3JcIl07XG5leHBvcnQgY29uc3QgZmluZEJhdHRlcnlFbnRpdHkgPSA8VCBleHRlbmRzIHsgZW50aXR5X2lkOiBzdHJpbmcgfT4oXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGVudGl0aWVzOiBUW11cbik6IFQgfCB1bmRlZmluZWQgPT4ge1xuICBjb25zdCBiYXR0ZXJ5RW50aXRpZXMgPSBlbnRpdGllc1xuICAgIC5maWx0ZXIoXG4gICAgICAoZW50aXR5KSA9PlxuICAgICAgICBoYXNzLnN0YXRlc1tlbnRpdHkuZW50aXR5X2lkXSAmJlxuICAgICAgICBoYXNzLnN0YXRlc1tlbnRpdHkuZW50aXR5X2lkXS5hdHRyaWJ1dGVzLmRldmljZV9jbGFzcyA9PT0gXCJiYXR0ZXJ5XCIgJiZcbiAgICAgICAgYmF0dGVyeVByaW9yaXRpZXMuaW5jbHVkZXMoY29tcHV0ZURvbWFpbihlbnRpdHkuZW50aXR5X2lkKSlcbiAgICApXG4gICAgLnNvcnQoXG4gICAgICAoYSwgYikgPT5cbiAgICAgICAgYmF0dGVyeVByaW9yaXRpZXMuaW5kZXhPZihjb21wdXRlRG9tYWluKGEuZW50aXR5X2lkKSkgLVxuICAgICAgICBiYXR0ZXJ5UHJpb3JpdGllcy5pbmRleE9mKGNvbXB1dGVEb21haW4oYi5lbnRpdHlfaWQpKVxuICAgICk7XG4gIGlmIChiYXR0ZXJ5RW50aXRpZXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBiYXR0ZXJ5RW50aXRpZXNbMF07XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IGZpbmRCYXR0ZXJ5Q2hhcmdpbmdFbnRpdHkgPSA8VCBleHRlbmRzIHsgZW50aXR5X2lkOiBzdHJpbmcgfT4oXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGVudGl0aWVzOiBUW11cbik6IFQgfCB1bmRlZmluZWQgPT5cbiAgZW50aXRpZXMuZmluZChcbiAgICAoZW50aXR5KSA9PlxuICAgICAgaGFzcy5zdGF0ZXNbZW50aXR5LmVudGl0eV9pZF0gJiZcbiAgICAgIGhhc3Muc3RhdGVzW2VudGl0eS5lbnRpdHlfaWRdLmF0dHJpYnV0ZXMuZGV2aWNlX2NsYXNzID09PVxuICAgICAgICBcImJhdHRlcnlfY2hhcmdpbmdcIlxuICApO1xuXG5leHBvcnQgY29uc3QgY29tcHV0ZUVudGl0eVJlZ2lzdHJ5TmFtZSA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgZW50cnk6IEVudGl0eVJlZ2lzdHJ5RW50cnlcbik6IHN0cmluZyB8IG51bGwgPT4ge1xuICBpZiAoZW50cnkubmFtZSkge1xuICAgIHJldHVybiBlbnRyeS5uYW1lO1xuICB9XG4gIGNvbnN0IHN0YXRlID0gaGFzcy5zdGF0ZXNbZW50cnkuZW50aXR5X2lkXTtcbiAgaWYgKHN0YXRlKSB7XG4gICAgcmV0dXJuIGNvbXB1dGVTdGF0ZU5hbWUoc3RhdGUpO1xuICB9XG4gIHJldHVybiBlbnRyeS5vcmlnaW5hbF9uYW1lID8gZW50cnkub3JpZ2luYWxfbmFtZSA6IGVudHJ5LmVudGl0eV9pZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRFeHRlbmRlZEVudGl0eVJlZ2lzdHJ5RW50cnkgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGVudGl0eUlkOiBzdHJpbmdcbik6IFByb21pc2U8RXh0RW50aXR5UmVnaXN0cnlFbnRyeT4gPT5cbiAgaGFzcy5jYWxsV1Moe1xuICAgIHR5cGU6IFwiY29uZmlnL2VudGl0eV9yZWdpc3RyeS9nZXRcIixcbiAgICBlbnRpdHlfaWQ6IGVudGl0eUlkLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IGdldEV4dGVuZGVkRW50aXR5UmVnaXN0cnlFbnRyaWVzID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBlbnRpdHlJZHM6IHN0cmluZ1tdXG4pOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIEV4dEVudGl0eVJlZ2lzdHJ5RW50cnk+PiA9PlxuICBoYXNzLmNhbGxXUyh7XG4gICAgdHlwZTogXCJjb25maWcvZW50aXR5X3JlZ2lzdHJ5L2dldF9lbnRyaWVzXCIsXG4gICAgZW50aXR5X2lkczogZW50aXR5SWRzLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUVudGl0eVJlZ2lzdHJ5RW50cnkgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGVudGl0eUlkOiBzdHJpbmcsXG4gIHVwZGF0ZXM6IFBhcnRpYWw8RW50aXR5UmVnaXN0cnlFbnRyeVVwZGF0ZVBhcmFtcz5cbik6IFByb21pc2U8VXBkYXRlRW50aXR5UmVnaXN0cnlFbnRyeVJlc3VsdD4gPT5cbiAgaGFzcy5jYWxsV1Moe1xuICAgIHR5cGU6IFwiY29uZmlnL2VudGl0eV9yZWdpc3RyeS91cGRhdGVcIixcbiAgICBlbnRpdHlfaWQ6IGVudGl0eUlkLFxuICAgIC4uLnVwZGF0ZXMsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlRW50aXR5UmVnaXN0cnlFbnRyeSA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgZW50aXR5SWQ6IHN0cmluZ1xuKTogUHJvbWlzZTx2b2lkPiA9PlxuICBoYXNzLmNhbGxXUyh7XG4gICAgdHlwZTogXCJjb25maWcvZW50aXR5X3JlZ2lzdHJ5L3JlbW92ZVwiLFxuICAgIGVudGl0eV9pZDogZW50aXR5SWQsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgZmV0Y2hFbnRpdHlSZWdpc3RyeSA9IChjb25uOiBDb25uZWN0aW9uKSA9PlxuICBjb25uLnNlbmRNZXNzYWdlUHJvbWlzZTxFbnRpdHlSZWdpc3RyeUVudHJ5W10+KHtcbiAgICB0eXBlOiBcImNvbmZpZy9lbnRpdHlfcmVnaXN0cnkvbGlzdFwiLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IGZldGNoRW50aXR5UmVnaXN0cnlEaXNwbGF5ID0gKGNvbm46IENvbm5lY3Rpb24pID0+XG4gIGNvbm4uc2VuZE1lc3NhZ2VQcm9taXNlPEVudGl0eVJlZ2lzdHJ5RGlzcGxheUVudHJ5UmVzcG9uc2U+KHtcbiAgICB0eXBlOiBcImNvbmZpZy9lbnRpdHlfcmVnaXN0cnkvbGlzdF9mb3JfZGlzcGxheVwiLFxuICB9KTtcblxuY29uc3Qgc3Vic2NyaWJlRW50aXR5UmVnaXN0cnlVcGRhdGVzID0gKFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBzdG9yZTogU3RvcmU8RW50aXR5UmVnaXN0cnlFbnRyeVtdPlxuKSA9PlxuICBjb25uLnN1YnNjcmliZUV2ZW50cyhcbiAgICBkZWJvdW5jZShcbiAgICAgICgpID0+XG4gICAgICAgIGZldGNoRW50aXR5UmVnaXN0cnkoY29ubikudGhlbigoZW50aXRpZXMpID0+XG4gICAgICAgICAgc3RvcmUuc2V0U3RhdGUoZW50aXRpZXMsIHRydWUpXG4gICAgICAgICksXG4gICAgICA1MDAsXG4gICAgICB0cnVlXG4gICAgKSxcbiAgICBcImVudGl0eV9yZWdpc3RyeV91cGRhdGVkXCJcbiAgKTtcblxuZXhwb3J0IGNvbnN0IHN1YnNjcmliZUVudGl0eVJlZ2lzdHJ5ID0gKFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBvbkNoYW5nZTogKGVudGl0aWVzOiBFbnRpdHlSZWdpc3RyeUVudHJ5W10pID0+IHZvaWRcbikgPT5cbiAgY3JlYXRlQ29sbGVjdGlvbjxFbnRpdHlSZWdpc3RyeUVudHJ5W10+KFxuICAgIFwiX2VudGl0eVJlZ2lzdHJ5XCIsXG4gICAgZmV0Y2hFbnRpdHlSZWdpc3RyeSxcbiAgICBzdWJzY3JpYmVFbnRpdHlSZWdpc3RyeVVwZGF0ZXMsXG4gICAgY29ubixcbiAgICBvbkNoYW5nZVxuICApO1xuXG5jb25zdCBzdWJzY3JpYmVFbnRpdHlSZWdpc3RyeURpc3BsYXlVcGRhdGVzID0gKFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBzdG9yZTogU3RvcmU8RW50aXR5UmVnaXN0cnlEaXNwbGF5RW50cnlSZXNwb25zZT5cbikgPT5cbiAgY29ubi5zdWJzY3JpYmVFdmVudHMoXG4gICAgZGVib3VuY2UoXG4gICAgICAoKSA9PlxuICAgICAgICBmZXRjaEVudGl0eVJlZ2lzdHJ5RGlzcGxheShjb25uKS50aGVuKChlbnRpdGllcykgPT5cbiAgICAgICAgICBzdG9yZS5zZXRTdGF0ZShlbnRpdGllcywgdHJ1ZSlcbiAgICAgICAgKSxcbiAgICAgIDUwMCxcbiAgICAgIHRydWVcbiAgICApLFxuICAgIFwiZW50aXR5X3JlZ2lzdHJ5X3VwZGF0ZWRcIlxuICApO1xuXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlRW50aXR5UmVnaXN0cnlEaXNwbGF5ID0gKFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBvbkNoYW5nZTogKGVudGl0aWVzOiBFbnRpdHlSZWdpc3RyeURpc3BsYXlFbnRyeVJlc3BvbnNlKSA9PiB2b2lkXG4pID0+XG4gIGNyZWF0ZUNvbGxlY3Rpb248RW50aXR5UmVnaXN0cnlEaXNwbGF5RW50cnlSZXNwb25zZT4oXG4gICAgXCJfZW50aXR5UmVnaXN0cnlEaXNwbGF5XCIsXG4gICAgZmV0Y2hFbnRpdHlSZWdpc3RyeURpc3BsYXksXG4gICAgc3Vic2NyaWJlRW50aXR5UmVnaXN0cnlEaXNwbGF5VXBkYXRlcyxcbiAgICBjb25uLFxuICAgIG9uQ2hhbmdlXG4gICk7XG5cbmV4cG9ydCBjb25zdCBzb3J0RW50aXR5UmVnaXN0cnlCeU5hbWUgPSAoXG4gIGVudHJpZXM6IEVudGl0eVJlZ2lzdHJ5RW50cnlbXSxcbiAgbGFuZ3VhZ2U6IHN0cmluZ1xuKSA9PlxuICBlbnRyaWVzLnNvcnQoKGVudHJ5MSwgZW50cnkyKSA9PlxuICAgIGNhc2VJbnNlbnNpdGl2ZVN0cmluZ0NvbXBhcmUoZW50cnkxLm5hbWUgfHwgXCJcIiwgZW50cnkyLm5hbWUgfHwgXCJcIiwgbGFuZ3VhZ2UpXG4gICk7XG5cbmV4cG9ydCBjb25zdCBlbnRpdHlSZWdpc3RyeUJ5RW50aXR5SWQgPSBtZW1vaXplT25lKFxuICAoZW50cmllczogRW50aXR5UmVnaXN0cnlFbnRyeVtdKSA9PiB7XG4gICAgY29uc3QgZW50aXRpZXM6IFJlY29yZDxzdHJpbmcsIEVudGl0eVJlZ2lzdHJ5RW50cnk+ID0ge307XG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgZW50cmllcykge1xuICAgICAgZW50aXRpZXNbZW50aXR5LmVudGl0eV9pZF0gPSBlbnRpdHk7XG4gICAgfVxuICAgIHJldHVybiBlbnRpdGllcztcbiAgfVxuKTtcblxuZXhwb3J0IGNvbnN0IGVudGl0eVJlZ2lzdHJ5QnlJZCA9IG1lbW9pemVPbmUoXG4gIChlbnRyaWVzOiBFbnRpdHlSZWdpc3RyeUVudHJ5W10pID0+IHtcbiAgICBjb25zdCBlbnRpdGllczogUmVjb3JkPHN0cmluZywgRW50aXR5UmVnaXN0cnlFbnRyeT4gPSB7fTtcbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBlbnRyaWVzKSB7XG4gICAgICBlbnRpdGllc1tlbnRpdHkuaWRdID0gZW50aXR5O1xuICAgIH1cbiAgICByZXR1cm4gZW50aXRpZXM7XG4gIH1cbik7XG5cbmV4cG9ydCBjb25zdCBnZXRFbnRpdHlQbGF0Zm9ybUxvb2t1cCA9IChcbiAgZW50aXRpZXM6IEVudGl0eVJlZ2lzdHJ5RW50cnlbXVxuKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9PiB7XG4gIGNvbnN0IGVudGl0eUxvb2t1cCA9IHt9O1xuICBmb3IgKGNvbnN0IGNvbmZFbnQgb2YgZW50aXRpZXMpIHtcbiAgICBpZiAoIWNvbmZFbnQucGxhdGZvcm0pIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBlbnRpdHlMb29rdXBbY29uZkVudC5lbnRpdHlfaWRdID0gY29uZkVudC5wbGF0Zm9ybTtcbiAgfVxuICByZXR1cm4gZW50aXR5TG9va3VwO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/data/entity_registry.ts\n");

/***/ }),

/***/ "./src/dialogs/make-dialog-manager.ts":
/*!********************************************!*\
  !*** ./src/dialogs/make-dialog-manager.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FOCUS_TARGET: () => (/* binding */ FOCUS_TARGET),\n/* harmony export */   closeDialog: () => (/* binding */ closeDialog),\n/* harmony export */   makeDialogManager: () => (/* binding */ makeDialogManager),\n/* harmony export */   replaceDialog: () => (/* binding */ replaceDialog),\n/* harmony export */   showDialog: () => (/* binding */ showDialog)\n/* harmony export */ });\n/* harmony import */ var _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/dom/get_main_window */ \"./src/common/dom/get_main_window.ts\");\n/* harmony import */ var _common_dom_ancestors_with_property__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/dom/ancestors-with-property */ \"./src/common/dom/ancestors-with-property.ts\");\n/* harmony import */ var _common_dom_deep_active_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/dom/deep-active-element */ \"./src/common/dom/deep-active-element.ts\");\n/* harmony import */ var _common_util_render_status__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/util/render-status */ \"./src/common/util/render-status.ts\");\n\n\n\n\nconst LOADED = {};\nconst FOCUS_TARGET = Symbol.for(\"HA focus target\");\nconst showDialog = async (element, root, dialogTag, dialogParams, dialogImport, addHistory = true) => {\n  var _mainWindow$history$s;\n  if (!(dialogTag in LOADED)) {\n    if (!dialogImport) {\n      if (true) {\n        // eslint-disable-next-line\n        console.warn(\"Asked to show dialog that's not loaded and can't be imported\");\n      }\n      return false;\n    }\n    LOADED[dialogTag] = {\n      element: dialogImport().then(() => {\n        const dialogEl = document.createElement(dialogTag);\n        element.provideHass(dialogEl);\n        return dialogEl;\n      })\n    };\n  }\n\n  // Get the focus targets after the dialog closes, but keep the original if dialog is being replaced\n  if ((_mainWindow$history$s = _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.state) !== null && _mainWindow$history$s !== void 0 && _mainWindow$history$s.replaced) {\n    LOADED[dialogTag].closedFocusTargets = LOADED[_common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.state.dialog].closedFocusTargets;\n    delete LOADED[_common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.state.dialog].closedFocusTargets;\n  } else {\n    LOADED[dialogTag].closedFocusTargets = (0,_common_dom_ancestors_with_property__WEBPACK_IMPORTED_MODULE_1__.ancestorsWithProperty)((0,_common_dom_deep_active_element__WEBPACK_IMPORTED_MODULE_2__.deepActiveElement)(), FOCUS_TARGET);\n  }\n  if (addHistory) {\n    var _mainWindow$history$s2, _mainWindow$history$s3;\n    _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.replaceState({\n      dialog: dialogTag,\n      open: false,\n      oldState: (_mainWindow$history$s2 = _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.state) !== null && _mainWindow$history$s2 !== void 0 && _mainWindow$history$s2.open && ((_mainWindow$history$s3 = _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.state) === null || _mainWindow$history$s3 === void 0 ? void 0 : _mainWindow$history$s3.dialog) !== dialogTag ? _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.state : null\n    }, \"\");\n    try {\n      _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.pushState({\n        dialog: dialogTag,\n        dialogParams: dialogParams,\n        open: true\n      }, \"\");\n    } catch (err) {\n      // dialogParams could not be cloned, probably contains callback\n      _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.pushState({\n        dialog: dialogTag,\n        dialogParams: null,\n        open: true\n      }, \"\");\n    }\n  }\n  const dialogElement = await LOADED[dialogTag].element;\n  dialogElement.addEventListener(\"dialog-closed\", _handleClosedFocus);\n\n  // Append it again so it's the last element in the root,\n  // so it's guaranteed to be on top of the other elements\n  root.appendChild(dialogElement);\n  dialogElement.showDialog(dialogParams);\n  return true;\n};\nconst replaceDialog = dialogElement => {\n  _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.replaceState({\n    ..._common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.state,\n    replaced: true\n  }, \"\");\n  dialogElement.removeEventListener(\"dialog-closed\", _handleClosedFocus);\n};\nconst closeDialog = async dialogTag => {\n  if (!(dialogTag in LOADED)) {\n    return true;\n  }\n  const dialogElement = await LOADED[dialogTag].element;\n  if (dialogElement.closeDialog) {\n    return dialogElement.closeDialog() !== false;\n  }\n  return true;\n};\nconst makeDialogManager = (element, root) => {\n  element.addEventListener(\"show-dialog\", e => {\n    const {\n      dialogTag,\n      dialogImport,\n      dialogParams,\n      addHistory\n    } = e.detail;\n    showDialog(element, root, dialogTag, dialogParams, dialogImport, addHistory);\n  });\n};\nconst _handleClosedFocus = async ev => {\n  const closedFocusTargets = LOADED[ev.detail.dialog].closedFocusTargets;\n  delete LOADED[ev.detail.dialog].closedFocusTargets;\n  if (!closedFocusTargets) return;\n\n  // Undo whatever the browser focused to provide easy checking\n  let focusedElement = (0,_common_dom_deep_active_element__WEBPACK_IMPORTED_MODULE_2__.deepActiveElement)();\n  if (focusedElement instanceof HTMLElement) focusedElement.blur();\n\n  // Make sure backdrop is fully updated before trying (especially needed for underlay dialogs)\n  await (0,_common_util_render_status__WEBPACK_IMPORTED_MODULE_3__.nextRender)();\n\n  // Try all targets in order and stop when one works\n  for (const focusTarget of closedFocusTargets) {\n    if (focusTarget instanceof HTMLElement) {\n      focusTarget.focus();\n      focusedElement = (0,_common_dom_deep_active_element__WEBPACK_IMPORTED_MODULE_2__.deepActiveElement)();\n      if (focusedElement && focusedElement !== document.body) return;\n    }\n  }\n  if (true) {\n    // eslint-disable-next-line no-console\n    console.warn(\"Failed to focus any targets after closing dialog: %o\", closedFocusTargets);\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGlhbG9ncy9tYWtlLWRpYWxvZy1tYW5hZ2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBaURBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFLQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2RpYWxvZ3MvbWFrZS1kaWFsb2ctbWFuYWdlci50cz81MTVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEhBU1NEb21FdmVudCwgVmFsaWRIYXNzRG9tRXZlbnQgfSBmcm9tIFwiLi4vY29tbW9uL2RvbS9maXJlX2V2ZW50XCI7XG5pbXBvcnQgeyBtYWluV2luZG93IH0gZnJvbSBcIi4uL2NvbW1vbi9kb20vZ2V0X21haW5fd2luZG93XCI7XG5pbXBvcnQgeyBQcm92aWRlSGFzc0VsZW1lbnQgfSBmcm9tIFwiLi4vbWl4aW5zL3Byb3ZpZGUtaGFzcy1saXQtbWl4aW5cIjtcbmltcG9ydCB7IGFuY2VzdG9yc1dpdGhQcm9wZXJ0eSB9IGZyb20gXCIuLi9jb21tb24vZG9tL2FuY2VzdG9ycy13aXRoLXByb3BlcnR5XCI7XG5pbXBvcnQgeyBkZWVwQWN0aXZlRWxlbWVudCB9IGZyb20gXCIuLi9jb21tb24vZG9tL2RlZXAtYWN0aXZlLWVsZW1lbnRcIjtcbmltcG9ydCB7IG5leHRSZW5kZXIgfSBmcm9tIFwiLi4vY29tbW9uL3V0aWwvcmVuZGVyLXN0YXR1c1wiO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIC8vIGZvciBmaXJlIGV2ZW50XG4gIGludGVyZmFjZSBIQVNTRG9tRXZlbnRzIHtcbiAgICBcInNob3ctZGlhbG9nXCI6IFNob3dEaWFsb2dQYXJhbXM8dW5rbm93bj47XG4gICAgXCJjbG9zZS1kaWFsb2dcIjogdW5kZWZpbmVkO1xuICAgIFwiZGlhbG9nLWNsb3NlZFwiOiBEaWFsb2dDbG9zZWRQYXJhbXM7XG4gIH1cbiAgLy8gZm9yIGFkZCBldmVudCBsaXN0ZW5lclxuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRFdmVudE1hcCB7XG4gICAgXCJzaG93LWRpYWxvZ1wiOiBIQVNTRG9tRXZlbnQ8U2hvd0RpYWxvZ1BhcmFtczx1bmtub3duPj47XG4gICAgXCJkaWFsb2ctY2xvc2VkXCI6IEhBU1NEb21FdmVudDxEaWFsb2dDbG9zZWRQYXJhbXM+O1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGFzc0RpYWxvZzxUID0gSEFTU0RvbUV2ZW50c1tWYWxpZEhhc3NEb21FdmVudF0+XG4gIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBzaG93RGlhbG9nKHBhcmFtczogVCk7XG4gIGNsb3NlRGlhbG9nPzogKCkgPT4gYm9vbGVhbiB8IHZvaWQ7XG59XG5cbmludGVyZmFjZSBTaG93RGlhbG9nUGFyYW1zPFQ+IHtcbiAgZGlhbG9nVGFnOiBrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXA7XG4gIGRpYWxvZ0ltcG9ydDogKCkgPT4gUHJvbWlzZTx1bmtub3duPjtcbiAgZGlhbG9nUGFyYW1zOiBUO1xuICBhZGRIaXN0b3J5PzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaWFsb2dDbG9zZWRQYXJhbXMge1xuICBkaWFsb2c6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaWFsb2dTdGF0ZSB7XG4gIGRpYWxvZzogc3RyaW5nO1xuICBvcGVuOiBib29sZWFuO1xuICBvbGRTdGF0ZTogbnVsbCB8IERpYWxvZ1N0YXRlO1xuICBkaWFsb2dQYXJhbXM/OiB1bmtub3duO1xufVxuXG5pbnRlcmZhY2UgTG9hZGVkRGlhbG9nSW5mbyB7XG4gIGVsZW1lbnQ6IFByb21pc2U8SGFzc0RpYWxvZz47XG4gIGNsb3NlZEZvY3VzVGFyZ2V0cz86IFNldDxFbGVtZW50Pjtcbn1cblxuaW50ZXJmYWNlIExvYWRlZERpYWxvZ3NEaWN0IHtcbiAgW3RhZzogc3RyaW5nXTogTG9hZGVkRGlhbG9nSW5mbztcbn1cblxuY29uc3QgTE9BREVEOiBMb2FkZWREaWFsb2dzRGljdCA9IHt9O1xuZXhwb3J0IGNvbnN0IEZPQ1VTX1RBUkdFVCA9IFN5bWJvbC5mb3IoXCJIQSBmb2N1cyB0YXJnZXRcIik7XG5cbmV4cG9ydCBjb25zdCBzaG93RGlhbG9nID0gYXN5bmMgKFxuICBlbGVtZW50OiBIVE1MRWxlbWVudCAmIFByb3ZpZGVIYXNzRWxlbWVudCxcbiAgcm9vdDogU2hhZG93Um9vdCB8IEhUTUxFbGVtZW50LFxuICBkaWFsb2dUYWc6IHN0cmluZyxcbiAgZGlhbG9nUGFyYW1zOiB1bmtub3duLFxuICBkaWFsb2dJbXBvcnQ/OiAoKSA9PiBQcm9taXNlPHVua25vd24+LFxuICBhZGRIaXN0b3J5ID0gdHJ1ZVxuKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gIGlmICghKGRpYWxvZ1RhZyBpbiBMT0FERUQpKSB7XG4gICAgaWYgKCFkaWFsb2dJbXBvcnQpIHtcbiAgICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJBc2tlZCB0byBzaG93IGRpYWxvZyB0aGF0J3Mgbm90IGxvYWRlZCBhbmQgY2FuJ3QgYmUgaW1wb3J0ZWRcIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBMT0FERURbZGlhbG9nVGFnXSA9IHtcbiAgICAgIGVsZW1lbnQ6IGRpYWxvZ0ltcG9ydCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBjb25zdCBkaWFsb2dFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZGlhbG9nVGFnKSBhcyBIYXNzRGlhbG9nO1xuICAgICAgICBlbGVtZW50LnByb3ZpZGVIYXNzKGRpYWxvZ0VsKTtcbiAgICAgICAgcmV0dXJuIGRpYWxvZ0VsO1xuICAgICAgfSksXG4gICAgfTtcbiAgfVxuXG4gIC8vIEdldCB0aGUgZm9jdXMgdGFyZ2V0cyBhZnRlciB0aGUgZGlhbG9nIGNsb3NlcywgYnV0IGtlZXAgdGhlIG9yaWdpbmFsIGlmIGRpYWxvZyBpcyBiZWluZyByZXBsYWNlZFxuICBpZiAobWFpbldpbmRvdy5oaXN0b3J5LnN0YXRlPy5yZXBsYWNlZCkge1xuICAgIExPQURFRFtkaWFsb2dUYWddLmNsb3NlZEZvY3VzVGFyZ2V0cyA9XG4gICAgICBMT0FERURbbWFpbldpbmRvdy5oaXN0b3J5LnN0YXRlLmRpYWxvZ10uY2xvc2VkRm9jdXNUYXJnZXRzO1xuICAgIGRlbGV0ZSBMT0FERURbbWFpbldpbmRvdy5oaXN0b3J5LnN0YXRlLmRpYWxvZ10uY2xvc2VkRm9jdXNUYXJnZXRzO1xuICB9IGVsc2Uge1xuICAgIExPQURFRFtkaWFsb2dUYWddLmNsb3NlZEZvY3VzVGFyZ2V0cyA9IGFuY2VzdG9yc1dpdGhQcm9wZXJ0eShcbiAgICAgIGRlZXBBY3RpdmVFbGVtZW50KCksXG4gICAgICBGT0NVU19UQVJHRVRcbiAgICApO1xuICB9XG5cbiAgaWYgKGFkZEhpc3RvcnkpIHtcbiAgICBtYWluV2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKFxuICAgICAge1xuICAgICAgICBkaWFsb2c6IGRpYWxvZ1RhZyxcbiAgICAgICAgb3BlbjogZmFsc2UsXG4gICAgICAgIG9sZFN0YXRlOlxuICAgICAgICAgIG1haW5XaW5kb3cuaGlzdG9yeS5zdGF0ZT8ub3BlbiAmJlxuICAgICAgICAgIG1haW5XaW5kb3cuaGlzdG9yeS5zdGF0ZT8uZGlhbG9nICE9PSBkaWFsb2dUYWdcbiAgICAgICAgICAgID8gbWFpbldpbmRvdy5oaXN0b3J5LnN0YXRlXG4gICAgICAgICAgICA6IG51bGwsXG4gICAgICB9LFxuICAgICAgXCJcIlxuICAgICk7XG4gICAgdHJ5IHtcbiAgICAgIG1haW5XaW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoXG4gICAgICAgIHsgZGlhbG9nOiBkaWFsb2dUYWcsIGRpYWxvZ1BhcmFtczogZGlhbG9nUGFyYW1zLCBvcGVuOiB0cnVlIH0sXG4gICAgICAgIFwiXCJcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIC8vIGRpYWxvZ1BhcmFtcyBjb3VsZCBub3QgYmUgY2xvbmVkLCBwcm9iYWJseSBjb250YWlucyBjYWxsYmFja1xuICAgICAgbWFpbldpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShcbiAgICAgICAgeyBkaWFsb2c6IGRpYWxvZ1RhZywgZGlhbG9nUGFyYW1zOiBudWxsLCBvcGVuOiB0cnVlIH0sXG4gICAgICAgIFwiXCJcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZGlhbG9nRWxlbWVudCA9IGF3YWl0IExPQURFRFtkaWFsb2dUYWddLmVsZW1lbnQ7XG4gIGRpYWxvZ0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRpYWxvZy1jbG9zZWRcIiwgX2hhbmRsZUNsb3NlZEZvY3VzKTtcblxuICAvLyBBcHBlbmQgaXQgYWdhaW4gc28gaXQncyB0aGUgbGFzdCBlbGVtZW50IGluIHRoZSByb290LFxuICAvLyBzbyBpdCdzIGd1YXJhbnRlZWQgdG8gYmUgb24gdG9wIG9mIHRoZSBvdGhlciBlbGVtZW50c1xuICByb290LmFwcGVuZENoaWxkKGRpYWxvZ0VsZW1lbnQpO1xuICBkaWFsb2dFbGVtZW50LnNob3dEaWFsb2coZGlhbG9nUGFyYW1zKTtcblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCByZXBsYWNlRGlhbG9nID0gKGRpYWxvZ0VsZW1lbnQ6IEhhc3NEaWFsb2cpID0+IHtcbiAgbWFpbldpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShcbiAgICB7IC4uLm1haW5XaW5kb3cuaGlzdG9yeS5zdGF0ZSwgcmVwbGFjZWQ6IHRydWUgfSxcbiAgICBcIlwiXG4gICk7XG4gIGRpYWxvZ0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRpYWxvZy1jbG9zZWRcIiwgX2hhbmRsZUNsb3NlZEZvY3VzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjbG9zZURpYWxvZyA9IGFzeW5jIChkaWFsb2dUYWc6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICBpZiAoIShkaWFsb2dUYWcgaW4gTE9BREVEKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGNvbnN0IGRpYWxvZ0VsZW1lbnQgPSBhd2FpdCBMT0FERURbZGlhbG9nVGFnXS5lbGVtZW50O1xuICBpZiAoZGlhbG9nRWxlbWVudC5jbG9zZURpYWxvZykge1xuICAgIHJldHVybiBkaWFsb2dFbGVtZW50LmNsb3NlRGlhbG9nKCkgIT09IGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufTtcblxuZXhwb3J0IGNvbnN0IG1ha2VEaWFsb2dNYW5hZ2VyID0gKFxuICBlbGVtZW50OiBIVE1MRWxlbWVudCAmIFByb3ZpZGVIYXNzRWxlbWVudCxcbiAgcm9vdDogU2hhZG93Um9vdCB8IEhUTUxFbGVtZW50XG4pID0+IHtcbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgIFwic2hvdy1kaWFsb2dcIixcbiAgICAoZTogSEFTU0RvbUV2ZW50PFNob3dEaWFsb2dQYXJhbXM8dW5rbm93bj4+KSA9PiB7XG4gICAgICBjb25zdCB7IGRpYWxvZ1RhZywgZGlhbG9nSW1wb3J0LCBkaWFsb2dQYXJhbXMsIGFkZEhpc3RvcnkgfSA9IGUuZGV0YWlsO1xuICAgICAgc2hvd0RpYWxvZyhcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgcm9vdCxcbiAgICAgICAgZGlhbG9nVGFnLFxuICAgICAgICBkaWFsb2dQYXJhbXMsXG4gICAgICAgIGRpYWxvZ0ltcG9ydCxcbiAgICAgICAgYWRkSGlzdG9yeVxuICAgICAgKTtcbiAgICB9XG4gICk7XG59O1xuXG5jb25zdCBfaGFuZGxlQ2xvc2VkRm9jdXMgPSBhc3luYyAoZXY6IEhBU1NEb21FdmVudDxEaWFsb2dDbG9zZWRQYXJhbXM+KSA9PiB7XG4gIGNvbnN0IGNsb3NlZEZvY3VzVGFyZ2V0cyA9IExPQURFRFtldi5kZXRhaWwuZGlhbG9nXS5jbG9zZWRGb2N1c1RhcmdldHM7XG4gIGRlbGV0ZSBMT0FERURbZXYuZGV0YWlsLmRpYWxvZ10uY2xvc2VkRm9jdXNUYXJnZXRzO1xuICBpZiAoIWNsb3NlZEZvY3VzVGFyZ2V0cykgcmV0dXJuO1xuXG4gIC8vIFVuZG8gd2hhdGV2ZXIgdGhlIGJyb3dzZXIgZm9jdXNlZCB0byBwcm92aWRlIGVhc3kgY2hlY2tpbmdcbiAgbGV0IGZvY3VzZWRFbGVtZW50ID0gZGVlcEFjdGl2ZUVsZW1lbnQoKTtcbiAgaWYgKGZvY3VzZWRFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIGZvY3VzZWRFbGVtZW50LmJsdXIoKTtcblxuICAvLyBNYWtlIHN1cmUgYmFja2Ryb3AgaXMgZnVsbHkgdXBkYXRlZCBiZWZvcmUgdHJ5aW5nIChlc3BlY2lhbGx5IG5lZWRlZCBmb3IgdW5kZXJsYXkgZGlhbG9ncylcbiAgYXdhaXQgbmV4dFJlbmRlcigpO1xuXG4gIC8vIFRyeSBhbGwgdGFyZ2V0cyBpbiBvcmRlciBhbmQgc3RvcCB3aGVuIG9uZSB3b3Jrc1xuICBmb3IgKGNvbnN0IGZvY3VzVGFyZ2V0IG9mIGNsb3NlZEZvY3VzVGFyZ2V0cykge1xuICAgIGlmIChmb2N1c1RhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICBmb2N1c1RhcmdldC5mb2N1cygpO1xuICAgICAgZm9jdXNlZEVsZW1lbnQgPSBkZWVwQWN0aXZlRWxlbWVudCgpO1xuICAgICAgaWYgKGZvY3VzZWRFbGVtZW50ICYmIGZvY3VzZWRFbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5KSByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgaWYgKF9fREVWX18pIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUud2FybihcbiAgICAgIFwiRmFpbGVkIHRvIGZvY3VzIGFueSB0YXJnZXRzIGFmdGVyIGNsb3NpbmcgZGlhbG9nOiAlb1wiLFxuICAgICAgY2xvc2VkRm9jdXNUYXJnZXRzXG4gICAgKTtcbiAgfVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/dialogs/make-dialog-manager.ts\n");

/***/ }),

/***/ "./src/state/url-sync-mixin.ts":
/*!*************************************!*\
  !*** ./src/state/url-sync-mixin.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   historyPromise: () => (/* binding */ historyPromise),\n/* harmony export */   urlSyncMixin: () => (/* binding */ urlSyncMixin)\n/* harmony export */ });\n/* harmony import */ var _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/dom/get_main_window */ \"./src/common/dom/get_main_window.ts\");\n/* harmony import */ var _dialogs_make_dialog_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dialogs/make-dialog-manager */ \"./src/dialogs/make-dialog-manager.ts\");\n/* eslint-disable no-console */\n\n\n\nconst DEBUG = false;\n\n// eslint-disable-next-line import/no-mutable-exports\nlet historyPromise;\nlet historyResolve;\nconst urlSyncMixin = superClass =>\n// Disable this functionality in the demo.\n false ? 0 : class extends superClass {\n  constructor(...args) {\n    super(...args);\n    this._ignoreNextPopState = false;\n    this._dialogClosedListener = ev => {\n      var _mainWindow$history$s3, _mainWindow$history$s4;\n      if (DEBUG) {\n        var _mainWindow$history$s, _mainWindow$history$s2;\n        console.log(\"dialog closed\", ev.detail.dialog);\n        console.log(\"open\", (_mainWindow$history$s = _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.state) === null || _mainWindow$history$s === void 0 ? void 0 : _mainWindow$history$s.open, \"dialog\", (_mainWindow$history$s2 = _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.state) === null || _mainWindow$history$s2 === void 0 ? void 0 : _mainWindow$history$s2.dialog);\n      }\n      // If not closed by navigating back, and not a new dialog is open, remove the open state from history\n      if ((_mainWindow$history$s3 = _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.state) !== null && _mainWindow$history$s3 !== void 0 && _mainWindow$history$s3.open && ((_mainWindow$history$s4 = _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.state) === null || _mainWindow$history$s4 === void 0 ? void 0 : _mainWindow$history$s4.dialog) === ev.detail.dialog) {\n        if (DEBUG) {\n          console.log(\"remove state\", ev.detail.dialog);\n        }\n        if (_common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.length) {\n          this._ignoreNextPopState = true;\n          historyPromise = new Promise(resolve => {\n            historyResolve = () => {\n              resolve();\n              historyResolve = undefined;\n              historyPromise = undefined;\n            };\n            _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.back();\n          });\n        }\n      }\n    };\n    this._popstateChangeListener = ev => {\n      if (this._ignoreNextPopState) {\n        var _ev$state, _ev$state2;\n        if (history.length && ((_ev$state = ev.state) !== null && _ev$state !== void 0 && (_ev$state = _ev$state.oldState) !== null && _ev$state !== void 0 && _ev$state.replaced || ((_ev$state2 = ev.state) === null || _ev$state2 === void 0 || (_ev$state2 = _ev$state2.oldState) === null || _ev$state2 === void 0 ? void 0 : _ev$state2.dialogParams) === null)) {\n          // if the previous dialog was replaced, or we could not copy the params, and the current dialog is closed, we should also remove the previous dialog from history\n          if (DEBUG) {\n            console.log(\"remove old state\", ev.state.oldState);\n          }\n          _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.back();\n          return;\n        }\n        if (DEBUG) {\n          console.log(\"ignore popstate\");\n        }\n        this._ignoreNextPopState = false;\n        if (historyResolve) {\n          historyResolve();\n        }\n        return;\n      }\n      if (ev.state && \"dialog\" in ev.state) {\n        if (DEBUG) {\n          console.log(\"popstate\", ev);\n        }\n        this._handleDialogStateChange(ev.state);\n      }\n      if (historyResolve) {\n        historyResolve();\n      }\n    };\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    if (_common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.length === 1) {\n      _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.replaceState({\n        ..._common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.state,\n        root: true\n      }, \"\");\n    }\n    _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.addEventListener(\"popstate\", this._popstateChangeListener);\n    this.addEventListener(\"dialog-closed\", this._dialogClosedListener);\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.removeEventListener(\"popstate\", this._popstateChangeListener);\n    this.removeEventListener(\"dialog-closed\", this._dialogClosedListener);\n  }\n  firstUpdated(changedProperties) {\n    var _mainWindow$history$s5;\n    super.firstUpdated(changedProperties);\n    if ((_mainWindow$history$s5 = _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.state) !== null && _mainWindow$history$s5 !== void 0 && _mainWindow$history$s5.dialog) {\n      this._handleDialogStateChange(_common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.state);\n    }\n  }\n  async _handleDialogStateChange(state) {\n    if (DEBUG) {\n      console.log(\"handle state\", state);\n    }\n    if (!state.open) {\n      const closed = await (0,_dialogs_make_dialog_manager__WEBPACK_IMPORTED_MODULE_1__.closeDialog)(state.dialog);\n      if (!closed) {\n        if (DEBUG) {\n          console.log(\"dialog could not be closed\");\n        }\n        // dialog could not be closed, push state again\n        _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.pushState({\n          dialog: state.dialog,\n          open: true,\n          dialogParams: null,\n          oldState: null\n        }, \"\");\n        return;\n      }\n      if (state.oldState) {\n        if (DEBUG) {\n          console.log(\"handle old state\");\n        }\n        this._handleDialogStateChange(state.oldState);\n      }\n      return;\n    }\n    let shown = false;\n    if (state.open && state.dialogParams !== null) {\n      shown = await (0,_dialogs_make_dialog_manager__WEBPACK_IMPORTED_MODULE_1__.showDialog)(this, this.shadowRoot, state.dialog, state.dialogParams);\n    }\n    if (!shown) {\n      // can't open dialog, update state\n      _common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.replaceState({\n        ..._common_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.history.state,\n        open: false\n      }, \"\");\n    }\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3RhdGUvdXJsLXN5bmMtbWl4aW4udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUdBO0FBQ0E7QUFTQTs7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUtBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQWtDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQWhHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBc0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvc3RhdGUvdXJsLXN5bmMtbWl4aW4udHM/ZDI4OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5pbXBvcnQgeyBQcm9wZXJ0eVZhbHVlTWFwLCBSZWFjdGl2ZUVsZW1lbnQgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBIQVNTRG9tRXZlbnQgfSBmcm9tIFwiLi4vY29tbW9uL2RvbS9maXJlX2V2ZW50XCI7XG5pbXBvcnQgeyBtYWluV2luZG93IH0gZnJvbSBcIi4uL2NvbW1vbi9kb20vZ2V0X21haW5fd2luZG93XCI7XG5pbXBvcnQge1xuICBjbG9zZURpYWxvZyxcbiAgRGlhbG9nQ2xvc2VkUGFyYW1zLFxuICBEaWFsb2dTdGF0ZSxcbiAgc2hvd0RpYWxvZyxcbn0gZnJvbSBcIi4uL2RpYWxvZ3MvbWFrZS1kaWFsb2ctbWFuYWdlclwiO1xuaW1wb3J0IHsgUHJvdmlkZUhhc3NFbGVtZW50IH0gZnJvbSBcIi4uL21peGlucy9wcm92aWRlLWhhc3MtbGl0LW1peGluXCI7XG5pbXBvcnQgeyBDb25zdHJ1Y3RvciB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5jb25zdCBERUJVRyA9IGZhbHNlO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLW11dGFibGUtZXhwb3J0c1xuZXhwb3J0IGxldCBoaXN0b3J5UHJvbWlzZTogUHJvbWlzZTx2b2lkPiB8IHVuZGVmaW5lZDtcblxubGV0IGhpc3RvcnlSZXNvbHZlOiB1bmRlZmluZWQgfCAoKCkgPT4gdm9pZCk7XG5cbmV4cG9ydCBjb25zdCB1cmxTeW5jTWl4aW4gPSA8XG4gIFQgZXh0ZW5kcyBDb25zdHJ1Y3RvcjxSZWFjdGl2ZUVsZW1lbnQgJiBQcm92aWRlSGFzc0VsZW1lbnQ+LFxuPihcbiAgc3VwZXJDbGFzczogVFxuKSA9PlxuICAvLyBEaXNhYmxlIHRoaXMgZnVuY3Rpb25hbGl0eSBpbiB0aGUgZGVtby5cbiAgX19ERU1PX19cbiAgICA/IHN1cGVyQ2xhc3NcbiAgICA6IGNsYXNzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG4gICAgICAgIHByaXZhdGUgX2lnbm9yZU5leHRQb3BTdGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgIHB1YmxpYyBjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcbiAgICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICAgIGlmIChtYWluV2luZG93Lmhpc3RvcnkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBtYWluV2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKFxuICAgICAgICAgICAgICB7IC4uLm1haW5XaW5kb3cuaGlzdG9yeS5zdGF0ZSwgcm9vdDogdHJ1ZSB9LFxuICAgICAgICAgICAgICBcIlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtYWluV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCB0aGlzLl9wb3BzdGF0ZUNoYW5nZUxpc3RlbmVyKTtcbiAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJkaWFsb2ctY2xvc2VkXCIsIHRoaXMuX2RpYWxvZ0Nsb3NlZExpc3RlbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaXNjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcbiAgICAgICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICAgIG1haW5XaW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIFwicG9wc3RhdGVcIixcbiAgICAgICAgICAgIHRoaXMuX3BvcHN0YXRlQ2hhbmdlTGlzdGVuZXJcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRpYWxvZy1jbG9zZWRcIiwgdGhpcy5fZGlhbG9nQ2xvc2VkTGlzdGVuZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGZpcnN0VXBkYXRlZChcbiAgICAgICAgICBjaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZU1hcDxhbnk+IHwgTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPlxuICAgICAgICApOiB2b2lkIHtcbiAgICAgICAgICBzdXBlci5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgIGlmIChtYWluV2luZG93Lmhpc3Rvcnkuc3RhdGU/LmRpYWxvZykge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlRGlhbG9nU3RhdGVDaGFuZ2UobWFpbldpbmRvdy5oaXN0b3J5LnN0YXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kaWFsb2dDbG9zZWRMaXN0ZW5lciA9IChcbiAgICAgICAgICBldjogSEFTU0RvbUV2ZW50PERpYWxvZ0Nsb3NlZFBhcmFtcz5cbiAgICAgICAgKSA9PiB7XG4gICAgICAgICAgaWYgKERFQlVHKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImRpYWxvZyBjbG9zZWRcIiwgZXYuZGV0YWlsLmRpYWxvZyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgXCJvcGVuXCIsXG4gICAgICAgICAgICAgIG1haW5XaW5kb3cuaGlzdG9yeS5zdGF0ZT8ub3BlbixcbiAgICAgICAgICAgICAgXCJkaWFsb2dcIixcbiAgICAgICAgICAgICAgbWFpbldpbmRvdy5oaXN0b3J5LnN0YXRlPy5kaWFsb2dcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIG5vdCBjbG9zZWQgYnkgbmF2aWdhdGluZyBiYWNrLCBhbmQgbm90IGEgbmV3IGRpYWxvZyBpcyBvcGVuLCByZW1vdmUgdGhlIG9wZW4gc3RhdGUgZnJvbSBoaXN0b3J5XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbWFpbldpbmRvdy5oaXN0b3J5LnN0YXRlPy5vcGVuICYmXG4gICAgICAgICAgICBtYWluV2luZG93Lmhpc3Rvcnkuc3RhdGU/LmRpYWxvZyA9PT0gZXYuZGV0YWlsLmRpYWxvZ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgaWYgKERFQlVHKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVtb3ZlIHN0YXRlXCIsIGV2LmRldGFpbC5kaWFsb2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1haW5XaW5kb3cuaGlzdG9yeS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgdGhpcy5faWdub3JlTmV4dFBvcFN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgaGlzdG9yeVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGhpc3RvcnlSZXNvbHZlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgaGlzdG9yeVJlc29sdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICBoaXN0b3J5UHJvbWlzZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG1haW5XaW5kb3cuaGlzdG9yeS5iYWNrKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBwcml2YXRlIF9wb3BzdGF0ZUNoYW5nZUxpc3RlbmVyID0gKGV2OiBQb3BTdGF0ZUV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuX2lnbm9yZU5leHRQb3BTdGF0ZSkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBoaXN0b3J5Lmxlbmd0aCAmJlxuICAgICAgICAgICAgICAoZXYuc3RhdGU/Lm9sZFN0YXRlPy5yZXBsYWNlZCB8fFxuICAgICAgICAgICAgICAgIGV2LnN0YXRlPy5vbGRTdGF0ZT8uZGlhbG9nUGFyYW1zID09PSBudWxsKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIC8vIGlmIHRoZSBwcmV2aW91cyBkaWFsb2cgd2FzIHJlcGxhY2VkLCBvciB3ZSBjb3VsZCBub3QgY29weSB0aGUgcGFyYW1zLCBhbmQgdGhlIGN1cnJlbnQgZGlhbG9nIGlzIGNsb3NlZCwgd2Ugc2hvdWxkIGFsc28gcmVtb3ZlIHRoZSBwcmV2aW91cyBkaWFsb2cgZnJvbSBoaXN0b3J5XG4gICAgICAgICAgICAgIGlmIChERUJVRykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVtb3ZlIG9sZCBzdGF0ZVwiLCBldi5zdGF0ZS5vbGRTdGF0ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbWFpbldpbmRvdy5oaXN0b3J5LmJhY2soKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKERFQlVHKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdub3JlIHBvcHN0YXRlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faWdub3JlTmV4dFBvcFN0YXRlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoaGlzdG9yeVJlc29sdmUpIHtcbiAgICAgICAgICAgICAgaGlzdG9yeVJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV2LnN0YXRlICYmIFwiZGlhbG9nXCIgaW4gZXYuc3RhdGUpIHtcbiAgICAgICAgICAgIGlmIChERUJVRykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInBvcHN0YXRlXCIsIGV2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZURpYWxvZ1N0YXRlQ2hhbmdlKGV2LnN0YXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGhpc3RvcnlSZXNvbHZlKSB7XG4gICAgICAgICAgICBoaXN0b3J5UmVzb2x2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBwcml2YXRlIGFzeW5jIF9oYW5kbGVEaWFsb2dTdGF0ZUNoYW5nZShzdGF0ZTogRGlhbG9nU3RhdGUpIHtcbiAgICAgICAgICBpZiAoREVCVUcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaGFuZGxlIHN0YXRlXCIsIHN0YXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFzdGF0ZS5vcGVuKSB7XG4gICAgICAgICAgICBjb25zdCBjbG9zZWQgPSBhd2FpdCBjbG9zZURpYWxvZyhzdGF0ZS5kaWFsb2cpO1xuICAgICAgICAgICAgaWYgKCFjbG9zZWQpIHtcbiAgICAgICAgICAgICAgaWYgKERFQlVHKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJkaWFsb2cgY291bGQgbm90IGJlIGNsb3NlZFwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyBkaWFsb2cgY291bGQgbm90IGJlIGNsb3NlZCwgcHVzaCBzdGF0ZSBhZ2FpblxuICAgICAgICAgICAgICBtYWluV2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGRpYWxvZzogc3RhdGUuZGlhbG9nLFxuICAgICAgICAgICAgICAgICAgb3BlbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIGRpYWxvZ1BhcmFtczogbnVsbCxcbiAgICAgICAgICAgICAgICAgIG9sZFN0YXRlOiBudWxsLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJcIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhdGUub2xkU3RhdGUpIHtcbiAgICAgICAgICAgICAgaWYgKERFQlVHKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJoYW5kbGUgb2xkIHN0YXRlXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRoaXMuX2hhbmRsZURpYWxvZ1N0YXRlQ2hhbmdlKHN0YXRlLm9sZFN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHNob3duID0gZmFsc2U7XG4gICAgICAgICAgaWYgKHN0YXRlLm9wZW4gJiYgc3RhdGUuZGlhbG9nUGFyYW1zICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzaG93biA9IGF3YWl0IHNob3dEaWFsb2coXG4gICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgIHRoaXMuc2hhZG93Um9vdCEsXG4gICAgICAgICAgICAgIHN0YXRlLmRpYWxvZyxcbiAgICAgICAgICAgICAgc3RhdGUuZGlhbG9nUGFyYW1zXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXNob3duKSB7XG4gICAgICAgICAgICAvLyBjYW4ndCBvcGVuIGRpYWxvZywgdXBkYXRlIHN0YXRlXG4gICAgICAgICAgICBtYWluV2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKFxuICAgICAgICAgICAgICB7IC4uLm1haW5XaW5kb3cuaGlzdG9yeS5zdGF0ZSwgb3BlbjogZmFsc2UgfSxcbiAgICAgICAgICAgICAgXCJcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/state/url-sync-mixin.ts\n");

/***/ })

};
