/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
export const id = "src_panels_lovelace_cards_energy_hui-energy-sources-table-card_ts";
export const ids = ["src_panels_lovelace_cards_energy_hui-energy-sources-table-card_ts"];
export const modules = {

/***/ "./src/mixins/subscribe-mixin.ts":
/*!***************************************!*\
  !*** ./src/mixins/subscribe-mixin.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SubscribeMixin: () => (/* binding */ SubscribeMixin)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n\n\n\n\nconst SubscribeMixin = superClass => {\n  let SubscribeClass = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null, function (_initialize, _superClass) {\n    class SubscribeClass extends _superClass {\n      constructor(...args) {\n        super(...args);\n        _initialize(this);\n      }\n    }\n    return {\n      F: SubscribeClass,\n      d: [{\n        kind: \"field\",\n        decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n          attribute: false\n        })],\n        key: \"hass\",\n        value: void 0\n      }, {\n        kind: \"field\",\n        key: \"hassSubscribeRequiredHostProps\",\n        value: void 0\n      }, {\n        kind: \"field\",\n        key: \"__unsubs\",\n        value: void 0\n      }, {\n        kind: \"method\",\n        key: \"connectedCallback\",\n        value:\n        // we wait with subscribing till these properties are set on the host element\n\n        function connectedCallback() {\n          (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(SubscribeClass.prototype), \"connectedCallback\", this).call(this);\n          this.__checkSubscribed();\n        }\n      }, {\n        kind: \"method\",\n        key: \"disconnectedCallback\",\n        value: function disconnectedCallback() {\n          (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(SubscribeClass.prototype), \"disconnectedCallback\", this).call(this);\n          if (this.__unsubs) {\n            while (this.__unsubs.length) {\n              const unsub = this.__unsubs.pop();\n              if (unsub instanceof Promise) {\n                unsub.then(unsubFunc => unsubFunc());\n              } else {\n                unsub();\n              }\n            }\n            this.__unsubs = undefined;\n          }\n        }\n      }, {\n        kind: \"method\",\n        key: \"updated\",\n        value: function updated(changedProps) {\n          (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(SubscribeClass.prototype), \"updated\", this).call(this, changedProps);\n          if (changedProps.has(\"hass\")) {\n            this.__checkSubscribed();\n            return;\n          }\n          if (!this.hassSubscribeRequiredHostProps) {\n            return;\n          }\n          for (const key of changedProps.keys()) {\n            if (this.hassSubscribeRequiredHostProps.includes(key)) {\n              this.__checkSubscribed();\n              return;\n            }\n          }\n        }\n      }, {\n        kind: \"method\",\n        key: \"hassSubscribe\",\n        value: function hassSubscribe() {\n          return [];\n        }\n      }, {\n        kind: \"method\",\n        key: \"__checkSubscribed\",\n        value: function __checkSubscribed() {\n          var _this$hassSubscribeRe;\n          if (this.__unsubs !== undefined || !this.isConnected || this.hass === undefined || (_this$hassSubscribeRe = this.hassSubscribeRequiredHostProps) !== null && _this$hassSubscribeRe !== void 0 && _this$hassSubscribeRe.some(prop => this[prop] === undefined)) {\n            return;\n          }\n          this.__unsubs = this.hassSubscribe();\n        }\n      }]\n    };\n  }, superClass);\n  return SubscribeClass;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWl4aW5zL3N1YnNjcmliZS1taXhpbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUVBO0FBT0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFnRUE7QUFBQTtBQUFBO0FBaEVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9taXhpbnMvc3Vic2NyaWJlLW1peGluLnRzP2Y1YjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVW5zdWJzY3JpYmVGdW5jIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHsgUHJvcGVydHlWYWx1ZXMsIFJlYWN0aXZlRWxlbWVudCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBDb25zdHJ1Y3RvciwgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEhhc3NTdWJzY3JpYmVFbGVtZW50IHtcbiAgaGFzc1N1YnNjcmliZSgpOiBVbnN1YnNjcmliZUZ1bmNbXTtcbn1cblxuZXhwb3J0IGNvbnN0IFN1YnNjcmliZU1peGluID0gPFQgZXh0ZW5kcyBDb25zdHJ1Y3RvcjxSZWFjdGl2ZUVsZW1lbnQ+PihcbiAgc3VwZXJDbGFzczogVFxuKSA9PiB7XG4gIGNsYXNzIFN1YnNjcmliZUNsYXNzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG4gICAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcz86IEhvbWVBc3Npc3RhbnQ7XG5cbiAgICAvLyB3ZSB3YWl0IHdpdGggc3Vic2NyaWJpbmcgdGlsbCB0aGVzZSBwcm9wZXJ0aWVzIGFyZSBzZXQgb24gdGhlIGhvc3QgZWxlbWVudFxuICAgIHByb3RlY3RlZCBoYXNzU3Vic2NyaWJlUmVxdWlyZWRIb3N0UHJvcHM/OiBzdHJpbmdbXTtcblxuICAgIHByaXZhdGUgX191bnN1YnM/OiBBcnJheTxVbnN1YnNjcmliZUZ1bmMgfCBQcm9taXNlPFVuc3Vic2NyaWJlRnVuYz4+O1xuXG4gICAgcHVibGljIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgIHRoaXMuX19jaGVja1N1YnNjcmliZWQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgaWYgKHRoaXMuX191bnN1YnMpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuX191bnN1YnMubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgdW5zdWIgPSB0aGlzLl9fdW5zdWJzLnBvcCgpITtcbiAgICAgICAgICBpZiAodW5zdWIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICB1bnN1Yi50aGVuKCh1bnN1YkZ1bmMpID0+IHVuc3ViRnVuYygpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdW5zdWIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX3Vuc3VicyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgdXBkYXRlZChjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wcyk7XG4gICAgICBpZiAoY2hhbmdlZFByb3BzLmhhcyhcImhhc3NcIikpIHtcbiAgICAgICAgdGhpcy5fX2NoZWNrU3Vic2NyaWJlZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuaGFzc1N1YnNjcmliZVJlcXVpcmVkSG9zdFByb3BzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGNoYW5nZWRQcm9wcy5rZXlzKCkpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzc1N1YnNjcmliZVJlcXVpcmVkSG9zdFByb3BzLmluY2x1ZGVzKGtleSBhcyBzdHJpbmcpKSB7XG4gICAgICAgICAgdGhpcy5fX2NoZWNrU3Vic2NyaWJlZCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBoYXNzU3Vic2NyaWJlKCk6IEFycmF5PFxuICAgICAgVW5zdWJzY3JpYmVGdW5jIHwgUHJvbWlzZTxVbnN1YnNjcmliZUZ1bmM+XG4gICAgPiB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfX2NoZWNrU3Vic2NyaWJlZCgpOiB2b2lkIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5fX3Vuc3VicyAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICEodGhpcyBhcyB1bmtub3duIGFzIEVsZW1lbnQpLmlzQ29ubmVjdGVkIHx8XG4gICAgICAgIHRoaXMuaGFzcyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIHRoaXMuaGFzc1N1YnNjcmliZVJlcXVpcmVkSG9zdFByb3BzPy5zb21lKFxuICAgICAgICAgIChwcm9wKSA9PiB0aGlzW3Byb3BdID09PSB1bmRlZmluZWRcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX191bnN1YnMgPSB0aGlzLmhhc3NTdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFN1YnNjcmliZUNsYXNzO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/mixins/subscribe-mixin.ts\n");

/***/ }),

/***/ "./src/panels/lovelace/cards/energy/hui-energy-sources-table-card.ts":
/*!***************************************************************************!*\
  !*** ./src/panels/lovelace/cards/energy/hui-energy-sources-table-card.ts ***!
  \***************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HuiEnergySourcesTableCard: () => (/* binding */ HuiEnergySourcesTableCard)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _material_data_table_dist_mdc_data_table_min_css__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @material/data-table/dist/mdc.data-table.min.css */ \"./node_modules/@material/data-table/dist/mdc.data-table.min.css\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_style_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/directives/style-map */ \"./node_modules/lit/directives/style-map.js\");\n/* harmony import */ var _common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../common/color/convert-color */ \"./src/common/color/convert-color.ts\");\n/* harmony import */ var _common_color_lab__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../common/color/lab */ \"./src/common/color/lab.ts\");\n/* harmony import */ var _common_number_format_number__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../common/number/format_number */ \"./src/common/number/format_number.ts\");\n/* harmony import */ var _components_ha_card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../components/ha-card */ \"./src/components/ha-card.ts\");\n/* harmony import */ var _data_energy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../data/energy */ \"./src/data/energy.ts\");\n/* harmony import */ var _data_recorder__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../data/recorder */ \"./src/data/recorder.ts\");\n/* harmony import */ var _mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../mixins/subscribe-mixin */ \"./src/mixins/subscribe-mixin.ts\");\n/* harmony import */ var _common_has_changed__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../common/has-changed */ \"./src/panels/lovelace/common/has-changed.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_data_energy__WEBPACK_IMPORTED_MODULE_8__]);\n_data_energy__WEBPACK_IMPORTED_MODULE_8__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// @ts-ignore\n\n\n\n\n\n\n\n\n\n\n\n\nlet HuiEnergySourcesTableCard = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"hui-energy-sources-table-card\")], function (_initialize, _SubscribeMixin) {\n  class HuiEnergySourcesTableCard extends _SubscribeMixin {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HuiEnergySourcesTableCard,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_config\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_data\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"hassSubscribeRequiredHostProps\",\n      value() {\n        return [\"_config\"];\n      }\n    }, {\n      kind: \"method\",\n      key: \"hassSubscribe\",\n      value: function hassSubscribe() {\n        var _this$_config;\n        return [(0,_data_energy__WEBPACK_IMPORTED_MODULE_8__.getEnergyDataCollection)(this.hass, {\n          key: (_this$_config = this._config) === null || _this$_config === void 0 ? void 0 : _this$_config.collection_key\n        }).subscribe(data => {\n          this._data = data;\n        })];\n      }\n    }, {\n      kind: \"method\",\n      key: \"getCardSize\",\n      value: function getCardSize() {\n        return 3;\n      }\n    }, {\n      kind: \"method\",\n      key: \"setConfig\",\n      value: function setConfig(config) {\n        this._config = config;\n      }\n    }, {\n      kind: \"method\",\n      key: \"shouldUpdate\",\n      value: function shouldUpdate(changedProps) {\n        return (0,_common_has_changed__WEBPACK_IMPORTED_MODULE_11__.hasConfigChanged)(this, changedProps) || changedProps.size > 1 || !changedProps.has(\"hass\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_getColor\",\n      value: function _getColor(computedStyles, propertyName, baseColor, idx) {\n        let color = computedStyles.getPropertyValue(propertyName + \"-\" + idx).trim();\n        if (color.length === 0) {\n          const modifiedColor = idx > 0 ? this.hass.themes.darkMode ? (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labBrighten)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(baseColor)), idx) : (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labDarken)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(baseColor)), idx) : undefined;\n          color = modifiedColor ? (0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2hex)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.lab2rgb)(modifiedColor)) : baseColor;\n        }\n        return color;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _types$grid, _types$grid2, _types$gas, _types$water, _types$solar, _types$battery, _types$grid3, _types$gas2, _types$water2;\n        if (!this.hass || !this._config) {\n          return lit__WEBPACK_IMPORTED_MODULE_1__.nothing;\n        }\n        if (!this._data) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`${this.hass.localize(\"ui.panel.lovelace.cards.energy.loading\")}`;\n        }\n        let totalGrid = 0;\n        let totalGridCost = 0;\n        let totalSolar = 0;\n        let totalBattery = 0;\n        let totalGas = 0;\n        let totalGasCost = 0;\n        let totalWater = 0;\n        let totalWaterCost = 0;\n        let hasGridCost = false;\n        let hasGasCost = false;\n        let hasWaterCost = false;\n        let totalGridCompare = 0;\n        let totalGridCostCompare = 0;\n        let totalSolarCompare = 0;\n        let totalBatteryCompare = 0;\n        let totalGasCompare = 0;\n        let totalGasCostCompare = 0;\n        let totalWaterCompare = 0;\n        let totalWaterCostCompare = 0;\n        const types = (0,_data_energy__WEBPACK_IMPORTED_MODULE_8__.energySourcesByType)(this._data.prefs);\n        const colorPropertyMap = {\n          grid_return: \"--energy-grid-return-color\",\n          grid_consumption: \"--energy-grid-consumption-color\",\n          battery_in: \"--energy-battery-in-color\",\n          battery_out: \"--energy-battery-out-color\",\n          solar: \"--energy-solar-color\",\n          gas: \"--energy-gas-color\",\n          water: \"--energy-water-color\"\n        };\n        const computedStyles = getComputedStyle(this);\n        const solarColor = computedStyles.getPropertyValue(colorPropertyMap.solar).trim();\n        const batteryFromColor = computedStyles.getPropertyValue(colorPropertyMap.battery_out).trim();\n        const batteryToColor = computedStyles.getPropertyValue(colorPropertyMap.battery_in).trim();\n        const returnColor = computedStyles.getPropertyValue(colorPropertyMap.grid_return).trim();\n        const consumptionColor = computedStyles.getPropertyValue(colorPropertyMap.grid_consumption).trim();\n        const gasColor = computedStyles.getPropertyValue(colorPropertyMap.gas).trim();\n        const waterColor = computedStyles.getPropertyValue(colorPropertyMap.water).trim();\n        const showCosts = ((_types$grid = types.grid) === null || _types$grid === void 0 ? void 0 : _types$grid[0].flow_from.some(flow => flow.stat_cost || flow.entity_energy_price || flow.number_energy_price)) || ((_types$grid2 = types.grid) === null || _types$grid2 === void 0 ? void 0 : _types$grid2[0].flow_to.some(flow => flow.stat_compensation || flow.entity_energy_price || flow.number_energy_price)) || ((_types$gas = types.gas) === null || _types$gas === void 0 ? void 0 : _types$gas.some(flow => flow.stat_cost || flow.entity_energy_price || flow.number_energy_price)) || ((_types$water = types.water) === null || _types$water === void 0 ? void 0 : _types$water.some(flow => flow.stat_cost || flow.entity_energy_price || flow.number_energy_price));\n        const gasUnit = (0,_data_energy__WEBPACK_IMPORTED_MODULE_8__.getEnergyGasUnit)(this.hass, this._data.prefs, this._data.statsMetadata) || \"\";\n        const waterUnit = (0,_data_energy__WEBPACK_IMPORTED_MODULE_8__.getEnergyWaterUnit)(this.hass) || \"m³\";\n        const compare = this._data.statsCompare !== undefined;\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)` <ha-card>\n      ${this._config.title ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<h1 class=\"card-header\">${this._config.title}</h1>` : \"\"}\n      <div class=\"mdc-data-table\">\n        <div class=\"mdc-data-table__table-container\">\n          <table class=\"mdc-data-table__table\" aria-label=\"Energy sources\">\n            <thead>\n              <tr class=\"mdc-data-table__header-row\">\n                <th class=\"mdc-data-table__header-cell\"></th>\n                <th\n                  class=\"mdc-data-table__header-cell\"\n                  role=\"columnheader\"\n                  scope=\"col\"\n                >\n                  ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.source\")}\n                </th>\n                ${compare ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<th\n                        class=\"mdc-data-table__header-cell mdc-data-table__header-cell--numeric\"\n                        role=\"columnheader\"\n                        scope=\"col\"\n                      >\n                        ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.previous_energy\")}\n                      </th>\n                      ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<th\n                            class=\"mdc-data-table__header-cell mdc-data-table__header-cell--numeric\"\n                            role=\"columnheader\"\n                            scope=\"col\"\n                          >\n                            ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.previous_cost\")}\n                          </th>` : \"\"}` : \"\"}\n                <th\n                  class=\"mdc-data-table__header-cell mdc-data-table__header-cell--numeric\"\n                  role=\"columnheader\"\n                  scope=\"col\"\n                >\n                  ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.energy\")}\n                </th>\n                ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)` <th\n                      class=\"mdc-data-table__header-cell mdc-data-table__header-cell--numeric\"\n                      role=\"columnheader\"\n                      scope=\"col\"\n                    >\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.cost\")}\n                    </th>` : \"\"}\n              </tr>\n            </thead>\n            <tbody class=\"mdc-data-table__content\">\n              ${(_types$solar = types.solar) === null || _types$solar === void 0 ? void 0 : _types$solar.map((source, idx) => {\n          var _this$_data;\n          const energy = (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[source.stat_energy_from]) || 0;\n          totalSolar += energy;\n          const compareEnergy = compare && (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[source.stat_energy_from]) || 0;\n          totalSolarCompare += compareEnergy;\n          const color = this._getColor(computedStyles, colorPropertyMap.solar, solarColor, idx);\n          return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<tr class=\"mdc-data-table__row\">\n                  <td class=\"mdc-data-table__cell cell-bullet\">\n                    <div\n                      class=\"bullet\"\n                      style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_3__.styleMap)({\n            borderColor: color,\n            backgroundColor: color + \"7F\"\n          })}\n                    ></div>\n                  </td>\n                  <th class=\"mdc-data-table__cell\" scope=\"row\">\n                    ${(0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getStatisticLabel)(this.hass, source.stat_energy_from, (_this$_data = this._data) === null || _this$_data === void 0 ? void 0 : _this$_data.statsMetadata[source.stat_energy_from])}\n                  </th>\n                  ${compare ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(compareEnergy, this.hass.locale)} kWh\n                        </td>\n                        ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td class=\"mdc-data-table__cell\"></td>` : \"\"}` : \"\"}\n                  <td\n                    class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                  >\n                    ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energy, this.hass.locale)} kWh\n                  </td>\n                  ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td class=\"mdc-data-table__cell\"></td>` : \"\"}\n                </tr>`;\n        })}\n              ${types.solar ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<tr class=\"mdc-data-table__row total\">\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.solar_total\")}\n                    </th>\n                    ${compare ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalSolarCompare, this.hass.locale)}\n                            kWh\n                          </td>\n                          ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td class=\"mdc-data-table__cell\"></td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalSolar, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td class=\"mdc-data-table__cell\"></td>` : \"\"}\n                  </tr>` : \"\"}\n              ${(_types$battery = types.battery) === null || _types$battery === void 0 ? void 0 : _types$battery.map((source, idx) => {\n          var _this$_data2, _this$_data3;\n          const energyFrom = (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[source.stat_energy_from]) || 0;\n          const energyTo = (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[source.stat_energy_to]) || 0;\n          totalBattery += energyFrom - energyTo;\n          const energyFromCompare = compare && (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[source.stat_energy_from]) || 0;\n          const energyToCompare = compare && (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[source.stat_energy_to]) || 0;\n          totalBatteryCompare += energyFromCompare - energyToCompare;\n          const fromColor = this._getColor(computedStyles, colorPropertyMap.battery_out, batteryFromColor, idx);\n          const toColor = this._getColor(computedStyles, colorPropertyMap.battery_in, batteryToColor, idx);\n          return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<tr class=\"mdc-data-table__row\">\n                    <td class=\"mdc-data-table__cell cell-bullet\">\n                      <div\n                        class=\"bullet\"\n                        style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_3__.styleMap)({\n            borderColor: fromColor,\n            backgroundColor: fromColor + \"7F\"\n          })}\n                      ></div>\n                    </td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${(0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getStatisticLabel)(this.hass, source.stat_energy_from, (_this$_data2 = this._data) === null || _this$_data2 === void 0 ? void 0 : _this$_data2.statsMetadata[source.stat_energy_from])}\n                    </th>\n                    ${compare ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyFromCompare, this.hass.locale)}\n                            kWh\n                          </td>\n                          ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td class=\"mdc-data-table__cell\"></td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyFrom, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td class=\"mdc-data-table__cell\"></td>` : \"\"}\n                  </tr>\n                  <tr class=\"mdc-data-table__row\">\n                    <td class=\"mdc-data-table__cell cell-bullet\">\n                      <div\n                        class=\"bullet\"\n                        style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_3__.styleMap)({\n            borderColor: toColor,\n            backgroundColor: toColor + \"7F\"\n          })}\n                      ></div>\n                    </td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${(0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getStatisticLabel)(this.hass, source.stat_energy_to, (_this$_data3 = this._data) === null || _this$_data3 === void 0 ? void 0 : _this$_data3.statsMetadata[source.stat_energy_to])}\n                    </th>\n                    ${compare ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyToCompare * -1, this.hass.locale)}\n                            kWh\n                          </td>\n                          ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td class=\"mdc-data-table__cell\"></td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyTo * -1, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td class=\"mdc-data-table__cell\"></td>` : \"\"}\n                  </tr>`;\n        })}\n              ${types.battery ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<tr class=\"mdc-data-table__row total\">\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.battery_total\")}\n                    </th>\n                    ${compare ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)` <td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalBatteryCompare, this.hass.locale)}\n                            kWh\n                          </td>\n                          ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td class=\"mdc-data-table__cell\"></td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalBattery, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td class=\"mdc-data-table__cell\"></td>` : \"\"}\n                  </tr>` : \"\"}\n              ${(_types$grid3 = types.grid) === null || _types$grid3 === void 0 ? void 0 : _types$grid3.map(source => (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`${source.flow_from.map((flow, idx) => {\n          var _this$_data4;\n          const energy = (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[flow.stat_energy_from]) || 0;\n          totalGrid += energy;\n          const compareEnergy = compare && (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[flow.stat_energy_from]) || 0;\n          totalGridCompare += compareEnergy;\n          const cost_stat = flow.stat_cost || this._data.info.cost_sensors[flow.stat_energy_from];\n          const cost = cost_stat ? (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[cost_stat]) || 0 : null;\n          if (cost !== null) {\n            hasGridCost = true;\n            totalGridCost += cost;\n          }\n          const costCompare = compare && cost_stat ? (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[cost_stat]) || 0 : null;\n          if (costCompare !== null) {\n            totalGridCostCompare += costCompare;\n          }\n          const color = this._getColor(computedStyles, colorPropertyMap.grid_consumption, consumptionColor, idx);\n          return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<tr class=\"mdc-data-table__row\">\n                      <td class=\"mdc-data-table__cell cell-bullet\">\n                        <div\n                          class=\"bullet\"\n                          style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_3__.styleMap)({\n            borderColor: color,\n            backgroundColor: color + \"7F\"\n          })}\n                        ></div>\n                      </td>\n                      <th class=\"mdc-data-table__cell\" scope=\"row\">\n                        ${(0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getStatisticLabel)(this.hass, flow.stat_energy_from, (_this$_data4 = this._data) === null || _this$_data4 === void 0 ? void 0 : _this$_data4.statsMetadata[flow.stat_energy_from])}\n                      </th>\n                      ${compare ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                              class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                            >\n                              ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(compareEnergy, this.hass.locale)}\n                              kWh\n                            </td>\n                            ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                                  class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                                >\n                                  ${costCompare !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(costCompare, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                                </td>` : \"\"}` : \"\"}\n                      <td\n                        class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                      >\n                        ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energy, this.hass.locale)} kWh\n                      </td>\n                      ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)` <td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${cost !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(cost, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                          </td>` : \"\"}\n                    </tr>`;\n        })}\n                  ${source.flow_to.map((flow, idx) => {\n          var _this$_data5;\n          const energy = ((0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[flow.stat_energy_to]) || 0) * -1;\n          totalGrid += energy;\n          const cost_stat = flow.stat_compensation || this._data.info.cost_sensors[flow.stat_energy_to];\n          const cost = cost_stat ? ((0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[cost_stat]) || 0) * -1 : null;\n          if (cost !== null) {\n            hasGridCost = true;\n            totalGridCost += cost;\n          }\n          const energyCompare = (compare && (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[flow.stat_energy_to]) || 0) * -1;\n          totalGridCompare += energyCompare;\n          const costCompare = compare && cost_stat ? ((0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[cost_stat]) || 0) * -1 : null;\n          if (costCompare !== null) {\n            totalGridCostCompare += costCompare;\n          }\n          const color = this._getColor(computedStyles, colorPropertyMap.grid_return, returnColor, idx);\n          return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<tr class=\"mdc-data-table__row\">\n                      <td class=\"mdc-data-table__cell cell-bullet\">\n                        <div\n                          class=\"bullet\"\n                          style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_3__.styleMap)({\n            borderColor: color,\n            backgroundColor: color + \"7F\"\n          })}\n                        ></div>\n                      </td>\n                      <th class=\"mdc-data-table__cell\" scope=\"row\">\n                        ${(0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getStatisticLabel)(this.hass, flow.stat_energy_to, (_this$_data5 = this._data) === null || _this$_data5 === void 0 ? void 0 : _this$_data5.statsMetadata[flow.stat_energy_to])}\n                      </th>\n                      ${compare ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                              class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                            >\n                              ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyCompare, this.hass.locale)}\n                              kWh\n                            </td>\n                            ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                                  class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                                >\n                                  ${costCompare !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(costCompare, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                                </td>` : \"\"}` : \"\"}\n                      <td\n                        class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                      >\n                        ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energy, this.hass.locale)} kWh\n                      </td>\n                      ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)` <td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${cost !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(cost, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                          </td>` : \"\"}\n                    </tr>`;\n        })}`)}\n              ${types.grid ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)` <tr class=\"mdc-data-table__row total\">\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.grid_total\")}\n                    </th>\n                    ${compare ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGridCompare, this.hass.locale)}\n                            kWh\n                          </td>\n                          ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                                class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                              >\n                                ${hasGridCost ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGridCostCompare, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        }) : \"\"}\n                              </td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGrid, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${hasGridCost ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGridCost, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        }) : \"\"}\n                        </td>` : \"\"}\n                  </tr>` : \"\"}\n              ${(_types$gas2 = types.gas) === null || _types$gas2 === void 0 ? void 0 : _types$gas2.map((source, idx) => {\n          var _this$_data6;\n          const energy = (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[source.stat_energy_from]) || 0;\n          totalGas += energy;\n          const energyCompare = compare && (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[source.stat_energy_from]) || 0;\n          totalGasCompare += energyCompare;\n          const cost_stat = source.stat_cost || this._data.info.cost_sensors[source.stat_energy_from];\n          const cost = cost_stat ? (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[cost_stat]) || 0 : null;\n          if (cost !== null) {\n            hasGasCost = true;\n            totalGasCost += cost;\n          }\n          const costCompare = compare && cost_stat ? (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[cost_stat]) || 0 : null;\n          if (costCompare !== null) {\n            totalGasCostCompare += costCompare;\n          }\n          const color = this._getColor(computedStyles, colorPropertyMap.gas, gasColor, idx);\n          return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<tr class=\"mdc-data-table__row\">\n                  <td class=\"mdc-data-table__cell cell-bullet\">\n                    <div\n                      class=\"bullet\"\n                      style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_3__.styleMap)({\n            borderColor: color,\n            backgroundColor: color + \"7F\"\n          })}\n                    ></div>\n                  </td>\n                  <th class=\"mdc-data-table__cell\" scope=\"row\">\n                    ${(0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getStatisticLabel)(this.hass, source.stat_energy_from, (_this$_data6 = this._data) === null || _this$_data6 === void 0 ? void 0 : _this$_data6.statsMetadata[source.stat_energy_from])}\n                  </th>\n                  ${compare ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)` <td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyCompare, this.hass.locale)}\n                          ${gasUnit}\n                        </td>\n                        ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                              class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                            >\n                              ${costCompare !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(costCompare, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                            </td>` : \"\"}` : \"\"}\n                  <td\n                    class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                  >\n                    ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energy, this.hass.locale)} ${gasUnit}\n                  </td>\n                  ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                        class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                      >\n                        ${cost !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(cost, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                      </td>` : \"\"}\n                </tr>`;\n        })}\n              ${types.gas ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<tr class=\"mdc-data-table__row total\">\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.gas_total\")}\n                    </th>\n                    ${compare ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGasCompare, this.hass.locale)}\n                            ${gasUnit}\n                          </td>\n                          ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                                class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                              >\n                                ${hasGasCost ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGasCostCompare, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        }) : \"\"}\n                              </td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGas, this.hass.locale)} ${gasUnit}\n                    </td>\n                    ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${hasGasCost ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGasCost, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        }) : \"\"}\n                        </td>` : \"\"}\n                  </tr>` : \"\"}\n              ${(_types$water2 = types.water) === null || _types$water2 === void 0 ? void 0 : _types$water2.map((source, idx) => {\n          var _this$_data7;\n          const energy = (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[source.stat_energy_from]) || 0;\n          totalWater += energy;\n          const energyCompare = compare && (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[source.stat_energy_from]) || 0;\n          totalWaterCompare += energyCompare;\n          const cost_stat = source.stat_cost || this._data.info.cost_sensors[source.stat_energy_from];\n          const cost = cost_stat ? (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[cost_stat]) || 0 : null;\n          if (cost !== null) {\n            hasWaterCost = true;\n            totalWaterCost += cost;\n          }\n          const costCompare = compare && cost_stat ? (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[cost_stat]) || 0 : null;\n          if (costCompare !== null) {\n            totalWaterCostCompare += costCompare;\n          }\n          const color = this._getColor(computedStyles, colorPropertyMap.water, waterColor, idx);\n          return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<tr class=\"mdc-data-table__row\">\n                  <td class=\"mdc-data-table__cell cell-bullet\">\n                    <div\n                      class=\"bullet\"\n                      style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_3__.styleMap)({\n            borderColor: color,\n            backgroundColor: color + \"7F\"\n          })}\n                    ></div>\n                  </td>\n                  <th class=\"mdc-data-table__cell\" scope=\"row\">\n                    ${(0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getStatisticLabel)(this.hass, source.stat_energy_from, (_this$_data7 = this._data) === null || _this$_data7 === void 0 ? void 0 : _this$_data7.statsMetadata[source.stat_energy_from])}\n                  </th>\n                  ${compare ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)` <td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyCompare, this.hass.locale)}\n                          ${waterUnit}\n                        </td>\n                        ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                              class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                            >\n                              ${costCompare !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(costCompare, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                            </td>` : \"\"}` : \"\"}\n                  <td\n                    class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                  >\n                    ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energy, this.hass.locale)} ${waterUnit}\n                  </td>\n                  ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                        class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                      >\n                        ${cost !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(cost, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                      </td>` : \"\"}\n                </tr>`;\n        })}\n              ${types.water ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<tr class=\"mdc-data-table__row total\">\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.water_total\")}\n                    </th>\n                    ${compare ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalWaterCompare, this.hass.locale)}\n                            ${waterUnit}\n                          </td>\n                          ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                                class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                              >\n                                ${hasWaterCost ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalWaterCostCompare, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        }) : \"\"}\n                              </td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalWater, this.hass.locale)} ${waterUnit}\n                    </td>\n                    ${showCosts ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${hasWaterCost ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalWaterCost, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        }) : \"\"}\n                        </td>` : \"\"}\n                  </tr>` : \"\"}\n              ${[hasGasCost, hasWaterCost, hasGridCost].filter(Boolean).length > 1 ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<tr class=\"mdc-data-table__row total\">\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.total_costs\")}\n                    </th>\n                    ${compare ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<td class=\"mdc-data-table__cell\"></td>\n                          <td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGasCostCompare + totalGridCostCompare + totalWaterCostCompare, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        })}\n                          </td>` : \"\"}\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGasCost + totalGridCost + totalWaterCost, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        })}\n                    </td>\n                  </tr>` : \"\"}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </ha-card>`;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`\n      ${(0,lit__WEBPACK_IMPORTED_MODULE_1__.unsafeCSS)(_material_data_table_dist_mdc_data_table_min_css__WEBPACK_IMPORTED_MODULE_12__)}\n      .mdc-data-table {\n        width: 100%;\n        border: 0;\n      }\n      .mdc-data-table__header-cell,\n      .mdc-data-table__cell {\n        color: var(--primary-text-color);\n        border-bottom-color: var(--divider-color);\n        text-align: var(--float-start);\n      }\n      .mdc-data-table__row:not(.mdc-data-table__row--selected):hover {\n        background-color: rgba(var(--rgb-primary-text-color), 0.04);\n      }\n      .total {\n        --mdc-typography-body2-font-weight: 500;\n      }\n      .total .mdc-data-table__cell {\n        border-top: 1px solid var(--divider-color);\n      }\n      ha-card {\n        height: 100%;\n        overflow: hidden;\n      }\n      .card-header {\n        padding-bottom: 0;\n      }\n      .content {\n        padding: 16px;\n      }\n      .has-header {\n        padding-top: 0;\n      }\n      .cell-bullet {\n        width: 32px;\n        padding-right: 0;\n        padding-inline-end: 0;\n        padding-inline-start: 16px;\n        direction: var(--direction);\n      }\n      .bullet {\n        border-width: 1px;\n        border-style: solid;\n        border-radius: 4px;\n        height: 16px;\n        width: 32px;\n      }\n      .mdc-data-table__cell--numeric {\n        direction: ltr;\n      }\n    `;\n      }\n    }]\n  };\n}, (0,_mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_10__.SubscribeMixin)(lit__WEBPACK_IMPORTED_MODULE_1__.LitElement));\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2NhcmRzL2VuZXJneS9odWktZW5lcmd5LXNvdXJjZXMtdGFibGUtY2FyZC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFTQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBSUE7QUFJQTtBQUVBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQStsQ0E7QUFBQTtBQUFBO0FBbG1DQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFHQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFJQTtBQW9CQTtBQUlBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUlBO0FBRUE7QUFNQTtBQUVBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUFBO0FBQ0E7QUFJQTtBQUlBO0FBRUE7QUFNQTtBQU1BO0FBRUE7QUFNQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFJQTtBQUVBO0FBTUE7QUFFQTtBQUdBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUdBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUlBO0FBRUE7QUFNQTtBQUVBO0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFJQTtBQUVBO0FBTUE7QUFFQTtBQUdBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9wYW5lbHMvbG92ZWxhY2UvY2FyZHMvZW5lcmd5L2h1aS1lbmVyZ3ktc291cmNlcy10YWJsZS1jYXJkLnRzPzg5ZDMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLWlnbm9yZVxuaW1wb3J0IGRhdGFUYWJsZVN0eWxlcyBmcm9tIFwiQG1hdGVyaWFsL2RhdGEtdGFibGUvZGlzdC9tZGMuZGF0YS10YWJsZS5taW4uY3NzXCI7XG5pbXBvcnQgeyBVbnN1YnNjcmliZUZ1bmMgfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQge1xuICBjc3MsXG4gIENTU1Jlc3VsdEdyb3VwLFxuICBodG1sLFxuICBMaXRFbGVtZW50LFxuICB1bnNhZmVDU1MsXG4gIG5vdGhpbmcsXG4gIFByb3BlcnR5VmFsdWVzLFxufSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSwgc3RhdGUgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCB7IHN0eWxlTWFwIH0gZnJvbSBcImxpdC9kaXJlY3RpdmVzL3N0eWxlLW1hcFwiO1xuaW1wb3J0IHtcbiAgaGV4MnJnYixcbiAgbGFiMnJnYixcbiAgcmdiMmhleCxcbiAgcmdiMmxhYixcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi9jb2xvci9jb252ZXJ0LWNvbG9yXCI7XG5pbXBvcnQgeyBsYWJCcmlnaHRlbiwgbGFiRGFya2VuIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi9jb2xvci9sYWJcIjtcbmltcG9ydCB7IGZvcm1hdE51bWJlciB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vbnVtYmVyL2Zvcm1hdF9udW1iZXJcIjtcbmltcG9ydCBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvaGEtY2FyZFwiO1xuaW1wb3J0IHtcbiAgRW5lcmd5RGF0YSxcbiAgZW5lcmd5U291cmNlc0J5VHlwZSxcbiAgZ2V0RW5lcmd5RGF0YUNvbGxlY3Rpb24sXG4gIGdldEVuZXJneUdhc1VuaXQsXG4gIGdldEVuZXJneVdhdGVyVW5pdCxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL2RhdGEvZW5lcmd5XCI7XG5pbXBvcnQge1xuICBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgsXG4gIGdldFN0YXRpc3RpY0xhYmVsLFxufSBmcm9tIFwiLi4vLi4vLi4vLi4vZGF0YS9yZWNvcmRlclwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlTWl4aW4gfSBmcm9tIFwiLi4vLi4vLi4vLi4vbWl4aW5zL3N1YnNjcmliZS1taXhpblwiO1xuaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi8uLi8uLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgTG92ZWxhY2VDYXJkIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBFbmVyZ3lTb3VyY2VzVGFibGVDYXJkQ29uZmlnIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBoYXNDb25maWdDaGFuZ2VkIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9oYXMtY2hhbmdlZFwiO1xuXG5AY3VzdG9tRWxlbWVudChcImh1aS1lbmVyZ3ktc291cmNlcy10YWJsZS1jYXJkXCIpXG5leHBvcnQgY2xhc3MgSHVpRW5lcmd5U291cmNlc1RhYmxlQ2FyZFxuICBleHRlbmRzIFN1YnNjcmliZU1peGluKExpdEVsZW1lbnQpXG4gIGltcGxlbWVudHMgTG92ZWxhY2VDYXJkXG57XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2NvbmZpZz86IEVuZXJneVNvdXJjZXNUYWJsZUNhcmRDb25maWc7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfZGF0YT86IEVuZXJneURhdGE7XG5cbiAgcHJvdGVjdGVkIGhhc3NTdWJzY3JpYmVSZXF1aXJlZEhvc3RQcm9wcyA9IFtcIl9jb25maWdcIl07XG5cbiAgcHVibGljIGhhc3NTdWJzY3JpYmUoKTogVW5zdWJzY3JpYmVGdW5jW10ge1xuICAgIHJldHVybiBbXG4gICAgICBnZXRFbmVyZ3lEYXRhQ29sbGVjdGlvbih0aGlzLmhhc3MsIHtcbiAgICAgICAga2V5OiB0aGlzLl9jb25maWc/LmNvbGxlY3Rpb25fa2V5LFxuICAgICAgfSkuc3Vic2NyaWJlKChkYXRhKSA9PiB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgfSksXG4gICAgXTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDYXJkU2l6ZSgpOiBQcm9taXNlPG51bWJlcj4gfCBudW1iZXIge1xuICAgIHJldHVybiAzO1xuICB9XG5cbiAgcHVibGljIHNldENvbmZpZyhjb25maWc6IEVuZXJneVNvdXJjZXNUYWJsZUNhcmRDb25maWcpOiB2b2lkIHtcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gIH1cblxuICBwcm90ZWN0ZWQgc2hvdWxkVXBkYXRlKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgaGFzQ29uZmlnQ2hhbmdlZCh0aGlzLCBjaGFuZ2VkUHJvcHMpIHx8XG4gICAgICBjaGFuZ2VkUHJvcHMuc2l6ZSA+IDEgfHxcbiAgICAgICFjaGFuZ2VkUHJvcHMuaGFzKFwiaGFzc1wiKVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIF9nZXRDb2xvcihcbiAgICBjb21wdXRlZFN0eWxlczogQ1NTU3R5bGVEZWNsYXJhdGlvbixcbiAgICBwcm9wZXJ0eU5hbWU6IHN0cmluZyxcbiAgICBiYXNlQ29sb3I6IHN0cmluZyxcbiAgICBpZHg6IG51bWJlclxuICApOiBzdHJpbmcge1xuICAgIGxldCBjb2xvciA9IGNvbXB1dGVkU3R5bGVzXG4gICAgICAuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eU5hbWUgKyBcIi1cIiArIGlkeClcbiAgICAgIC50cmltKCk7XG4gICAgaWYgKGNvbG9yLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3QgbW9kaWZpZWRDb2xvciA9XG4gICAgICAgIGlkeCA+IDBcbiAgICAgICAgICA/IHRoaXMuaGFzcy50aGVtZXMuZGFya01vZGVcbiAgICAgICAgICAgID8gbGFiQnJpZ2h0ZW4ocmdiMmxhYihoZXgycmdiKGJhc2VDb2xvcikpLCBpZHgpXG4gICAgICAgICAgICA6IGxhYkRhcmtlbihyZ2IybGFiKGhleDJyZ2IoYmFzZUNvbG9yKSksIGlkeClcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIGNvbG9yID0gbW9kaWZpZWRDb2xvciA/IHJnYjJoZXgobGFiMnJnYihtb2RpZmllZENvbG9yKSkgOiBiYXNlQ29sb3I7XG4gICAgfVxuICAgIHJldHVybiBjb2xvcjtcbiAgfVxuXG4gIHByb3RlY3RlZCByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLmhhc3MgfHwgIXRoaXMuX2NvbmZpZykge1xuICAgICAgcmV0dXJuIG5vdGhpbmc7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl9kYXRhKSB7XG4gICAgICByZXR1cm4gaHRtbGAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5jYXJkcy5lbmVyZ3kubG9hZGluZ1wiXG4gICAgICApfWA7XG4gICAgfVxuXG4gICAgbGV0IHRvdGFsR3JpZCA9IDA7XG4gICAgbGV0IHRvdGFsR3JpZENvc3QgPSAwO1xuICAgIGxldCB0b3RhbFNvbGFyID0gMDtcbiAgICBsZXQgdG90YWxCYXR0ZXJ5ID0gMDtcbiAgICBsZXQgdG90YWxHYXMgPSAwO1xuICAgIGxldCB0b3RhbEdhc0Nvc3QgPSAwO1xuICAgIGxldCB0b3RhbFdhdGVyID0gMDtcbiAgICBsZXQgdG90YWxXYXRlckNvc3QgPSAwO1xuXG4gICAgbGV0IGhhc0dyaWRDb3N0ID0gZmFsc2U7XG4gICAgbGV0IGhhc0dhc0Nvc3QgPSBmYWxzZTtcbiAgICBsZXQgaGFzV2F0ZXJDb3N0ID0gZmFsc2U7XG5cbiAgICBsZXQgdG90YWxHcmlkQ29tcGFyZSA9IDA7XG4gICAgbGV0IHRvdGFsR3JpZENvc3RDb21wYXJlID0gMDtcbiAgICBsZXQgdG90YWxTb2xhckNvbXBhcmUgPSAwO1xuICAgIGxldCB0b3RhbEJhdHRlcnlDb21wYXJlID0gMDtcbiAgICBsZXQgdG90YWxHYXNDb21wYXJlID0gMDtcbiAgICBsZXQgdG90YWxHYXNDb3N0Q29tcGFyZSA9IDA7XG4gICAgbGV0IHRvdGFsV2F0ZXJDb21wYXJlID0gMDtcbiAgICBsZXQgdG90YWxXYXRlckNvc3RDb21wYXJlID0gMDtcblxuICAgIGNvbnN0IHR5cGVzID0gZW5lcmd5U291cmNlc0J5VHlwZSh0aGlzLl9kYXRhLnByZWZzKTtcblxuICAgIGNvbnN0IGNvbG9yUHJvcGVydHlNYXAgPSB7XG4gICAgICBncmlkX3JldHVybjogXCItLWVuZXJneS1ncmlkLXJldHVybi1jb2xvclwiLFxuICAgICAgZ3JpZF9jb25zdW1wdGlvbjogXCItLWVuZXJneS1ncmlkLWNvbnN1bXB0aW9uLWNvbG9yXCIsXG4gICAgICBiYXR0ZXJ5X2luOiBcIi0tZW5lcmd5LWJhdHRlcnktaW4tY29sb3JcIixcbiAgICAgIGJhdHRlcnlfb3V0OiBcIi0tZW5lcmd5LWJhdHRlcnktb3V0LWNvbG9yXCIsXG4gICAgICBzb2xhcjogXCItLWVuZXJneS1zb2xhci1jb2xvclwiLFxuICAgICAgZ2FzOiBcIi0tZW5lcmd5LWdhcy1jb2xvclwiLFxuICAgICAgd2F0ZXI6IFwiLS1lbmVyZ3ktd2F0ZXItY29sb3JcIixcbiAgICB9O1xuXG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMpO1xuICAgIGNvbnN0IHNvbGFyQ29sb3IgPSBjb21wdXRlZFN0eWxlc1xuICAgICAgLmdldFByb3BlcnR5VmFsdWUoY29sb3JQcm9wZXJ0eU1hcC5zb2xhcilcbiAgICAgIC50cmltKCk7XG4gICAgY29uc3QgYmF0dGVyeUZyb21Db2xvciA9IGNvbXB1dGVkU3R5bGVzXG4gICAgICAuZ2V0UHJvcGVydHlWYWx1ZShjb2xvclByb3BlcnR5TWFwLmJhdHRlcnlfb3V0KVxuICAgICAgLnRyaW0oKTtcbiAgICBjb25zdCBiYXR0ZXJ5VG9Db2xvciA9IGNvbXB1dGVkU3R5bGVzXG4gICAgICAuZ2V0UHJvcGVydHlWYWx1ZShjb2xvclByb3BlcnR5TWFwLmJhdHRlcnlfaW4pXG4gICAgICAudHJpbSgpO1xuICAgIGNvbnN0IHJldHVybkNvbG9yID0gY29tcHV0ZWRTdHlsZXNcbiAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKGNvbG9yUHJvcGVydHlNYXAuZ3JpZF9yZXR1cm4pXG4gICAgICAudHJpbSgpO1xuICAgIGNvbnN0IGNvbnN1bXB0aW9uQ29sb3IgPSBjb21wdXRlZFN0eWxlc1xuICAgICAgLmdldFByb3BlcnR5VmFsdWUoY29sb3JQcm9wZXJ0eU1hcC5ncmlkX2NvbnN1bXB0aW9uKVxuICAgICAgLnRyaW0oKTtcbiAgICBjb25zdCBnYXNDb2xvciA9IGNvbXB1dGVkU3R5bGVzXG4gICAgICAuZ2V0UHJvcGVydHlWYWx1ZShjb2xvclByb3BlcnR5TWFwLmdhcylcbiAgICAgIC50cmltKCk7XG4gICAgY29uc3Qgd2F0ZXJDb2xvciA9IGNvbXB1dGVkU3R5bGVzXG4gICAgICAuZ2V0UHJvcGVydHlWYWx1ZShjb2xvclByb3BlcnR5TWFwLndhdGVyKVxuICAgICAgLnRyaW0oKTtcblxuICAgIGNvbnN0IHNob3dDb3N0cyA9XG4gICAgICB0eXBlcy5ncmlkPy5bMF0uZmxvd19mcm9tLnNvbWUoXG4gICAgICAgIChmbG93KSA9PlxuICAgICAgICAgIGZsb3cuc3RhdF9jb3N0IHx8IGZsb3cuZW50aXR5X2VuZXJneV9wcmljZSB8fCBmbG93Lm51bWJlcl9lbmVyZ3lfcHJpY2VcbiAgICAgICkgfHxcbiAgICAgIHR5cGVzLmdyaWQ/LlswXS5mbG93X3RvLnNvbWUoXG4gICAgICAgIChmbG93KSA9PlxuICAgICAgICAgIGZsb3cuc3RhdF9jb21wZW5zYXRpb24gfHxcbiAgICAgICAgICBmbG93LmVudGl0eV9lbmVyZ3lfcHJpY2UgfHxcbiAgICAgICAgICBmbG93Lm51bWJlcl9lbmVyZ3lfcHJpY2VcbiAgICAgICkgfHxcbiAgICAgIHR5cGVzLmdhcz8uc29tZShcbiAgICAgICAgKGZsb3cpID0+XG4gICAgICAgICAgZmxvdy5zdGF0X2Nvc3QgfHwgZmxvdy5lbnRpdHlfZW5lcmd5X3ByaWNlIHx8IGZsb3cubnVtYmVyX2VuZXJneV9wcmljZVxuICAgICAgKSB8fFxuICAgICAgdHlwZXMud2F0ZXI/LnNvbWUoXG4gICAgICAgIChmbG93KSA9PlxuICAgICAgICAgIGZsb3cuc3RhdF9jb3N0IHx8IGZsb3cuZW50aXR5X2VuZXJneV9wcmljZSB8fCBmbG93Lm51bWJlcl9lbmVyZ3lfcHJpY2VcbiAgICAgICk7XG5cbiAgICBjb25zdCBnYXNVbml0ID1cbiAgICAgIGdldEVuZXJneUdhc1VuaXQodGhpcy5oYXNzLCB0aGlzLl9kYXRhLnByZWZzLCB0aGlzLl9kYXRhLnN0YXRzTWV0YWRhdGEpIHx8XG4gICAgICBcIlwiO1xuXG4gICAgY29uc3Qgd2F0ZXJVbml0ID0gZ2V0RW5lcmd5V2F0ZXJVbml0KHRoaXMuaGFzcykgfHwgXCJtwrNcIjtcblxuICAgIGNvbnN0IGNvbXBhcmUgPSB0aGlzLl9kYXRhLnN0YXRzQ29tcGFyZSAhPT0gdW5kZWZpbmVkO1xuXG4gICAgcmV0dXJuIGh0bWxgIDxoYS1jYXJkPlxuICAgICAgJHt0aGlzLl9jb25maWcudGl0bGVcbiAgICAgICAgPyBodG1sYDxoMSBjbGFzcz1cImNhcmQtaGVhZGVyXCI+JHt0aGlzLl9jb25maWcudGl0bGV9PC9oMT5gXG4gICAgICAgIDogXCJcIn1cbiAgICAgIDxkaXYgY2xhc3M9XCJtZGMtZGF0YS10YWJsZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX3RhYmxlLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDx0YWJsZSBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX190YWJsZVwiIGFyaWEtbGFiZWw9XCJFbmVyZ3kgc291cmNlc1wiPlxuICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICA8dHIgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9faGVhZGVyLXJvd1wiPlxuICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19oZWFkZXItY2VsbFwiPjwvdGg+XG4gICAgICAgICAgICAgICAgPHRoXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19oZWFkZXItY2VsbFwiXG4gICAgICAgICAgICAgICAgICByb2xlPVwiY29sdW1uaGVhZGVyXCJcbiAgICAgICAgICAgICAgICAgIHNjb3BlPVwiY29sXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5jYXJkcy5lbmVyZ3kuZW5lcmd5X3NvdXJjZXNfdGFibGUuc291cmNlXCJcbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAke2NvbXBhcmVcbiAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGhcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2hlYWRlci1jZWxsIG1kYy1kYXRhLXRhYmxlX19oZWFkZXItY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlPVwiY29sdW1uaGVhZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlPVwiY29sXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5jYXJkcy5lbmVyZ3kuZW5lcmd5X3NvdXJjZXNfdGFibGUucHJldmlvdXNfZW5lcmd5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2hlYWRlci1jZWxsIG1kYy1kYXRhLXRhYmxlX19oZWFkZXItY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZT1cImNvbHVtbmhlYWRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU9XCJjb2xcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmxvdmVsYWNlLmNhcmRzLmVuZXJneS5lbmVyZ3lfc291cmNlc190YWJsZS5wcmV2aW91c19jb3N0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoPmBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1gXG4gICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgPHRoXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19oZWFkZXItY2VsbCBtZGMtZGF0YS10YWJsZV9faGVhZGVyLWNlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgcm9sZT1cImNvbHVtbmhlYWRlclwiXG4gICAgICAgICAgICAgICAgICBzY29wZT1cImNvbFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuY2FyZHMuZW5lcmd5LmVuZXJneV9zb3VyY2VzX3RhYmxlLmVuZXJneVwiXG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgID8gaHRtbGAgPHRoXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9faGVhZGVyLWNlbGwgbWRjLWRhdGEtdGFibGVfX2hlYWRlci1jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICByb2xlPVwiY29sdW1uaGVhZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICBzY29wZT1cImNvbFwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuY2FyZHMuZW5lcmd5LmVuZXJneV9zb3VyY2VzX3RhYmxlLmNvc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+YFxuICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgIDx0Ym9keSBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jb250ZW50XCI+XG4gICAgICAgICAgICAgICR7dHlwZXMuc29sYXI/Lm1hcCgoc291cmNlLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmVyZ3kgPVxuICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c1tzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbV1cbiAgICAgICAgICAgICAgICAgICkgfHwgMDtcbiAgICAgICAgICAgICAgICB0b3RhbFNvbGFyICs9IGVuZXJneTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBhcmVFbmVyZ3kgPVxuICAgICAgICAgICAgICAgICAgKGNvbXBhcmUgJiZcbiAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzQ29tcGFyZVtzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbV1cbiAgICAgICAgICAgICAgICAgICAgKSkgfHxcbiAgICAgICAgICAgICAgICAgIDA7XG4gICAgICAgICAgICAgICAgdG90YWxTb2xhckNvbXBhcmUgKz0gY29tcGFyZUVuZXJneTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5fZ2V0Q29sb3IoXG4gICAgICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlcyxcbiAgICAgICAgICAgICAgICAgIGNvbG9yUHJvcGVydHlNYXAuc29sYXIsXG4gICAgICAgICAgICAgICAgICBzb2xhckNvbG9yLFxuICAgICAgICAgICAgICAgICAgaWR4XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBodG1sYDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19yb3dcIj5cbiAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIGNlbGwtYnVsbGV0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ1bGxldFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9JHtzdHlsZU1hcCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yICsgXCI3RlwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIiBzY29wZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAke2dldFN0YXRpc3RpY0xhYmVsKFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzcyxcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbSxcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhPy5zdGF0c01ldGFkYXRhW3NvdXJjZS5zdGF0X2VuZXJneV9mcm9tXVxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICR7Y29tcGFyZVxuICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcihjb21wYXJlRW5lcmd5LCB0aGlzLmhhc3MubG9jYWxlKX0ga1doXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCI+PC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1gXG4gICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoZW5lcmd5LCB0aGlzLmhhc3MubG9jYWxlKX0ga1doXG4gICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCI+PC90ZD5gXG4gICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICA8L3RyPmA7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAke3R5cGVzLnNvbGFyXG4gICAgICAgICAgICAgICAgPyBodG1sYDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19yb3cgdG90YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmxvdmVsYWNlLmNhcmRzLmVuZXJneS5lbmVyZ3lfc291cmNlc190YWJsZS5zb2xhcl90b3RhbFwiXG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgJHtjb21wYXJlXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIodG90YWxTb2xhckNvbXBhcmUsIHRoaXMuaGFzcy5sb2NhbGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtXaFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiPjwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKHRvdGFsU29sYXIsIHRoaXMuaGFzcy5sb2NhbGUpfSBrV2hcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICA8L3RyPmBcbiAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICR7dHlwZXMuYmF0dGVyeT8ubWFwKChzb3VyY2UsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuZXJneUZyb20gPVxuICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c1tzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbV1cbiAgICAgICAgICAgICAgICAgICkgfHwgMDtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmVyZ3lUbyA9XG4gICAgICAgICAgICAgICAgICBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzW3NvdXJjZS5zdGF0X2VuZXJneV90b11cbiAgICAgICAgICAgICAgICAgICkgfHwgMDtcbiAgICAgICAgICAgICAgICB0b3RhbEJhdHRlcnkgKz0gZW5lcmd5RnJvbSAtIGVuZXJneVRvO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZW5lcmd5RnJvbUNvbXBhcmUgPVxuICAgICAgICAgICAgICAgICAgKGNvbXBhcmUgJiZcbiAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzQ29tcGFyZVtzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbV1cbiAgICAgICAgICAgICAgICAgICAgKSkgfHxcbiAgICAgICAgICAgICAgICAgIDA7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5lcmd5VG9Db21wYXJlID1cbiAgICAgICAgICAgICAgICAgIChjb21wYXJlICYmXG4gICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aChcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c0NvbXBhcmVbc291cmNlLnN0YXRfZW5lcmd5X3RvXVxuICAgICAgICAgICAgICAgICAgICApKSB8fFxuICAgICAgICAgICAgICAgICAgMDtcbiAgICAgICAgICAgICAgICB0b3RhbEJhdHRlcnlDb21wYXJlICs9IGVuZXJneUZyb21Db21wYXJlIC0gZW5lcmd5VG9Db21wYXJlO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZnJvbUNvbG9yID0gdGhpcy5fZ2V0Q29sb3IoXG4gICAgICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlcyxcbiAgICAgICAgICAgICAgICAgIGNvbG9yUHJvcGVydHlNYXAuYmF0dGVyeV9vdXQsXG4gICAgICAgICAgICAgICAgICBiYXR0ZXJ5RnJvbUNvbG9yLFxuICAgICAgICAgICAgICAgICAgaWR4XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b0NvbG9yID0gdGhpcy5fZ2V0Q29sb3IoXG4gICAgICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlcyxcbiAgICAgICAgICAgICAgICAgIGNvbG9yUHJvcGVydHlNYXAuYmF0dGVyeV9pbixcbiAgICAgICAgICAgICAgICAgIGJhdHRlcnlUb0NvbG9yLFxuICAgICAgICAgICAgICAgICAgaWR4XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBodG1sYDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19yb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgY2VsbC1idWxsZXRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ1bGxldFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT0ke3N0eWxlTWFwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGZyb21Db2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBmcm9tQ29sb3IgKyBcIjdGXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCIgc2NvcGU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAke2dldFN0YXRpc3RpY0xhYmVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLnN0YXRfZW5lcmd5X2Zyb20sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhPy5zdGF0c01ldGFkYXRhW3NvdXJjZS5zdGF0X2VuZXJneV9mcm9tXVxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICR7Y29tcGFyZVxuICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKGVuZXJneUZyb21Db21wYXJlLCB0aGlzLmhhc3MubG9jYWxlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrV2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9YFxuICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcihlbmVyZ3lGcm9tLCB0aGlzLmhhc3MubG9jYWxlKX0ga1doXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCI+PC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19yb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgY2VsbC1idWxsZXRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ1bGxldFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT0ke3N0eWxlTWFwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IHRvQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdG9Db2xvciArIFwiN0ZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIiBzY29wZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICR7Z2V0U3RhdGlzdGljTGFiZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc3RhdF9lbmVyZ3lfdG8sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhPy5zdGF0c01ldGFkYXRhW3NvdXJjZS5zdGF0X2VuZXJneV90b11cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICAke2NvbXBhcmVcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZXJneVRvQ29tcGFyZSAqIC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNzLmxvY2FsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga1doXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCI+PC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifWBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoZW5lcmd5VG8gKiAtMSwgdGhpcy5oYXNzLmxvY2FsZSl9IGtXaFxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiPjwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgIDwvdHI+YDtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICR7dHlwZXMuYmF0dGVyeVxuICAgICAgICAgICAgICAgID8gaHRtbGA8dHIgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fcm93IHRvdGFsXCI+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCI+PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIiBzY29wZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5jYXJkcy5lbmVyZ3kuZW5lcmd5X3NvdXJjZXNfdGFibGUuYmF0dGVyeV90b3RhbFwiXG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgJHtjb21wYXJlXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYCA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxCYXR0ZXJ5Q29tcGFyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzcy5sb2NhbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtXaFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiPjwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKHRvdGFsQmF0dGVyeSwgdGhpcy5oYXNzLmxvY2FsZSl9IGtXaFxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiPjwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgIDwvdHI+YFxuICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgJHt0eXBlcy5ncmlkPy5tYXAoXG4gICAgICAgICAgICAgICAgKHNvdXJjZSkgPT5cbiAgICAgICAgICAgICAgICAgIGh0bWxgJHtzb3VyY2UuZmxvd19mcm9tLm1hcCgoZmxvdywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZXJneSA9XG4gICAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuc3RhdHNbZmxvdy5zdGF0X2VuZXJneV9mcm9tXVxuICAgICAgICAgICAgICAgICAgICAgICkgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxHcmlkICs9IGVuZXJneTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wYXJlRW5lcmd5ID1cbiAgICAgICAgICAgICAgICAgICAgICAoY29tcGFyZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c0NvbXBhcmVbZmxvdy5zdGF0X2VuZXJneV9mcm9tXVxuICAgICAgICAgICAgICAgICAgICAgICAgKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgICAgICAgICB0b3RhbEdyaWRDb21wYXJlICs9IGNvbXBhcmVFbmVyZ3k7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29zdF9zdGF0ID1cbiAgICAgICAgICAgICAgICAgICAgICBmbG93LnN0YXRfY29zdCB8fFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLmluZm8uY29zdF9zZW5zb3JzW2Zsb3cuc3RhdF9lbmVyZ3lfZnJvbV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvc3QgPSBjb3N0X3N0YXRcbiAgICAgICAgICAgICAgICAgICAgICA/IGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuc3RhdHNbY29zdF9zdGF0XVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29zdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgIGhhc0dyaWRDb3N0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICB0b3RhbEdyaWRDb3N0ICs9IGNvc3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3N0Q29tcGFyZSA9XG4gICAgICAgICAgICAgICAgICAgICAgY29tcGFyZSAmJiBjb3N0X3N0YXRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzQ29tcGFyZVtjb3N0X3N0YXRdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29zdENvbXBhcmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0b3RhbEdyaWRDb3N0Q29tcGFyZSArPSBjb3N0Q29tcGFyZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5fZ2V0Q29sb3IoXG4gICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZXMsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3JQcm9wZXJ0eU1hcC5ncmlkX2NvbnN1bXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN1bXB0aW9uQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgaWR4XG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh0bWxgPHRyIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX3Jvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIGNlbGwtYnVsbGV0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnVsbGV0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9JHtzdHlsZU1hcCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3IgKyBcIjdGXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIiBzY29wZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHtnZXRTdGF0aXN0aWNMYWJlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmbG93LnN0YXRfZW5lcmd5X2Zyb20sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGE/LnN0YXRzTWV0YWRhdGFbZmxvdy5zdGF0X2VuZXJneV9mcm9tXVxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICR7Y29tcGFyZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoY29tcGFyZUVuZXJneSwgdGhpcy5oYXNzLmxvY2FsZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrV2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2Nvc3RDb21wYXJlICE9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGZvcm1hdE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3N0Q29tcGFyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc3MubG9jYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogdGhpcy5oYXNzLmNvbmZpZy5jdXJyZW5jeSEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifWBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKGVuZXJneSwgdGhpcy5oYXNzLmxvY2FsZSl9IGtXaFxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGAgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2Nvc3QgIT09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZm9ybWF0TnVtYmVyKGNvc3QsIHRoaXMuaGFzcy5sb2NhbGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJjdXJyZW5jeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiB0aGlzLmhhc3MuY29uZmlnLmN1cnJlbmN5ISxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgIDwvdHI+YDtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgJHtzb3VyY2UuZmxvd190by5tYXAoKGZsb3csIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmVyZ3kgPVxuICAgICAgICAgICAgICAgICAgICAgIChjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c1tmbG93LnN0YXRfZW5lcmd5X3RvXVxuICAgICAgICAgICAgICAgICAgICAgICkgfHwgMCkgKiAtMTtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxHcmlkICs9IGVuZXJneTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29zdF9zdGF0ID1cbiAgICAgICAgICAgICAgICAgICAgICBmbG93LnN0YXRfY29tcGVuc2F0aW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuaW5mby5jb3N0X3NlbnNvcnNbZmxvdy5zdGF0X2VuZXJneV90b107XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvc3QgPSBjb3N0X3N0YXRcbiAgICAgICAgICAgICAgICAgICAgICA/IChjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzW2Nvc3Rfc3RhdF1cbiAgICAgICAgICAgICAgICAgICAgICAgICkgfHwgMCkgKiAtMVxuICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvc3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICBoYXNHcmlkQ29zdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgdG90YWxHcmlkQ29zdCArPSBjb3N0O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5lcmd5Q29tcGFyZSA9XG4gICAgICAgICAgICAgICAgICAgICAgKChjb21wYXJlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzQ29tcGFyZVtmbG93LnN0YXRfZW5lcmd5X3RvXVxuICAgICAgICAgICAgICAgICAgICAgICAgKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIDApICogLTE7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsR3JpZENvbXBhcmUgKz0gZW5lcmd5Q29tcGFyZTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3N0Q29tcGFyZSA9XG4gICAgICAgICAgICAgICAgICAgICAgY29tcGFyZSAmJiBjb3N0X3N0YXRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c0NvbXBhcmVbY29zdF9zdGF0XVxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHx8IDApICogLTFcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvc3RDb21wYXJlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdG90YWxHcmlkQ29zdENvbXBhcmUgKz0gY29zdENvbXBhcmU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xvciA9IHRoaXMuX2dldENvbG9yKFxuICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVzLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yUHJvcGVydHlNYXAuZ3JpZF9yZXR1cm4sXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgaWR4XG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh0bWxgPHRyIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX3Jvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIGNlbGwtYnVsbGV0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnVsbGV0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9JHtzdHlsZU1hcCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3IgKyBcIjdGXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIiBzY29wZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHtnZXRTdGF0aXN0aWNMYWJlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmbG93LnN0YXRfZW5lcmd5X3RvLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhPy5zdGF0c01ldGFkYXRhW2Zsb3cuc3RhdF9lbmVyZ3lfdG9dXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgJHtjb21wYXJlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcihlbmVyZ3lDb21wYXJlLCB0aGlzLmhhc3MubG9jYWxlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtXaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Y29zdENvbXBhcmUgIT09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZm9ybWF0TnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvc3RDb21wYXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzcy5sb2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiB0aGlzLmhhc3MuY29uZmlnLmN1cnJlbmN5ISxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoZW5lcmd5LCB0aGlzLmhhc3MubG9jYWxlKX0ga1doXG4gICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYCA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Y29zdCAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXROdW1iZXIoY29zdCwgdGhpcy5oYXNzLmxvY2FsZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHRoaXMuaGFzcy5jb25maWcuY3VycmVuY3khLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgPC90cj5gO1xuICAgICAgICAgICAgICAgICAgfSl9YFxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAke3R5cGVzLmdyaWRcbiAgICAgICAgICAgICAgICA/IGh0bWxgIDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19yb3cgdG90YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmxvdmVsYWNlLmNhcmRzLmVuZXJneS5lbmVyZ3lfc291cmNlc190YWJsZS5ncmlkX3RvdGFsXCJcbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICAke2NvbXBhcmVcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcih0b3RhbEdyaWRDb21wYXJlLCB0aGlzLmhhc3MubG9jYWxlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrV2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2hhc0dyaWRDb3N0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXROdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsR3JpZENvc3RDb21wYXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc3MubG9jYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogdGhpcy5oYXNzLmNvbmZpZy5jdXJyZW5jeSEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9YFxuICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcih0b3RhbEdyaWQsIHRoaXMuaGFzcy5sb2NhbGUpfSBrV2hcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke2hhc0dyaWRDb3N0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXROdW1iZXIodG90YWxHcmlkQ29zdCwgdGhpcy5oYXNzLmxvY2FsZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJjdXJyZW5jeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogdGhpcy5oYXNzLmNvbmZpZy5jdXJyZW5jeSEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgIDwvdHI+YFxuICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgJHt0eXBlcy5nYXM/Lm1hcCgoc291cmNlLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmVyZ3kgPVxuICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c1tzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbV1cbiAgICAgICAgICAgICAgICAgICkgfHwgMDtcbiAgICAgICAgICAgICAgICB0b3RhbEdhcyArPSBlbmVyZ3k7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBlbmVyZ3lDb21wYXJlID1cbiAgICAgICAgICAgICAgICAgIChjb21wYXJlICYmXG4gICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aChcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c0NvbXBhcmVbc291cmNlLnN0YXRfZW5lcmd5X2Zyb21dXG4gICAgICAgICAgICAgICAgICAgICkpIHx8XG4gICAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgICAgIHRvdGFsR2FzQ29tcGFyZSArPSBlbmVyZ3lDb21wYXJlO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY29zdF9zdGF0ID1cbiAgICAgICAgICAgICAgICAgIHNvdXJjZS5zdGF0X2Nvc3QgfHxcbiAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLmluZm8uY29zdF9zZW5zb3JzW3NvdXJjZS5zdGF0X2VuZXJneV9mcm9tXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb3N0ID0gY29zdF9zdGF0XG4gICAgICAgICAgICAgICAgICA/IGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aCh0aGlzLl9kYXRhIS5zdGF0c1tjb3N0X3N0YXRdKSB8fFxuICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGNvc3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGhhc0dhc0Nvc3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgdG90YWxHYXNDb3N0ICs9IGNvc3Q7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgY29zdENvbXBhcmUgPVxuICAgICAgICAgICAgICAgICAgY29tcGFyZSAmJiBjb3N0X3N0YXRcbiAgICAgICAgICAgICAgICAgICAgPyBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c0NvbXBhcmVbY29zdF9zdGF0XVxuICAgICAgICAgICAgICAgICAgICAgICkgfHwgMFxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGNvc3RDb21wYXJlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICB0b3RhbEdhc0Nvc3RDb21wYXJlICs9IGNvc3RDb21wYXJlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5fZ2V0Q29sb3IoXG4gICAgICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlcyxcbiAgICAgICAgICAgICAgICAgIGNvbG9yUHJvcGVydHlNYXAuZ2FzLFxuICAgICAgICAgICAgICAgICAgZ2FzQ29sb3IsXG4gICAgICAgICAgICAgICAgICBpZHhcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGh0bWxgPHRyIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX3Jvd1wiPlxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgY2VsbC1idWxsZXRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnVsbGV0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT0ke3N0eWxlTWFwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3IgKyBcIjdGXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICR7Z2V0U3RhdGlzdGljTGFiZWwoXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNzLFxuICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5zdGF0X2VuZXJneV9mcm9tLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGE/LnN0YXRzTWV0YWRhdGFbc291cmNlLnN0YXRfZW5lcmd5X2Zyb21dXG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgJHtjb21wYXJlXG4gICAgICAgICAgICAgICAgICAgID8gaHRtbGAgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcihlbmVyZ3lDb21wYXJlLCB0aGlzLmhhc3MubG9jYWxlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtnYXNVbml0fVxuICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Y29zdENvbXBhcmUgIT09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXROdW1iZXIoY29zdENvbXBhcmUsIHRoaXMuaGFzcy5sb2NhbGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogdGhpcy5oYXNzLmNvbmZpZy5jdXJyZW5jeSEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9YFxuICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKGVuZXJneSwgdGhpcy5oYXNzLmxvY2FsZSl9ICR7Z2FzVW5pdH1cbiAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAke2Nvc3QgIT09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXROdW1iZXIoY29zdCwgdGhpcy5oYXNzLmxvY2FsZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiB0aGlzLmhhc3MuY29uZmlnLmN1cnJlbmN5ISxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPC90ZD5gXG4gICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICA8L3RyPmA7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAke3R5cGVzLmdhc1xuICAgICAgICAgICAgICAgID8gaHRtbGA8dHIgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fcm93IHRvdGFsXCI+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCI+PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIiBzY29wZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5jYXJkcy5lbmVyZ3kuZW5lcmd5X3NvdXJjZXNfdGFibGUuZ2FzX3RvdGFsXCJcbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICAke2NvbXBhcmVcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcih0b3RhbEdhc0NvbXBhcmUsIHRoaXMuaGFzcy5sb2NhbGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Z2FzVW5pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2hhc0dhc0Nvc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGZvcm1hdE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxHYXNDb3N0Q29tcGFyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNzLmxvY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHRoaXMuaGFzcy5jb25maWcuY3VycmVuY3khLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifWBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIodG90YWxHYXMsIHRoaXMuaGFzcy5sb2NhbGUpfSAke2dhc1VuaXR9XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtoYXNHYXNDb3N0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXROdW1iZXIodG90YWxHYXNDb3N0LCB0aGlzLmhhc3MubG9jYWxlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiB0aGlzLmhhc3MuY29uZmlnLmN1cnJlbmN5ISxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgPC90cj5gXG4gICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAke3R5cGVzLndhdGVyPy5tYXAoKHNvdXJjZSwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5lcmd5ID1cbiAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuc3RhdHNbc291cmNlLnN0YXRfZW5lcmd5X2Zyb21dXG4gICAgICAgICAgICAgICAgICApIHx8IDA7XG4gICAgICAgICAgICAgICAgdG90YWxXYXRlciArPSBlbmVyZ3k7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBlbmVyZ3lDb21wYXJlID1cbiAgICAgICAgICAgICAgICAgIChjb21wYXJlICYmXG4gICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aChcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c0NvbXBhcmVbc291cmNlLnN0YXRfZW5lcmd5X2Zyb21dXG4gICAgICAgICAgICAgICAgICAgICkpIHx8XG4gICAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgICAgIHRvdGFsV2F0ZXJDb21wYXJlICs9IGVuZXJneUNvbXBhcmU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb3N0X3N0YXQgPVxuICAgICAgICAgICAgICAgICAgc291cmNlLnN0YXRfY29zdCB8fFxuICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuaW5mby5jb3N0X3NlbnNvcnNbc291cmNlLnN0YXRfZW5lcmd5X2Zyb21dO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvc3QgPSBjb3N0X3N0YXRcbiAgICAgICAgICAgICAgICAgID8gY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKHRoaXMuX2RhdGEhLnN0YXRzW2Nvc3Rfc3RhdF0pIHx8XG4gICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoY29zdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgaGFzV2F0ZXJDb3N0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHRvdGFsV2F0ZXJDb3N0ICs9IGNvc3Q7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgY29zdENvbXBhcmUgPVxuICAgICAgICAgICAgICAgICAgY29tcGFyZSAmJiBjb3N0X3N0YXRcbiAgICAgICAgICAgICAgICAgICAgPyBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c0NvbXBhcmVbY29zdF9zdGF0XVxuICAgICAgICAgICAgICAgICAgICAgICkgfHwgMFxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGNvc3RDb21wYXJlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICB0b3RhbFdhdGVyQ29zdENvbXBhcmUgKz0gY29zdENvbXBhcmU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSB0aGlzLl9nZXRDb2xvcihcbiAgICAgICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVzLFxuICAgICAgICAgICAgICAgICAgY29sb3JQcm9wZXJ0eU1hcC53YXRlcixcbiAgICAgICAgICAgICAgICAgIHdhdGVyQ29sb3IsXG4gICAgICAgICAgICAgICAgICBpZHhcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGh0bWxgPHRyIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX3Jvd1wiPlxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgY2VsbC1idWxsZXRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnVsbGV0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT0ke3N0eWxlTWFwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3IgKyBcIjdGXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICR7Z2V0U3RhdGlzdGljTGFiZWwoXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNzLFxuICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5zdGF0X2VuZXJneV9mcm9tLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGE/LnN0YXRzTWV0YWRhdGFbc291cmNlLnN0YXRfZW5lcmd5X2Zyb21dXG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgJHtjb21wYXJlXG4gICAgICAgICAgICAgICAgICAgID8gaHRtbGAgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcihlbmVyZ3lDb21wYXJlLCB0aGlzLmhhc3MubG9jYWxlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHt3YXRlclVuaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtjb3N0Q29tcGFyZSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGZvcm1hdE51bWJlcihjb3N0Q29tcGFyZSwgdGhpcy5oYXNzLmxvY2FsZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiB0aGlzLmhhc3MuY29uZmlnLmN1cnJlbmN5ISxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1gXG4gICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoZW5lcmd5LCB0aGlzLmhhc3MubG9jYWxlKX0gJHt3YXRlclVuaXR9XG4gICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHtjb3N0ICE9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gZm9ybWF0TnVtYmVyKGNvc3QsIHRoaXMuaGFzcy5sb2NhbGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogdGhpcy5oYXNzLmNvbmZpZy5jdXJyZW5jeSEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgPC90cj5gO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgJHt0eXBlcy53YXRlclxuICAgICAgICAgICAgICAgID8gaHRtbGA8dHIgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fcm93IHRvdGFsXCI+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCI+PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIiBzY29wZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5jYXJkcy5lbmVyZ3kuZW5lcmd5X3NvdXJjZXNfdGFibGUud2F0ZXJfdG90YWxcIlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICR7Y29tcGFyZVxuICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKHRvdGFsV2F0ZXJDb21wYXJlLCB0aGlzLmhhc3MubG9jYWxlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3dhdGVyVW5pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2hhc1dhdGVyQ29zdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZm9ybWF0TnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFdhdGVyQ29zdENvbXBhcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzcy5sb2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJjdXJyZW5jeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiB0aGlzLmhhc3MuY29uZmlnLmN1cnJlbmN5ISxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKHRvdGFsV2F0ZXIsIHRoaXMuaGFzcy5sb2NhbGUpfSAke3dhdGVyVW5pdH1cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke2hhc1dhdGVyQ29zdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZm9ybWF0TnVtYmVyKHRvdGFsV2F0ZXJDb3N0LCB0aGlzLmhhc3MubG9jYWxlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiB0aGlzLmhhc3MuY29uZmlnLmN1cnJlbmN5ISxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgPC90cj5gXG4gICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAke1toYXNHYXNDb3N0LCBoYXNXYXRlckNvc3QsIGhhc0dyaWRDb3N0XS5maWx0ZXIoQm9vbGVhbikubGVuZ3RoID5cbiAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgID8gaHRtbGA8dHIgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fcm93IHRvdGFsXCI+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCI+PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIiBzY29wZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5jYXJkcy5lbmVyZ3kuZW5lcmd5X3NvdXJjZXNfdGFibGUudG90YWxfY29zdHNcIlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICR7Y29tcGFyZVxuICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiPjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEdhc0Nvc3RDb21wYXJlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxHcmlkQ29zdENvbXBhcmUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFdhdGVyQ29zdENvbXBhcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc3MubG9jYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJjdXJyZW5jeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogdGhpcy5oYXNzLmNvbmZpZy5jdXJyZW5jeSEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiPjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEdhc0Nvc3QgKyB0b3RhbEdyaWRDb3N0ICsgdG90YWxXYXRlckNvc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc3MubG9jYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJjdXJyZW5jeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogdGhpcy5oYXNzLmNvbmZpZy5jdXJyZW5jeSEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgIDwvdHI+YFxuICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2hhLWNhcmQ+YDtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCk6IENTU1Jlc3VsdEdyb3VwIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgJHt1bnNhZmVDU1MoZGF0YVRhYmxlU3R5bGVzKX1cbiAgICAgIC5tZGMtZGF0YS10YWJsZSB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBib3JkZXI6IDA7XG4gICAgICB9XG4gICAgICAubWRjLWRhdGEtdGFibGVfX2hlYWRlci1jZWxsLFxuICAgICAgLm1kYy1kYXRhLXRhYmxlX19jZWxsIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktdGV4dC1jb2xvcik7XG4gICAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6IHZhcigtLWRpdmlkZXItY29sb3IpO1xuICAgICAgICB0ZXh0LWFsaWduOiB2YXIoLS1mbG9hdC1zdGFydCk7XG4gICAgICB9XG4gICAgICAubWRjLWRhdGEtdGFibGVfX3Jvdzpub3QoLm1kYy1kYXRhLXRhYmxlX19yb3ctLXNlbGVjdGVkKTpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEodmFyKC0tcmdiLXByaW1hcnktdGV4dC1jb2xvciksIDAuMDQpO1xuICAgICAgfVxuICAgICAgLnRvdGFsIHtcbiAgICAgICAgLS1tZGMtdHlwb2dyYXBoeS1ib2R5Mi1mb250LXdlaWdodDogNTAwO1xuICAgICAgfVxuICAgICAgLnRvdGFsIC5tZGMtZGF0YS10YWJsZV9fY2VsbCB7XG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgIH1cbiAgICAgIGhhLWNhcmQge1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICB9XG4gICAgICAuY2FyZC1oZWFkZXIge1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogMDtcbiAgICAgIH1cbiAgICAgIC5jb250ZW50IHtcbiAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgIH1cbiAgICAgIC5oYXMtaGVhZGVyIHtcbiAgICAgICAgcGFkZGluZy10b3A6IDA7XG4gICAgICB9XG4gICAgICAuY2VsbC1idWxsZXQge1xuICAgICAgICB3aWR0aDogMzJweDtcbiAgICAgICAgcGFkZGluZy1yaWdodDogMDtcbiAgICAgICAgcGFkZGluZy1pbmxpbmUtZW5kOiAwO1xuICAgICAgICBwYWRkaW5nLWlubGluZS1zdGFydDogMTZweDtcbiAgICAgICAgZGlyZWN0aW9uOiB2YXIoLS1kaXJlY3Rpb24pO1xuICAgICAgfVxuICAgICAgLmJ1bGxldCB7XG4gICAgICAgIGJvcmRlci13aWR0aDogMXB4O1xuICAgICAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGhlaWdodDogMTZweDtcbiAgICAgICAgd2lkdGg6IDMycHg7XG4gICAgICB9XG4gICAgICAubWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWMge1xuICAgICAgICBkaXJlY3Rpb246IGx0cjtcbiAgICAgIH1cbiAgICBgO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJodWktZW5lcmd5LXNvdXJjZXMtdGFibGUtY2FyZFwiOiBIdWlFbmVyZ3lTb3VyY2VzVGFibGVDYXJkO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/lovelace/cards/energy/hui-energy-sources-table-card.ts\n");

/***/ })

};
