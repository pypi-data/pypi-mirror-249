"use strict";(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[5354],{15354:(o,t,e)=>{e.r(t),e.d(t,{default:()=>h});var a=e(93388),i=e(81292),l=e(9617),n=e(66029),r=e(93481),p=e(56811),d=e(90811),s=e(63839),c=e(23383),m=e(77026);function u(o,t){switch(t.type){case"comparisonValueChanged":return{...o,[t.isOptional?"optionalComparisonValue":"mandatoryComparisonValue"]:t.value};case"comparisonOperatorChanged":{const{isOptional:e,operator:a}=t;if(e)return{...o,optionalComparisonOperator:a};const{optionalComparisonOperator:i,optionalComparisonValue:l}=["eq","neq"].includes(a)?{optionalComparisonOperator:void 0,optionalComparisonValue:void 0}:o;return a.startsWith("lt")&&i?.startsWith("lt")?{...o,mandatoryComparisonOperator:a,optionalComparisonOperator:"gt",optionalComparisonValue:void 0}:a.startsWith("gt")&&i?.startsWith("gt")?{...o,mandatoryComparisonOperator:a,optionalComparisonOperator:"lt",optionalComparisonValue:void 0}:{...o,mandatoryComparisonOperator:a,optionalComparisonOperator:i,optionalComparisonValue:l}}case"optionalComparisonValueReset":return{...o,optionalComparisonValue:void 0};case"colorSelected":return{...o,selectedColor:t.color}}}const{Option:C}=l.Select,y=["#8C8C8C","#FF7875","#FFC069","#FFF566","#95DE64","#69C0FF","#5CDBD3","#B37FEB","#FF85C0","#595959","#FF4D4F","#FFA940","#FFEC3D","#73D13D","#40A9FF","#36CFC9","#9254DE","#F759AB","#262626","#F5222D","#FA8C16","#FADB14","#52C41A","#1890FF","#13C2C2","#722ED1","#EB2F96"],h=o=>{const{formatMessage:t}=(0,r.useIntl)(),e=(0,p.Fg)(),{conditionalStyle:h,colorType:g}=o,{style:v,...b}=h||{style:{}},O=void 0!==h&&0===Object.keys(b).length,[F,B]=(0,n.useReducer)(u,{},(()=>function(o){const{style:t,...e}=o||{style:{}},a={mandatoryComparisonOperator:"eq",selectedColor:t?.backgroundColor},i=(0,m.sortBy)(Object.entries(e),(([o,t])=>t));return i.length>0&&(a.mandatoryComparisonOperator=i[0][0],a.mandatoryComparisonValue=i[0][1]),2===i.length&&(a.optionalComparisonOperator=i[1][0],a.optionalComparisonValue=i[1][1]),a}(o.conditionalStyle))),{selectedColor:S,mandatoryComparisonValue:f,optionalComparisonValue:V,mandatoryComparisonOperator:k,optionalComparisonOperator:x}=F,D="eq"===k||"neq"===k,[Z,w,X]=function({mandatoryComparisonValue:o,optionalComparisonOperator:t,optionalComparisonValue:e,selectedColor:a},i){return void 0===a?[!1,"invalidConditionalStyle","color"]:i?[!0]:void 0===o||void 0===e&&void 0!==t?[!1,"invalidConditionalStyle","value"]:void 0!==e&&void 0===t?[!1,"invalidConditionalStyle","operator"]:void 0!==e&&void 0!==t?t.startsWith("lt")?e>o?[!0]:[!1,"invalidComparison"]:e<o?[!0]:[!1,"invalidComparison"]:[!0]}(F,O);return(0,a.BX)("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[(0,a.BX)("div",{style:{marginTop:3,flexGrow:1},children:[O?null:(0,a.BX)("div",{children:[(0,a.tZ)("div",{style:{marginBottom:4},children:t({id:"aui.conditionalStyle.ifValue"})}),(0,a.BX)("div",{style:{display:"flex",marginBottom:4},children:[(0,a.tZ)(l.Select,{"aria-label":"Mandatory operator selection",style:{width:"70%",marginRight:5},value:k,onChange:o=>{B({type:"comparisonOperatorChanged",operator:o})},children:["eq","neq","lt","lte","gt","gte"].map((o=>(0,a.tZ)(C,{value:o,children:t({id:`aui.conditionalStyle.operator.${o}`})},o)))}),(0,a.tZ)(l.InputNumber,{"aria-label":"Mandatory comparison value input",style:{width:"30%"},value:f,type:"number",onChange:o=>"number"==typeof o&&B({type:"comparisonValueChanged",value:o})})]})]}),O?null:(0,a.BX)("div",{children:[(0,a.BX)("div",{style:{marginBottom:4},children:[t({id:"aui.and"}),"Â ",(0,a.BX)(s.Text,{small:!0,style:{color:e.grayScale[6]},children:["(",t({id:"aui.conditionalStyle.optional"}),")"]})]}),(0,a.BX)("div",{style:{display:"flex",marginBottom:4},children:[(0,a.tZ)(l.Select,{disabled:D,style:{width:"70%",marginRight:5},value:x,onChange:o=>B({type:"comparisonOperatorChanged",operator:o,isOptional:!0}),"aria-label":"Optional operator selection",allowClear:!0,children:("lt"===k||"lte"===k?["gt","gte"]:["lt","lte"]).map((o=>(0,a.tZ)(C,{value:o,children:t({id:`aui.conditionalStyle.operator.${o}`})},o)))}),(0,a.tZ)(l.InputNumber,{"aria-label":"Optional comparison value input",style:{width:"30%"},type:"number",disabled:D,value:V,onChange:o=>{void 0===o||""==`${o}`?B({type:"optionalComparisonValueReset"}):"number"==typeof o&&B({type:"comparisonValueChanged",value:o,isOptional:!0})}})]})]}),(0,a.BX)("div",{children:[(0,a.tZ)("div",{style:{marginBottom:4,marginTop:8},children:t({id:"aui.conditionalStyle.styleAs"})}),(0,a.tZ)("div",{style:{height:26,lineHeight:"26px",border:`1px solid ${e.grayScale[4]}`,backgroundColor:S&&"background"===g?(0,d.U)(S,o.colorOpacity??1):void 0,paddingLeft:5,marginBottom:4,color:g?S:e.textColor},children:"123"})]}),(0,a.BX)("div",{style:{marginBottom:5,marginTop:5},children:[(0,a.tZ)("div",{style:{marginBottom:2},children:t({id:"aui.conditionalStyle."+("text"===g?"textColors":"backgroundColors")})}),(0,a.tZ)(c.L,{colorOpacity:o.colorOpacity,selectedColor:S,onSelectedColorChanged:o=>B({type:"colorSelected",color:o}),colors:y,selectionMarkStyle:{color:e.selectionMarkDarkColor},numberOfColumns:9,numberOfRows:3})]})]}),(0,a.BX)("div",{style:{height:35,display:"flex",justifyContent:"flex-end",alignItems:"center"},children:[(0,a.tZ)(l.Button,{css:i.css`
            &.ant-btn {
              margin-right: 8px;
            }
          `,onClick:()=>o.onCancel(),children:t({id:"aui.cancel"})}),(0,a.tZ)(s.Tooltip,{trigger:Z?[]:["hover"],placement:"right",title:w?t({id:`aui.conditionalStyle.${w}`},{type:X}):"",children:(0,a.tZ)(l.Button,{disabled:!Z,"aria-label":"Submit",type:"primary",onClick:()=>{O?o.onSubmitDefaultStyle({backgroundColor:S}):o.onSubmit({[k]:f,...x&&V?{[x]:V}:{},style:{backgroundColor:S}})},children:t({id:"aui.conditionalStyle.apply"})})})]})]})}}}]);