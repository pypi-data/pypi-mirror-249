"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[97749],{76680:function(e,n,i){function t(e){return void 0===e||Array.isArray(e)?e:[e]}i.d(n,{r:function(){return t}})},59708:function(e,n,i){i.d(n,{K:function(){return t}});var t=function(e,n){var i=matchMedia(e),t=function(e){return n(e.matches)};return i.addListener(t),n(i.matches),function(){return i.removeListener(t)}}},41787:function(e,n,i){i.d(n,{E:function(){return s},s:function(){return a}});i(40271),i(60163),i(76843),i(46798),i(9849),i(13526),i(49089);var t=i(76680),r=i(56007);function o(e,n){var i=e.entity&&n.states[e.entity]?n.states[e.entity].state:r.nZ;return null!=e.state?(0,t.r)(e.state).includes(i):!(0,t.r)(e.state_not).includes(i)}function s(e,n){return e.every((function(e){if("condition"in e)switch(e.condition){case"screen":return!!(i=e).media_query&&matchMedia(i.media_query).matches;case"user":return function(e,n){var i;return!(!e.users||null===(i=n.user)||void 0===i||!i.id)&&e.users.includes(n.user.id)}(e,n);case"numeric_state":return function(e,n){var i,t=null!==(i=e.entity?n.states[e.entity]:void 0)&&void 0!==i?i:void 0;if(!t)return!1;var r=Number(t.state);return!isNaN(r)&&(null==e.above||e.above<r)&&(null==e.below||e.below>r)}(e,n);case"and":return function(e,n){return!e.conditions||s(e.conditions,n)}(e,n);case"or":return function(e,n){return!e.conditions||e.conditions.some((function(e){return s([e],n)}))}(e,n);default:return o(e,n)}var i;return o(e,n)}))}function u(e){return null!=e.entity&&(null!=e.state||null!=e.state_not)}function a(e){return e.every((function(e){if("condition"in e)switch(e.condition){case"screen":return null!=e.media_query;case"user":return function(e){return null!=e.users}(e);case"numeric_state":return function(e){return null!=e.entity&&(null!=e.above||null!=e.below)}(e);case"and":case"or":return function(e){return null!=e.conditions}(e);default:return u(e)}return u(e)}))}},69715:function(e,n,i){i.d(n,{g:function(){return k}});var t=i(33368),r=i(71650),o=i(82390),s=i(69205),u=i(70906),a=i(91808),d=i(34541),c=i(47838),l=i(53709),h=(i(34997),i(46798),i(9849),i(12148),i(36513),i(97393),i(51467),i(50289),i(94167),i(68144)),f=i(95260),v=i(59708),_=i(36639),y=i(41787);function m(e){return e.reduce((function(e,n){return"conditions"in n&&n.conditions&&e.push.apply(e,(0,l.Z)(m(n.conditions))),"condition"in n&&"screen"===n.condition&&n.media_query&&e.push(n.media_query),e}),[])}var k=(0,a.Z)([(0,f.Mo)("hui-conditional-base")],(function(e,n){var i=function(n){(0,s.Z)(a,n);var i=(0,u.Z)(a);function a(){var n;(0,r.Z)(this,a);for(var t=arguments.length,s=new Array(t),u=0;u<t;u++)s[u]=arguments[u];return n=i.call.apply(i,[this].concat(s)),e((0,o.Z)(n)),n}return(0,t.Z)(a)}(n);return{F:i,d:[{kind:"field",decorators:[(0,f.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,f.Cb)()],key:"editMode",value:void 0},{kind:"field",decorators:[(0,f.Cb)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,f.Cb)({type:Boolean,reflect:!0})],key:"hidden",value:function(){return!1}},{kind:"field",key:"_element",value:void 0},{kind:"field",key:"_mediaQueriesListeners",value:function(){return[]}},{kind:"field",key:"_mediaQueries",value:function(){return[]}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"validateConfig",value:function(e){if(!e.conditions)throw new Error("No conditions configured");if(!Array.isArray(e.conditions))throw new Error("Conditions need to be an array");if(!(0,y.s)(e.conditions))throw new Error("Conditions are invalid");this.lastChild&&this.removeChild(this.lastChild),this._config=e}},{kind:"method",key:"disconnectedCallback",value:function(){(0,d.Z)((0,c.Z)(i.prototype),"disconnectedCallback",this).call(this),this._clearMediaQueries()}},{kind:"method",key:"connectedCallback",value:function(){(0,d.Z)((0,c.Z)(i.prototype),"connectedCallback",this).call(this),this._listenMediaQueries(),this._updateVisibility()}},{kind:"method",key:"_clearMediaQueries",value:function(){for(this._mediaQueries=[];this._mediaQueriesListeners.length;)this._mediaQueriesListeners.pop()()}},{kind:"method",key:"_listenMediaQueries",value:function(){var e=this;if(this._config){var n=m(this._config.conditions);if(!(0,_.v)(n,this._mediaQueries)){for(this._mediaQueries=n;this._mediaQueriesListeners.length;)this._mediaQueriesListeners.pop()();n.forEach((function(n){var i=(0,v.K)(n,(function(n){1===e._config.conditions.length&&"condition"in e._config.conditions[0]&&"screen"===e._config.conditions[0].condition?e._setVisibility(n):e._updateVisibility()}));e._mediaQueriesListeners.push(i)}))}}}},{kind:"method",key:"update",value:function(e){(0,d.Z)((0,c.Z)(i.prototype),"update",this).call(this,e),(e.has("_element")||e.has("_config")||e.has("hass"))&&(this._listenMediaQueries(),this._updateVisibility())}},{kind:"method",key:"_updateVisibility",value:function(){if(this._element&&this.hass&&this._config){this._element.editMode=this.editMode;var e=(0,y.E)(this._config.conditions,this.hass);this._setVisibility(e)}}},{kind:"method",key:"_setVisibility",value:function(e){if(this._element&&this.hass){var n=this.editMode||e;this.hidden=!n,this.style.setProperty("display",n?"":"none"),n?(this._element.hass=this.hass,this._element.parentElement||this.appendChild(this._element)):this._element.parentElement&&this.removeChild(this._element)}}}]}}),h.fl)},97749:function(e,n,i){i.r(n);var t=i(33368),r=i(71650),o=i(82390),s=i(69205),u=i(70906),a=i(91808),d=(i(97393),i(51467),i(85717),i(95260)),c=i(69715),l=i(37482);(0,a.Z)([(0,d.Mo)("hui-conditional-row")],(function(e,n){var i=function(n){(0,s.Z)(a,n);var i=(0,u.Z)(a);function a(){var n;(0,r.Z)(this,a);for(var t=arguments.length,s=new Array(t),u=0;u<t;u++)s[u]=arguments[u];return n=i.call.apply(i,[this].concat(s)),e((0,o.Z)(n)),n}return(0,t.Z)(a)}(n);return{F:i,d:[{kind:"method",key:"setConfig",value:function(e){if(this.validateConfig(e),!e.row)throw new Error("No row configured");this._element=(0,l.m)(e.state_color?Object.assign({state_color:!0},e.row):e.row)}}]}}),c.g)},49089:function(e,n,i){var t=i(68077),r=i(72208),o=i(9160),s=i(22933),u=i(73177);t({target:"Iterator",proto:!0,real:!0},{every:function(e){s(this),o(e);var n=u(this),i=0;return!r(n,(function(n,t){if(!e(n,i++))return t()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})}}]);
//# sourceMappingURL=97749.--c3fAzzwa8.js.map