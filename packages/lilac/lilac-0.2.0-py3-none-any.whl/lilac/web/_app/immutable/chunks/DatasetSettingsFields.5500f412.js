import{S as Re,i as ze,s as Le,D as ve,Z as $,_ as ee,m as _,h as c,n as v,$ as Te,b as C,a0 as h,K as Ye,a1 as q,M as De,Q as Se,q as ie,r as ne,u as Pe,k as I,y as se,a as ce,l as E,z as he,c as de,F as re,A as ae,G as qe,a7 as He,a8 as xe,g as w,d as k,B as oe,L as et,N as pt,O as Je,x as ut,v as Ee,f as Me,ag as hi,w as rt,U as kt,V as yt,e as We,C as mi,H as _i,I as gi,J as bi,ab as Xe,o as ql,T as Yl,a9 as vi,a2 as It,R as Ul,a3 as Zl,ah as wi,X as pi,Y as ki,a4 as Lt}from"./index.6d58eddb.js";import{h as je,P as ft,b4 as yi,aY as Ii,a as Kl,a2 as Et,b5 as Wl,b6 as Gl,ar as Ql,X as st,ag as $e,b7 as ot,b2 as Ei,a7 as Qe,b8 as Mi,at as Vi,a1 as nt,d as ct,l as Pi,aa as Ci,av as at,b9 as Nt,ad as Ti,ba as Di,a9 as Xl,ap as Si,aO as Oi,bb as Ai,V as vt,bc as Ri,a5 as zi,a6 as Li,ac as Ni,aN as Bi,bd as Hi,x as Bt,am as Fi,a8 as ji,ay as Jl,aD as xl,be as $l,S as qi,b as ei,T as Yi,bf as Ui,aF as Ht}from"./Commands.5714a4b4.js";import{g as ti,s as Ft}from"./notificationsStore.a58b8b24.js";import{M as Rt}from"./ToastNotification.9fb7f813.js";import{T as Zi}from"./TrashCan.fe3fb1f6.js";import{g as Ki}from"./settingsStore.3abd8af5.js";import{C as Wi,a as Gi}from"./ChevronUp.d4050376.js";import{S as Qi}from"./Search.5f4df38b.js";import{_ as Xi}from"./preload-helper.41c905a7.js";import{d as Ji}from"./index.fcc110a5.js";import{c as xi,g as $i}from"./spanHighlight.04672534.js";import{I as en}from"./ItemMetadata.66ae0407.js";import{C as tn}from"./ComboBox.2e571d8b.js";function jt(i){let e,t;return{c(){e=$("title"),t=ie(i[1])},l(l){e=ee(l,"title",{});var n=_(e);t=ne(n,i[1]),n.forEach(c)},m(l,n){C(l,e,n),h(e,t)},p(l,n){n&2&&Pe(t,l[1])},d(l){l&&c(e)}}}function ln(i){let e,t,l=i[1]&&jt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<n.length;r+=1)s=ve(s,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=ee(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),Te(e,s)},m(r,o){C(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=jt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Te(e,s=Ye(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:q,o:q,d(r){r&&c(e),l&&l.d()}}}function nn(i,e,t){let l,n;const s=["size","title"];let r=De(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Se(u))),t(3,r=De(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,a,n,r,l]}class rn extends Re{constructor(e){super(),ze(this,e,nn,ln,Le,{size:0,title:1})}}function qt(i){let e,t;return{c(){e=$("title"),t=ie(i[1])},l(l){e=ee(l,"title",{});var n=_(e);t=ne(n,i[1]),n.forEach(c)},m(l,n){C(l,e,n),h(e,t)},p(l,n){n&2&&Pe(t,l[1])},d(l){l&&c(e)}}}function sn(i){let e,t,l=i[1]&&qt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<n.length;r+=1)s=ve(s,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=ee(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M24.59 16.59L17 24.17 17 4 15 4 15 24.17 7.41 16.59 6 18 16 28 26 18 24.59 16.59z"),Te(e,s)},m(r,o){C(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=qt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Te(e,s=Ye(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:q,o:q,d(r){r&&c(e),l&&l.d()}}}function an(i,e,t){let l,n;const s=["size","title"];let r=De(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Se(u))),t(3,r=De(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,a,n,r,l]}class on extends Re{constructor(e){super(),ze(this,e,an,sn,Le,{size:0,title:1})}}function Yt(i){let e,t;return{c(){e=$("title"),t=ie(i[1])},l(l){e=ee(l,"title",{});var n=_(e);t=ne(n,i[1]),n.forEach(c)},m(l,n){C(l,e,n),h(e,t)},p(l,n){n&2&&Pe(t,l[1])},d(l){l&&c(e)}}}function un(i){let e,t,l=i[1]&&Yt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<n.length;r+=1)s=ve(s,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=ee(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M16 4L6 14 7.41 15.41 15 7.83 15 28 17 28 17 7.83 24.59 15.41 26 14 16 4z"),Te(e,s)},m(r,o){C(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Yt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Te(e,s=Ye(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:q,o:q,d(r){r&&c(e),l&&l.d()}}}function fn(i,e,t){let l,n;const s=["size","title"];let r=De(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Se(u))),t(3,r=De(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,a,n,r,l]}class cn extends Re{constructor(e){super(),ze(this,e,fn,un,Le,{size:0,title:1})}}function Ut(i){let e,t;return{c(){e=$("title"),t=ie(i[1])},l(l){e=ee(l,"title",{});var n=_(e);t=ne(n,i[1]),n.forEach(c)},m(l,n){C(l,e,n),h(e,t)},p(l,n){n&2&&Pe(t,l[1])},d(l){l&&c(e)}}}function dn(i){let e,t,l,n=i[1]&&Ut(i),s=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<s.length;o+=1)r=ve(r,s[o]);return{c(){e=$("svg"),n&&n.c(),t=$("path"),l=$("path"),this.h()},l(o){e=ee(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=_(e);n&&n.l(a),t=ee(a,"path",{d:!0}),_(t).forEach(c),l=ee(a,"path",{d:!0}),_(l).forEach(c),a.forEach(c),this.h()},h(){v(t,"d","M20 20L21.4 21.4 18.8 24 28 24 28 26 18.8 26 21.4 28.6 20 30 15 25zM14 15H22V17H14zM14 8H22V10H14z"),v(l,"d","M13,28H8v-4h2v-2H8v-5h2v-2H8v-5h2V8H8V4h18v16h2V4c0-1.1-0.9-2-2-2H8C6.9,2,6,2.9,6,4v4H4v2h2v5H4v2h2v5H4v2h2v4	c0,1.1,0.9,2,2,2h5V28z"),Te(e,r)},m(o,a){C(o,e,a),n&&n.m(e,null),h(e,t),h(e,l)},p(o,[a]){o[1]?n?n.p(o,a):(n=Ut(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),Te(e,r=Ye(s,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:o[0]},a&1&&{height:o[0]},a&4&&o[2],a&8&&o[3]]))},i:q,o:q,d(o){o&&c(e),n&&n.d()}}}function hn(i,e,t){let l,n;const s=["size","title"];let r=De(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Se(u))),t(3,r=De(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,a,n,r,l]}class mn extends Re{constructor(e){super(),ze(this,e,hn,dn,Le,{size:0,title:1})}}function Zt(i){let e,t;return{c(){e=$("title"),t=ie(i[1])},l(l){e=ee(l,"title",{});var n=_(e);t=ne(n,i[1]),n.forEach(c)},m(l,n){C(l,e,n),h(e,t)},p(l,n){n&2&&Pe(t,l[1])},d(l){l&&c(e)}}}function _n(i){let e,t,l=i[1]&&Zt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<n.length;r+=1)s=ve(s,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=ee(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M10 16L20 6 21.4 7.4 12.8 16 21.4 24.6 20 26z"),Te(e,s)},m(r,o){C(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Zt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Te(e,s=Ye(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:q,o:q,d(r){r&&c(e),l&&l.d()}}}function gn(i,e,t){let l,n;const s=["size","title"];let r=De(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Se(u))),t(3,r=De(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,a,n,r,l]}class bn extends Re{constructor(e){super(),ze(this,e,gn,_n,Le,{size:0,title:1})}}function Kt(i){let e,t;return{c(){e=$("title"),t=ie(i[1])},l(l){e=ee(l,"title",{});var n=_(e);t=ne(n,i[1]),n.forEach(c)},m(l,n){C(l,e,n),h(e,t)},p(l,n){n&2&&Pe(t,l[1])},d(l){l&&c(e)}}}function vn(i){let e,t,l=i[1]&&Kt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<n.length;r+=1)s=ve(s,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=ee(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"),Te(e,s)},m(r,o){C(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Kt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Te(e,s=Ye(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:q,o:q,d(r){r&&c(e),l&&l.d()}}}function wn(i,e,t){let l,n;const s=["size","title"];let r=De(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Se(u))),t(3,r=De(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,a,n,r,l]}class pn extends Re{constructor(e){super(),ze(this,e,wn,vn,Le,{size:0,title:1})}}function Wt(i){let e,t;return{c(){e=$("title"),t=ie(i[1])},l(l){e=ee(l,"title",{});var n=_(e);t=ne(n,i[1]),n.forEach(c)},m(l,n){C(l,e,n),h(e,t)},p(l,n){n&2&&Pe(t,l[1])},d(l){l&&c(e)}}}function kn(i){let e,t,l,n,s,r,o=i[1]&&Wt(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],u={};for(let f=0;f<a.length;f+=1)u=ve(u,a[f]);return{c(){e=$("svg"),o&&o.c(),t=$("circle"),l=$("circle"),n=$("circle"),s=$("path"),r=$("path"),this.h()},l(f){e=ee(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var d=_(e);o&&o.l(d),t=ee(d,"circle",{cx:!0,cy:!0,r:!0}),_(t).forEach(c),l=ee(d,"circle",{cx:!0,cy:!0,r:!0}),_(l).forEach(c),n=ee(d,"circle",{cx:!0,cy:!0,r:!0}),_(n).forEach(c),s=ee(d,"path",{d:!0}),_(s).forEach(c),r=ee(d,"path",{d:!0}),_(r).forEach(c),d.forEach(c),this.h()},h(){v(t,"cx","7"),v(t,"cy","7"),v(t,"r","1"),v(l,"cx","7"),v(l,"cy","15"),v(l,"r","1"),v(n,"cx","7"),v(n,"cy","23"),v(n,"r","1"),v(s,"d","M12,26H4V20h8V18H4V12H22V4a2,2,0,0,0-2-2H4A2,2,0,0,0,2,4V26a2,2,0,0,0,2,2h8ZM4,4H20v6H4Z"),v(r,"d","M28,17v2.4131A6.996,6.996,0,1,0,22,30V28a5,5,0,1,1,4.5762-7H24v2h6V17Z"),Te(e,u)},m(f,d){C(f,e,d),o&&o.m(e,null),h(e,t),h(e,l),h(e,n),h(e,s),h(e,r)},p(f,[d]){f[1]?o?o.p(f,d):(o=Wt(f),o.c(),o.m(e,t)):o&&(o.d(1),o=null),Te(e,u=Ye(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},d&1&&{width:f[0]},d&1&&{height:f[0]},d&4&&f[2],d&8&&f[3]]))},i:q,o:q,d(f){f&&c(e),o&&o.d()}}}function yn(i,e,t){let l,n;const s=["size","title"];let r=De(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Se(u))),t(3,r=De(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,a,n,r,l]}class In extends Re{constructor(e){super(),ze(this,e,yn,kn,Le,{size:0,title:1})}}function Gt(i){let e,t;return{c(){e=$("title"),t=ie(i[1])},l(l){e=ee(l,"title",{});var n=_(e);t=ne(n,i[1]),n.forEach(c)},m(l,n){C(l,e,n),h(e,t)},p(l,n){n&2&&Pe(t,l[1])},d(l){l&&c(e)}}}function En(i){let e,t,l,n,s,r,o,a=i[1]&&Gt(i),u=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],f={};for(let d=0;d<u.length;d+=1)f=ve(f,u[d]);return{c(){e=$("svg"),a&&a.c(),t=$("circle"),l=$("path"),n=$("circle"),s=$("circle"),r=$("circle"),o=$("path"),this.h()},l(d){e=ee(d,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var m=_(e);a&&a.l(m),t=ee(m,"circle",{cx:!0,cy:!0,r:!0}),_(t).forEach(c),l=ee(m,"path",{d:!0}),_(l).forEach(c),n=ee(m,"circle",{cx:!0,cy:!0,r:!0}),_(n).forEach(c),s=ee(m,"circle",{cx:!0,cy:!0,r:!0}),_(s).forEach(c),r=ee(m,"circle",{cx:!0,cy:!0,r:!0}),_(r).forEach(c),o=ee(m,"path",{d:!0}),_(o).forEach(c),m.forEach(c),this.h()},h(){v(t,"cx","22"),v(t,"cy","24"),v(t,"r","2"),v(l,"d","M29.7769,23.4785A8.64,8.64,0,0,0,22,18a8.64,8.64,0,0,0-7.7769,5.4785L14,24l.2231.5215A8.64,8.64,0,0,0,22,30a8.64,8.64,0,0,0,7.7769-5.4785L30,24ZM22,28a4,4,0,1,1,4-4A4.0045,4.0045,0,0,1,22,28Z"),v(n,"cx","8"),v(n,"cy","8"),v(n,"r","1"),v(s,"cx","8"),v(s,"cy","16"),v(s,"r","1"),v(r,"cx","8"),v(r,"cy","24"),v(r,"r","1"),v(o,"d","M5,21h7V19H5V13H21v3h2V5a2,2,0,0,0-2-2H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2h7V27H5ZM5,5H21v6H5Z"),Te(e,f)},m(d,m){C(d,e,m),a&&a.m(e,null),h(e,t),h(e,l),h(e,n),h(e,s),h(e,r),h(e,o)},p(d,[m]){d[1]?a?a.p(d,m):(a=Gt(d),a.c(),a.m(e,t)):a&&(a.d(1),a=null),Te(e,f=Ye(u,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},m&1&&{width:d[0]},m&1&&{height:d[0]},m&4&&d[2],m&8&&d[3]]))},i:q,o:q,d(d){d&&c(e),a&&a.d()}}}function Mn(i,e,t){let l,n;const s=["size","title"];let r=De(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Se(u))),t(3,r=De(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,a,n,r,l]}class Vn extends Re{constructor(e){super(),ze(this,e,Mn,En,Le,{size:0,title:1})}}function Qt(i){let e,t;return{c(){e=$("title"),t=ie(i[1])},l(l){e=ee(l,"title",{});var n=_(e);t=ne(n,i[1]),n.forEach(c)},m(l,n){C(l,e,n),h(e,t)},p(l,n){n&2&&Pe(t,l[1])},d(l){l&&c(e)}}}function Pn(i){let e,t,l,n,s=i[1]&&Qt(i),r=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let a=0;a<r.length;a+=1)o=ve(o,r[a]);return{c(){e=$("svg"),s&&s.c(),t=$("circle"),l=$("path"),n=$("path"),this.h()},l(a){e=ee(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var u=_(e);s&&s.l(u),t=ee(u,"circle",{cx:!0,cy:!0,r:!0}),_(t).forEach(c),l=ee(u,"path",{d:!0}),_(l).forEach(c),n=ee(u,"path",{d:!0}),_(n).forEach(c),u.forEach(c),this.h()},h(){v(t,"cx","22"),v(t,"cy","24"),v(t,"r","2"),v(l,"d","M29.7769 23.4785A8.64 8.64 0 0022 18a8.64 8.64 0 00-7.7769 5.4785L14 24l.2231.5215A8.64 8.64 0 0022 30a8.64 8.64 0 007.7769-5.4785L30 24zM22 28a4 4 0 114-4A4.0045 4.0045 0 0122 28zM7 17H12V19H7zM7 12H19V14H7zM7 7H19V9H7z"),v(n,"d","M22,2,4,2A2.0058,2.0058,0,0,0,2,4V28a2.0058,2.0058,0,0,0,2,2h8V28H4V4H22V15h2V4A2.0058,2.0058,0,0,0,22,2Z"),Te(e,o)},m(a,u){C(a,e,u),s&&s.m(e,null),h(e,t),h(e,l),h(e,n)},p(a,[u]){a[1]?s?s.p(a,u):(s=Qt(a),s.c(),s.m(e,t)):s&&(s.d(1),s=null),Te(e,o=Ye(r,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},u&1&&{width:a[0]},u&1&&{height:a[0]},u&4&&a[2],u&8&&a[3]]))},i:q,o:q,d(a){a&&c(e),s&&s.d()}}}function Cn(i,e,t){let l,n;const s=["size","title"];let r=De(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Se(u))),t(3,r=De(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,a,n,r,l]}class Tn extends Re{constructor(e){super(),ze(this,e,Cn,Pn,Le,{size:0,title:1})}}function Xt(i){let e,t;return{c(){e=$("title"),t=ie(i[1])},l(l){e=ee(l,"title",{});var n=_(e);t=ne(n,i[1]),n.forEach(c)},m(l,n){C(l,e,n),h(e,t)},p(l,n){n&2&&Pe(t,l[1])},d(l){l&&c(e)}}}function Dn(i){let e,t,l=i[1]&&Xt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<n.length;r+=1)s=ve(s,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=ee(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M6 13L6 7.414 15 16.414 15 28 17 28 17 16.414 26 7.414 26 13 28 13 28 4 19 4 19 6 24.586 6 16 14.586 7.414 6 13 6 13 4 4 4 4 13 6 13z"),Te(e,s)},m(r,o){C(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Xt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Te(e,s=Ye(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:q,o:q,d(r){r&&c(e),l&&l.d()}}}function Sn(i,e,t){let l,n;const s=["size","title"];let r=De(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Se(u))),t(3,r=De(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,a,n,r,l]}class On extends Re{constructor(e){super(),ze(this,e,Sn,Dn,Le,{size:0,title:1})}}function Jt(i){let e,t;return{c(){e=$("title"),t=ie(i[1])},l(l){e=ee(l,"title",{});var n=_(e);t=ne(n,i[1]),n.forEach(c)},m(l,n){C(l,e,n),h(e,t)},p(l,n){n&2&&Pe(t,l[1])},d(l){l&&c(e)}}}function An(i){let e,t,l,n=i[1]&&Jt(i),s=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<s.length;o+=1)r=ve(r,s[o]);return{c(){e=$("svg"),n&&n.c(),t=$("path"),l=$("path"),this.h()},l(o){e=ee(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=_(e);n&&n.l(a),t=ee(a,"path",{d:!0}),_(t).forEach(c),l=ee(a,"path",{d:!0}),_(l).forEach(c),a.forEach(c),this.h()},h(){v(t,"d","M25.7,9.3l-7-7C18.5,2.1,18.3,2,18,2H8C6.9,2,6,2.9,6,4v24c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V10C26,9.7,25.9,9.5,25.7,9.3	z M18,4.4l5.6,5.6H18V4.4z M24,28H8V4h8v6c0,1.1,0.9,2,2,2h6V28z"),v(l,"d","M10 22H22V24H10zM10 16H22V18H10z"),Te(e,r)},m(o,a){C(o,e,a),n&&n.m(e,null),h(e,t),h(e,l)},p(o,[a]){o[1]?n?n.p(o,a):(n=Jt(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),Te(e,r=Ye(s,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:o[0]},a&1&&{height:o[0]},a&4&&o[2],a&8&&o[3]]))},i:q,o:q,d(o){o&&c(e),n&&n.d()}}}function Rn(i,e,t){let l,n;const s=["size","title"];let r=De(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Se(u))),t(3,r=De(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,a,n,r,l]}class zn extends Re{constructor(e){super(),ze(this,e,Rn,An,Le,{size:0,title:1})}}function xt(i){let e,t;return{c(){e=$("title"),t=ie(i[1])},l(l){e=ee(l,"title",{});var n=_(e);t=ne(n,i[1]),n.forEach(c)},m(l,n){C(l,e,n),h(e,t)},p(l,n){n&2&&Pe(t,l[1])},d(l){l&&c(e)}}}function Ln(i){let e,t,l=i[1]&&xt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<n.length;r+=1)s=ve(s,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=ee(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M30 16L22 24 20.6 22.6 27.2 16 20.6 9.4 22 8zM12 15H20V17H12zM2 16L10 8 11.4 9.4 4.8 16 11.4 22.6 10 24z"),Te(e,s)},m(r,o){C(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=xt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Te(e,s=Ye(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:q,o:q,d(r){r&&c(e),l&&l.d()}}}function Nn(i,e,t){let l,n;const s=["size","title"];let r=De(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Se(u))),t(3,r=De(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,a,n,r,l]}class Bn extends Re{constructor(e){super(),ze(this,e,Nn,Ln,Le,{size:0,title:1})}}function $t(i){let e,t;return{c(){e=$("title"),t=ie(i[1])},l(l){e=ee(l,"title",{});var n=_(e);t=ne(n,i[1]),n.forEach(c)},m(l,n){C(l,e,n),h(e,t)},p(l,n){n&2&&Pe(t,l[1])},d(l){l&&c(e)}}}function Hn(i){let e,t,l=i[1]&&$t(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<n.length;r+=1)s=ve(s,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=ee(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M29,5a2,2,0,0,0-2-2H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2H27a2,2,0,0,0,2-2ZM27,5V9H5V5Zm0,22H5V23H27Zm0-6H5V17H27Zm0-6H5V11H27Z"),Te(e,s)},m(r,o){C(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=$t(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Te(e,s=Ye(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:q,o:q,d(r){r&&c(e),l&&l.d()}}}function Fn(i,e,t){let l,n;const s=["size","title"];let r=De(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Se(u))),t(3,r=De(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,a,n,r,l]}class jn extends Re{constructor(e){super(),ze(this,e,Fn,Hn,Le,{size:0,title:1})}}function el(i){let e,t;return{c(){e=$("title"),t=ie(i[1])},l(l){e=ee(l,"title",{});var n=_(e);t=ne(n,i[1]),n.forEach(c)},m(l,n){C(l,e,n),h(e,t)},p(l,n){n&2&&Pe(t,l[1])},d(l){l&&c(e)}}}function qn(i){let e,t,l,n=i[1]&&el(i),s=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<s.length;o+=1)r=ve(r,s[o]);return{c(){e=$("svg"),n&&n.c(),t=$("path"),l=$("path"),this.h()},l(o){e=ee(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=_(e);n&&n.l(a),t=ee(a,"path",{d:!0}),_(t).forEach(c),l=ee(a,"path",{d:!0}),_(l).forEach(c),a.forEach(c),this.h()},h(){v(t,"d","M10,14a4,4,0,1,1,4-4A4.0045,4.0045,0,0,1,10,14Zm0-6a2,2,0,1,0,1.998,2.0044A2.002,2.002,0,0,0,10,8Z"),v(l,"d","M16.6436,29.4145,2.5858,15.3555A2,2,0,0,1,2,13.9414V4A2,2,0,0,1,4,2h9.9413a2,2,0,0,1,1.4142.5858L29.4144,16.6436a2.0005,2.0005,0,0,1,0,2.8285l-9.9424,9.9425a2.0008,2.0008,0,0,1-2.8285,0ZM4,4v9.9417L18.0578,28,28,18.0579,13.9416,4Z"),Te(e,r)},m(o,a){C(o,e,a),n&&n.m(e,null),h(e,t),h(e,l)},p(o,[a]){o[1]?n?n.p(o,a):(n=el(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),Te(e,r=Ye(s,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:o[0]},a&1&&{height:o[0]},a&4&&o[2],a&8&&o[3]]))},i:q,o:q,d(o){o&&c(e),n&&n.d()}}}function Yn(i,e,t){let l,n;const s=["size","title"];let r=De(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Se(u))),t(3,r=De(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,a,n,r,l]}class li extends Re{constructor(e){super(),ze(this,e,Yn,qn,Le,{size:0,title:1})}}function tl(i){let e,t;return{c(){e=$("title"),t=ie(i[1])},l(l){e=ee(l,"title",{});var n=_(e);t=ne(n,i[1]),n.forEach(c)},m(l,n){C(l,e,n),h(e,t)},p(l,n){n&2&&Pe(t,l[1])},d(l){l&&c(e)}}}function Un(i){let e,t,l=i[1]&&tl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<n.length;r+=1)s=ve(s,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=ee(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M20,10H7.8149l3.5874-3.5859L10,5,4,11,10,17l1.4023-1.4146L7.8179,12H20a6,6,0,0,1,0,12H12v2h8a8,8,0,0,0,0-16Z"),Te(e,s)},m(r,o){C(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=tl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Te(e,s=Ye(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:q,o:q,d(r){r&&c(e),l&&l.d()}}}function Zn(i,e,t){let l,n;const s=["size","title"];let r=De(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Se(u))),t(3,r=De(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,a,n,r,l]}class ii extends Re{constructor(e){super(),ze(this,e,Zn,Un,Le,{size:0,title:1})}}function Kn(i){var o;let e,t,l,n=((o=i[0])==null?void 0:o.toLocaleString())+"",s,r;return{c(){e=I("p"),t=ie("Delete "),l=I("span"),s=ie(n),r=ie(`
    rows?`),this.h()},l(a){e=E(a,"P",{});var u=_(e);t=ne(u,"Delete "),l=E(u,"SPAN",{class:!0});var f=_(l);s=ne(f,n),f.forEach(c),r=ne(u,`
    rows?`),u.forEach(c),this.h()},h(){v(l,"class","font-mono font-bold")},m(a,u){C(a,e,u),h(e,t),h(e,l),h(l,s),h(e,r)},p(a,u){var f;u&1&&n!==(n=((f=a[0])==null?void 0:f.toLocaleString())+"")&&Pe(s,n)},d(a){a&&c(e)}}}function Wn(i){let e,t,l,n,s,r,o,a,u;return l=new Zi({}),r=new Rt({props:{size:"xs",open:i[2],modalHeading:"Delete rows",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[Kn]},$$scope:{ctx:i}}}),r.$on("submit",i[10]),r.$on("click:button--secondary",i[11]),r.$on("close",i[12]),{c(){e=I("div"),t=I("button"),se(l.$$.fragment),s=ce(),se(r.$$.fragment),this.h()},l(f){e=E(f,"DIV",{});var d=_(e);t=E(d,"BUTTON",{class:!0});var m=_(t);he(l.$$.fragment,m),m.forEach(c),d.forEach(c),s=de(f),he(r.$$.fragment,f),this.h()},h(){t.disabled=i[3],v(t,"class","h-8 rounded border border-gray-300 bg-white hover:border-red-500 hover:bg-transparent"),re(t,"opacity-30",i[3])},m(f,d){C(f,e,d),h(e,t),ae(l,t,null),C(f,s,d),ae(r,f,d),o=!0,a||(u=[qe(t,"click",i[9]),He(n=je.call(null,e,{text:i[1]!=null&&i[1].length===1?"Delete row":"Delete rows"}))],a=!0)},p(f,[d]){(!o||d&8)&&(t.disabled=f[3]),(!o||d&8)&&re(t,"opacity-30",f[3]),n&&xe(n.update)&&d&2&&n.update.call(null,{text:f[1]!=null&&f[1].length===1?"Delete row":"Delete rows"});const m={};d&4&&(m.open=f[2]),d&65537&&(m.$$scope={dirty:d,ctx:f}),r.$set(m)},i(f){o||(w(l.$$.fragment,f),w(r.$$.fragment,f),o=!0)},o(f){k(l.$$.fragment,f),k(r.$$.fragment,f),o=!1},d(f){f&&c(e),oe(l),f&&c(s),oe(r,f),a=!1,et(u)}}}function Gn(i,e,t){let l,n,s,{rowIds:r=void 0}=e,{searches:o=void 0}=e,{filters:a=void 0}=e,{numRows:u=void 0}=e;const f=pt(),d=ft();Je(i,d,p=>t(13,n=p));const m=yi();Je(i,m,p=>t(14,s=p));function g(){s.mutate([n.namespace,n.datasetName,{row_ids:r,searches:o,filters:a}],{onSuccess:()=>{f("deleted"),t(2,M=!1),close()}})}let M=!1;const L=()=>{t(2,M=!0)},A=()=>g(),T=()=>{t(2,M=!1)},y=()=>t(2,M=!1);return i.$$set=p=>{"rowIds"in p&&t(1,r=p.rowIds),"searches"in p&&t(7,o=p.searches),"filters"in p&&t(8,a=p.filters),"numRows"in p&&t(0,u=p.numRows)},i.$$.update=()=>{i.$$.dirty&3&&u==null&&r!=null&&t(0,u=r.length),i.$$.dirty&386&&t(3,l=r==null&&o==null&&a==null)},[u,r,M,l,d,m,g,o,a,L,A,T,y]}class Qn extends Re{constructor(e){super(),ze(this,e,Gn,Wn,Le,{rowIds:1,searches:7,filters:8,numRows:0})}}function Xn(i,{disable:e}){if(e=e??!1,!e){const t=i.getBoundingClientRect();document.body.append(i),i.style.position="absolute",i.style.top=`${t.top}px`,i.style.left=`${t.left}px`}}function ll(i){const e=i[1].find(function(...l){return i[19](i[25],...l)});i[26]=e}const Jn=i=>({item:i&33554434,inputText:i&1}),il=i=>({item:i[26],inputText:i[0]});function nl(i){let e,t;return e=new Ii({}),{c(){se(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function rl(i){let e,t,l,n,s,r,o,a;function u(d){i[21](d)}let f={size:"sm",open:i[14],items:i[1],shouldFilterItem:i[6]?i[6]:void 0,placeholder:i[5],$$slots:{default:[er,({item:d})=>({25:d}),({item:d})=>d?33554432:0]},$$scope:{ctx:i}};return i[0]!==void 0&&(f.value=i[0]),t=new tn({props:f}),i[20](t),rt.push(()=>kt(t,"value",u)),t.$on("select",i[16]),{c(){e=I("div"),se(t.$$.fragment),this.h()},l(d){e=E(d,"DIV",{class:!0});var m=_(e);he(t.$$.fragment,m),m.forEach(c),this.h()},h(){v(e,"class","z-50 w-60"),re(e,"absolute",i[12]),re(e,"hidden",!i[14])},m(d,m){C(d,e,m),ae(t,e,null),r=!0,o||(a=[He(n=xi.call(null,e,i[22])),He(s=Xn.call(null,e,{disable:!i[12]}))],o=!0)},p(d,m){const g={};m&16384&&(g.open=d[14]),m&2&&(g.items=d[1]),m&64&&(g.shouldFilterItem=d[6]?d[6]:void 0),m&32&&(g.placeholder=d[5]),m&42074115&&(g.$$scope={dirty:m,ctx:d}),!l&&m&1&&(l=!0,g.value=d[0],yt(()=>l=!1)),t.$set(g),n&&xe(n.update)&&m&24576&&n.update.call(null,d[22]),s&&xe(s.update)&&m&4096&&s.update.call(null,{disable:!d[12]}),(!r||m&4096)&&re(e,"absolute",d[12]),(!r||m&16384)&&re(e,"hidden",!d[14])},i(d){r||(w(t.$$.fragment,d),r=!0)},o(d){k(t.$$.fragment,d),r=!1},d(d){d&&c(e),i[20](null),oe(t),o=!1,et(a)}}}function xn(i){let e,t=i[26].text+"",l;return{c(){e=I("div"),l=ie(t),this.h()},l(n){e=E(n,"DIV",{class:!0});var s=_(e);l=ne(s,t),s.forEach(c),this.h()},h(){v(e,"class","flex justify-between gap-x-8")},m(n,s){C(n,e,s),h(e,l)},p(n,s){s&33554434&&t!==(t=n[26].text+"")&&Pe(l,t)},i:q,o:q,d(n){n&&c(e)}}}function $n(i){let e;const t=i[18].item,l=mi(t,i,i[23],il);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,s){l&&l.m(n,s),e=!0},p(n,s){l&&l.p&&(!e||s&41943043)&&_i(l,t,n,n[23],e?bi(t,n[23],s,Jn):gi(n[23]),il)},i(n){e||(w(l,n),e=!0)},o(n){k(l,n),e=!1},d(n){l&&l.d(n)}}}function er(i){ll(i);let e,t,l,n;const s=[$n,xn],r=[];function o(a,u){return a[17].item?0:a[26]?1:-1}return~(e=o(i))&&(t=r[e]=s[e](i)),{c(){t&&t.c(),l=We()},l(a){t&&t.l(a),l=We()},m(a,u){~e&&r[e].m(a,u),C(a,l,u),n=!0},p(a,u){ll(a);let f=e;e=o(a),e===f?~e&&r[e].p(a,u):(t&&(Ee(),k(r[f],1,1,()=>{r[f]=null}),Me()),~e?(t=r[e],t?t.p(a,u):(t=r[e]=s[e](a),t.c()),w(t,1),t.m(l.parentNode,l)):t=null)},i(a){n||(w(t),n=!0)},o(a){k(t),n=!1},d(a){~e&&r[e].d(a),a&&c(l)}}}function tr(i){let e,t,l,n,s,r,o,a,u,f,d,m,g,M=i[7]&&nl();var L=i[2];function A(y){return{}}L&&(s=ut(L,A()));let T=i[14]&&rl(i);return{c(){e=I("div"),t=I("div"),l=I("button"),M&&M.c(),n=ce(),s&&se(s.$$.fragment),r=ce(),o=ie(i[3]),f=ce(),T&&T.c(),this.h()},l(y){e=E(y,"DIV",{class:!0});var p=_(e);t=E(p,"DIV",{});var O=_(t);l=E(O,"BUTTON",{class:!0});var D=_(l);M&&M.l(D),n=de(D),s&&he(s.$$.fragment,D),r=de(D),o=ne(D,i[3]),D.forEach(c),O.forEach(c),f=de(p),T&&T.l(p),p.forEach(c),this.h()},h(){l.disabled=i[9],v(l,"class","flex items-center gap-x-2 bg-white"),re(l,"opacity-30",i[9]),re(l,"text-red-600",i[11]),re(l,"border",i[4]),re(l,"border-gray-300",i[4]),re(l,"hidden",i[14]),v(e,"class","relative z-50 h-8")},m(y,p){C(y,e,p),h(e,t),h(t,l),M&&M.m(l,null),h(l,n),s&&ae(s,l,null),h(l,r),h(l,o),h(e,f),T&&T.m(e,null),d=!0,m||(g=[qe(l,"click",i[15]),He(a=je.call(null,l,{text:i[8]})),He(u=je.call(null,t,{text:i[9]?i[10]:""}))],m=!0)},p(y,[p]){if(y[7]?M?p&128&&w(M,1):(M=nl(),M.c(),w(M,1),M.m(l,n)):M&&(Ee(),k(M,1,1,()=>{M=null}),Me()),p&4&&L!==(L=y[2])){if(s){Ee();const O=s;k(O.$$.fragment,1,0,()=>{oe(O,1)}),Me()}L?(s=ut(L,A()),se(s.$$.fragment),w(s.$$.fragment,1),ae(s,l,r)):s=null}(!d||p&8)&&Pe(o,y[3]),(!d||p&512)&&(l.disabled=y[9]),a&&xe(a.update)&&p&256&&a.update.call(null,{text:y[8]}),(!d||p&512)&&re(l,"opacity-30",y[9]),(!d||p&2048)&&re(l,"text-red-600",y[11]),(!d||p&16)&&re(l,"border",y[4]),(!d||p&16)&&re(l,"border-gray-300",y[4]),(!d||p&16384)&&re(l,"hidden",y[14]),u&&xe(u.update)&&p&1536&&u.update.call(null,{text:y[9]?y[10]:""}),y[14]?T?(T.p(y,p),p&16384&&w(T,1)):(T=rl(y),T.c(),w(T,1),T.m(e,null)):T&&(Ee(),k(T,1,1,()=>{T=null}),Me())},i(y){d||(w(M),s&&w(s.$$.fragment,y),w(T),d=!0)},o(y){k(M),s&&k(s.$$.fragment,y),k(T),d=!1},d(y){y&&c(e),M&&M.d(),s&&oe(s),T&&T.d(),m=!1,et(g)}}}function lr(i,e,t){let{$$slots:l={},$$scope:n}=e;const s=hi(l);let{items:r}=e,{buttonIcon:o}=e,{buttonText:a=""}=e,{buttonOutline:u=!1}=e,{comboBoxText:f=""}=e,{comboBoxPlaceholder:d=""}=e,{shouldFilterItem:m=void 0}=e,{isLoading:g=!1}=e,{helperText:M=""}=e,{disabled:L=!1}=e,{disabledMessage:A=""}=e,{redText:T=!1}=e,{hoist:y=!1}=e;const p=pt();let O,D=!1;function j(){t(14,D=!0),requestAnimationFrame(()=>{O.$set({open:!0})})}function Z(V){p("select",V.detail.selectedItem),O.clear(),t(14,D=!1)}const Q=(V,R)=>R.id===V.id;function _e(V){rt[V?"unshift":"push"](()=>{O=V,t(13,O)})}function X(V){f=V,t(0,f)}const ge=()=>{O.clear(),t(14,D=!1)};return i.$$set=V=>{"items"in V&&t(1,r=V.items),"buttonIcon"in V&&t(2,o=V.buttonIcon),"buttonText"in V&&t(3,a=V.buttonText),"buttonOutline"in V&&t(4,u=V.buttonOutline),"comboBoxText"in V&&t(0,f=V.comboBoxText),"comboBoxPlaceholder"in V&&t(5,d=V.comboBoxPlaceholder),"shouldFilterItem"in V&&t(6,m=V.shouldFilterItem),"isLoading"in V&&t(7,g=V.isLoading),"helperText"in V&&t(8,M=V.helperText),"disabled"in V&&t(9,L=V.disabled),"disabledMessage"in V&&t(10,A=V.disabledMessage),"redText"in V&&t(11,T=V.redText),"hoist"in V&&t(12,y=V.hoist),"$$scope"in V&&t(23,n=V.$$scope)},[f,r,o,a,u,d,m,g,M,L,A,T,y,O,D,j,Z,s,l,Q,_e,X,ge,n]}class zt extends Re{constructor(e){super(),ze(this,e,lr,tr,Le,{items:1,buttonIcon:2,buttonText:3,buttonOutline:4,comboBoxText:0,comboBoxPlaceholder:5,shouldFilterItem:6,isLoading:7,helperText:8,disabled:9,disabledMessage:10,redText:11,hoist:12})}}function ir(i){let e,t=i[38].text+"",l;return{c(){e=I("div"),l=ie(t),this.h()},l(n){e=E(n,"DIV",{class:!0});var s=_(e);l=ne(s,t),s.forEach(c),this.h()},h(){v(e,"class","flex justify-between gap-x-8")},m(n,s){C(n,e,s),h(e,l)},p(n,s){s[1]&128&&t!==(t=n[38].text+"")&&Pe(l,t)},i:q,o:q,d(n){n&&c(e)}}}function nr(i){let e,t,l,n,s,r=i[37]+"",o,a;return t=new li({}),{c(){e=I("div"),se(t.$$.fragment),l=ce(),n=I("div"),s=ie("New label: "),o=ie(r),this.h()},l(u){e=E(u,"DIV",{class:!0});var f=_(e);he(t.$$.fragment,f),l=de(f),n=E(f,"DIV",{class:!0});var d=_(n);s=ne(d,"New label: "),o=ne(d,r),d.forEach(c),f.forEach(c),this.h()},h(){v(n,"class","ml-2"),v(e,"class","new-concept flex flex-row items-center justify-items-center")},m(u,f){C(u,e,f),ae(t,e,null),h(e,l),h(e,n),h(n,s),h(n,o),a=!0},p(u,f){(!a||f[1]&64)&&r!==(r=u[37]+"")&&Pe(o,r)},i(u){a||(w(t.$$.fragment,u),a=!0)},o(u){k(t.$$.fragment,u),a=!1},d(u){u&&c(e),oe(t)}}}function rr(i){let e;return{c(){e=I("div")},l(t){e=E(t,"DIV",{}),_(e).forEach(c)},m(t,l){C(t,e,l)},p:q,i:q,o:q,d(t){t&&c(e)}}}function sr(i){let e,t,l,n;const s=[rr,nr,ir],r=[];function o(a,u){return a[38]==null?0:a[38].id==="new-label"?1:2}return t=o(i),l=r[t]=s[t](i),{c(){e=I("div"),l.c(),this.h()},l(a){e=E(a,"DIV",{slot:!0});var u=_(e);l.l(u),u.forEach(c),this.h()},h(){v(e,"slot","item")},m(a,u){C(a,e,u),r[t].m(e,null),n=!0},p(a,u){let f=t;t=o(a),t===f?r[t].p(a,u):(Ee(),k(r[f],1,1,()=>{r[f]=null}),Me(),l=r[t],l?l.p(a,u):(l=r[t]=s[t](a),l.c()),w(l,1),l.m(e,null))},i(a){n||(w(l),n=!0)},o(a){k(l),n=!1},d(a){a&&c(e),r[t].d()}}}function ar(i){var a;let e,t,l,n,s=((a=i[5])==null?void 0:a.toLocaleString())+"",r,o;return{c(){e=ie("Add label "),t=I("span"),l=ie(i[8]),n=ie(" to "),r=ie(s),o=ie(`
      rows?`),this.h()},l(u){e=ne(u,"Add label "),t=E(u,"SPAN",{class:!0});var f=_(t);l=ne(f,i[8]),f.forEach(c),n=ne(u," to "),r=ne(u,s),o=ne(u,`
      rows?`),this.h()},h(){v(t,"class","font-mono font-bold")},m(u,f){C(u,e,f),C(u,t,f),h(t,l),C(u,n,f),C(u,r,f),C(u,o,f)},p(u,f){var d;f[0]&256&&Pe(l,u[8]),f[0]&32&&s!==(s=((d=u[5])==null?void 0:d.toLocaleString())+"")&&Pe(r,s)},d(u){u&&c(e),u&&c(t),u&&c(n),u&&c(r),u&&c(o)}}}function or(i){var a;let e,t,l,n,s=((a=i[5])==null?void 0:a.toLocaleString())+"",r,o;return{c(){e=ie("Remove label "),t=I("span"),l=ie(i[8]),n=ie(" from "),r=ie(s),o=ie(`
      rows?`),this.h()},l(u){e=ne(u,"Remove label "),t=E(u,"SPAN",{class:!0});var f=_(t);l=ne(f,i[8]),f.forEach(c),n=ne(u," from "),r=ne(u,s),o=ne(u,`
      rows?`),this.h()},h(){v(t,"class","font-mono font-bold")},m(u,f){C(u,e,f),C(u,t,f),h(t,l),C(u,n,f),C(u,r,f),C(u,o,f)},p(u,f){var d;f[0]&256&&Pe(l,u[8]),f[0]&32&&s!==(s=((d=u[5])==null?void 0:d.toLocaleString())+"")&&Pe(r,s)},d(u){u&&c(e),u&&c(t),u&&c(n),u&&c(r),u&&c(o)}}}function ur(i){let e;function t(s,r){return s[4]?or:ar}let l=t(i),n=l(i);return{c(){e=I("p"),n.c()},l(s){e=E(s,"P",{});var r=_(e);n.l(r),r.forEach(c)},m(s,r){C(s,e,r),n.m(e,null)},p(s,r){l===(l=t(s))&&n?n.p(s,r):(n.d(1),n=l(s),n&&(n.c(),n.m(e,null)))},d(s){s&&c(e),n.d()}}}function fr(i){let e,t,l,n,s;function r(a){i[32](a)}let o={disabled:i[9]||i[10],helperText:i[0],disabledMessage:i[7]?i[1]?i[2]:"":"You do not have access to add labels.",hoist:!1,buttonOutline:!0,buttonIcon:i[3],items:i[13],comboBoxPlaceholder:i[4]?"Select a label to remove":"Select or type a new label",shouldFilterItem:cr,$$slots:{item:[sr,({inputText:a,item:u})=>({37:a,38:u}),({inputText:a,item:u})=>[0,(a?64:0)|(u?128:0)]]},$$scope:{ctx:i}};return i[6]!==void 0&&(o.comboBoxText=i[6]),e=new zt({props:o}),rt.push(()=>kt(e,"comboBoxText",r)),e.$on("select",i[19]),n=new Rt({props:{size:"xs",open:i[8]!=null&&i[5]!=null,modalHeading:"Label",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[ur]},$$scope:{ctx:i}}}),n.$on("submit",i[18]),n.$on("click:button--secondary",i[33]),n.$on("close",function(){xe(i[8]=null)&&(i[8]=null).apply(this,arguments)}),{c(){se(e.$$.fragment),l=ce(),se(n.$$.fragment)},l(a){he(e.$$.fragment,a),l=de(a),he(n.$$.fragment,a)},m(a,u){ae(e,a,u),C(a,l,u),ae(n,a,u),s=!0},p(a,u){i=a;const f={};u[0]&1536&&(f.disabled=i[9]||i[10]),u[0]&1&&(f.helperText=i[0]),u[0]&134&&(f.disabledMessage=i[7]?i[1]?i[2]:"":"You do not have access to add labels."),u[0]&8&&(f.buttonIcon=i[3]),u[0]&8192&&(f.items=i[13]),u[0]&16&&(f.comboBoxPlaceholder=i[4]?"Select a label to remove":"Select or type a new label"),u[1]&448&&(f.$$scope={dirty:u,ctx:i}),!t&&u[0]&64&&(t=!0,f.comboBoxText=i[6],yt(()=>t=!1)),e.$set(f);const d={};u[0]&288&&(d.open=i[8]!=null&&i[5]!=null),u[0]&304|u[1]&256&&(d.$$scope={dirty:u,ctx:i}),n.$set(d)},i(a){s||(w(e.$$.fragment,a),w(n.$$.fragment,a),s=!0)},o(a){k(e.$$.fragment,a),k(n.$$.fragment,a),s=!1},d(a){oe(e,a),a&&c(l),oe(n,a)}}}const cr=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-label";function dr(i,e,t){let l,n,s,r,o,a,u,f,d,m,g,M,L,A,T,y=q,p=()=>(y(),y=Xe(M,S=>t(27,T=S)),M),O,D=q,j=()=>(D(),D=Xe(g,S=>t(28,O=S)),g),Z,Q=q,_e=()=>(Q(),Q=Xe(l,S=>t(29,Z=S)),l),X,ge;i.$$.on_destroy.push(()=>y()),i.$$.on_destroy.push(()=>D()),i.$$.on_destroy.push(()=>Q());let{labelsQuery:V}=e,{hideLabels:R=void 0}=e,{helperText:N="Add label"}=e,{disabled:B=!1}=e,{disabledMessage:H="User does not have access to add labels."}=e,{icon:W}=e,{remove:G=!1}=e,{totalNumRows:ye=void 0}=e;const J=pt();let te="",Y=null;const x=ti(),b=ft();Je(i,b,S=>t(31,ge=S));const P=Kl();Je(i,P,S=>t(30,X=S));function U(){if(Y==null)return;const S={...V,label_name:Y};function ue(be){return S.row_ids!=null?`Document id: ${S.row_ids}`:`${be.toLocaleString()} rows updated`}G?T.mutate([n,s,S],{onSuccess:be=>{x.addNotification({kind:"success",title:`Removed label "${S.label_name}"`,message:ue(be)})}}):O.mutate([n,s,S],{onSuccess:be=>{x.addNotification({kind:"success",title:`Added label "${S.label_name}"`,message:ue(be)})}}),t(8,Y=null)}function K(S){t(8,Y=S.detail.text),ye==null&&U()}function we(S){te=S,t(6,te)}const Ie=()=>{t(8,Y=null),J("close")};return i.$$set=S=>{"labelsQuery"in S&&t(20,V=S.labelsQuery),"hideLabels"in S&&t(21,R=S.hideLabels),"helperText"in S&&t(0,N=S.helperText),"disabled"in S&&t(1,B=S.disabled),"disabledMessage"in S&&t(2,H=S.disabledMessage),"icon"in S&&t(3,W=S.icon),"remove"in S&&t(4,G=S.remove),"totalNumRows"in S&&t(5,ye=S.totalNumRows)},i.$$.update=()=>{var S,ue;i.$$.dirty[1]&1&&_e(t(14,l=Et(ge.namespace,ge.datasetName))),i.$$.dirty[1]&1&&(n=ge.namespace),i.$$.dirty[1]&1&&(s=ge.datasetName),i.$$.dirty[0]&1073741824&&t(26,r=(S=X.data)==null?void 0:S.access.dataset.create_label_type),i.$$.dirty[0]&1073741824&&t(7,o=(ue=X.data)==null?void 0:ue.access.dataset.edit_labels),i.$$.dirty[0]&536870912&&t(24,a=Z.data&&Ql(Z.data)),i.$$.dirty[0]&67108928&&t(25,u=/^[A-Za-z0-9_-]+$/.test(te)&&r),i.$$.dirty[0]&33554496&&t(23,f={id:"new-label",text:te,disabled:!u}),i.$$.dirty[0]&18874368&&t(22,d=(a==null?void 0:a.filter(be=>!(R||[]).includes(be)).map((be,pe)=>({id:`label_${pe}`,text:be})))||[]),i.$$.dirty[0]&12582992&&t(13,m=[...te!=""&&!G?[f]:[],...d]),i.$$.dirty[0]&536870912&&j(t(12,g=Z.data!=null?Wl(Z.data):null)),i.$$.dirty[0]&536870912&&p(t(11,M=Z.data!=null?Gl(Z.data):null)),i.$$.dirty[0]&402653184&&t(10,L=(O==null?void 0:O.isLoading)||(T==null?void 0:T.isLoading)),i.$$.dirty[0]&130&&t(9,A=B||!o)},[N,B,H,W,G,ye,te,o,Y,A,L,M,g,m,l,J,b,P,U,K,V,R,d,f,a,u,r,T,O,Z,X,ge,we,Ie]}class hr extends Re{constructor(e){super(),ze(this,e,dr,fr,Le,{labelsQuery:20,hideLabels:21,helperText:0,disabled:1,disabledMessage:2,icon:3,remove:4,totalNumRows:5},null,[-1,-1])}}function mr(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function sl(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,l)}return t}function al(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sl(Object(t),!0).forEach(function(l){mr(i,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):sl(Object(t)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(t,l))})}return i}function _r(i,e){if(i==null)return{};var t={},l=Object.keys(i),n,s;for(s=0;s<l.length;s++)n=l[s],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}function gr(i,e){if(i==null)return{};var t=_r(i,e),l,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);for(n=0;n<s.length;n++)l=s[n],!(e.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(i,l)&&(t[l]=i[l])}return t}function br(i,e){return vr(i)||wr(i,e)||pr(i,e)||kr()}function vr(i){if(Array.isArray(i))return i}function wr(i,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(i)))){var t=[],l=!0,n=!1,s=void 0;try{for(var r=i[Symbol.iterator](),o;!(l=(o=r.next()).done)&&(t.push(o.value),!(e&&t.length===e));l=!0);}catch(a){n=!0,s=a}finally{try{!l&&r.return!=null&&r.return()}finally{if(n)throw s}}return t}}function pr(i,e){if(i){if(typeof i=="string")return ol(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ol(i,e)}}function ol(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,l=new Array(e);t<e;t++)l[t]=i[t];return l}function kr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yr(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function ul(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,l)}return t}function fl(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ul(Object(t),!0).forEach(function(l){yr(i,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):ul(Object(t)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(t,l))})}return i}function Ir(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(l){return e.reduceRight(function(n,s){return s(n)},l)}}function ht(i){return function e(){for(var t=this,l=arguments.length,n=new Array(l),s=0;s<l;s++)n[s]=arguments[s];return n.length>=i.length?i.apply(this,n):function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e.apply(t,[].concat(n,o))}}}function wt(i){return{}.toString.call(i).includes("Object")}function Er(i){return!Object.keys(i).length}function mt(i){return typeof i=="function"}function Mr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Vr(i,e){return wt(e)||lt("changeType"),Object.keys(e).some(function(t){return!Mr(i,t)})&&lt("changeField"),e}function Pr(i){mt(i)||lt("selectorType")}function Cr(i){mt(i)||wt(i)||lt("handlerType"),wt(i)&&Object.values(i).some(function(e){return!mt(e)})&&lt("handlersType")}function Tr(i){i||lt("initialIsRequired"),wt(i)||lt("initialType"),Er(i)&&lt("initialContent")}function Dr(i,e){throw new Error(i[e]||i.default)}var Sr={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},lt=ht(Dr)(Sr),gt={changes:Vr,selector:Pr,handler:Cr,initial:Tr};function Or(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};gt.initial(i),gt.handler(e);var t={current:i},l=ht(zr)(t,e),n=ht(Rr)(t),s=ht(gt.changes)(i),r=ht(Ar)(t);function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return gt.selector(u),u(t.current)}function a(u){Ir(l,n,s,r)(u)}return[o,a]}function Ar(i,e){return mt(e)?e(i.current):e}function Rr(i,e){return i.current=fl(fl({},i.current),e),e}function zr(i,e,t){return mt(e)?e(i.current):Object.keys(t).forEach(function(l){var n;return(n=e[l])===null||n===void 0?void 0:n.call(e,i.current[l])}),t}var Lr={create:Or},Nr={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function Br(i){return function e(){for(var t=this,l=arguments.length,n=new Array(l),s=0;s<l;s++)n[s]=arguments[s];return n.length>=i.length?i.apply(this,n):function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e.apply(t,[].concat(n,o))}}}function Hr(i){return{}.toString.call(i).includes("Object")}function Fr(i){return i||cl("configIsRequired"),Hr(i)||cl("configType"),i.urls?(jr(),{paths:{vs:i.urls.monacoBase}}):i}function jr(){console.warn(ni.deprecation)}function qr(i,e){throw new Error(i[e]||i.default)}var ni={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},cl=Br(qr)(ni),Yr={config:Fr},Ur=function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return function(n){return t.reduceRight(function(s,r){return r(s)},n)}};function ri(i,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&i[t]&&Object.assign(e[t],ri(i[t],e[t]))}),al(al({},i),e)}var Zr={type:"cancelation",msg:"operation is manually canceled"};function Ct(i){var e=!1,t=new Promise(function(l,n){i.then(function(s){return e?n(Zr):l(s)}),i.catch(n)});return t.cancel=function(){return e=!0},t}var Kr=Lr.create({config:Nr,isInitialized:!1,resolve:null,reject:null,monaco:null}),si=br(Kr,2),_t=si[0],Mt=si[1];function Wr(i){var e=Yr.config(i),t=e.monaco,l=gr(e,["monaco"]);Mt(function(n){return{config:ri(n.config,l),monaco:t}})}function Gr(){var i=_t(function(e){var t=e.monaco,l=e.isInitialized,n=e.resolve;return{monaco:t,isInitialized:l,resolve:n}});if(!i.isInitialized){if(Mt({isInitialized:!0}),i.monaco)return i.resolve(i.monaco),Ct(Tt);if(window.monaco&&window.monaco.editor)return ai(window.monaco),i.resolve(window.monaco),Ct(Tt);Ur(Qr,Jr)(xr)}return Ct(Tt)}function Qr(i){return document.body.appendChild(i)}function Xr(i){var e=document.createElement("script");return i&&(e.src=i),e}function Jr(i){var e=_t(function(l){var n=l.config,s=l.reject;return{config:n,reject:s}}),t=Xr("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return i()},t.onerror=e.reject,t}function xr(){var i=_t(function(t){var l=t.config,n=t.resolve,s=t.reject;return{config:l,resolve:n,reject:s}}),e=window.require;e.config(i.config),e(["vs/editor/editor.main"],function(t){ai(t),i.resolve(t)},function(t){i.reject(t)})}function ai(i){_t().monaco||Mt({monaco:i})}function $r(){return _t(function(i){var e=i.monaco;return e})}var Tt=new Promise(function(i,e){return Mt({resolve:i,reject:e})}),dl={config:Wr,init:Gr,__getMonacoInstance:$r};const hl=360,es=720;let bt;const oi={fontFamily:"inconsolata variable",fontSize:14,readOnly:!0,lineNumbers:"off",renderFinalNewline:"dimmed",lineDecorationsWidth:0,folding:!1,roundedSelection:!0,domReadOnly:!0,scrollBeyondLastLine:!1,wordWrap:"on",wrappingStrategy:"advanced",readOnlyMessage:{value:""},scrollbar:{verticalScrollbarSize:8,alwaysConsumeMouseWheel:!1},fixedOverflowWidgets:!0,language:"text/plain",automaticLayout:!0};async function ui(){return bt!=null||(bt=Xi(()=>import("./editor.main.1687129f.js").then(i=>i.e),["./editor.main.1687129f.js","./preload-helper.41c905a7.js","../assets/editor.3b4aeffe.css"],import.meta.url).then(async i=>(dl.config({monaco:i.default}),dl.init()))),bt}function ts(i){let e,t,l,n=st(i[2])+"",s,r,o,a=st(i[1])+"",u,f,d,m,g,M,L,A,T,y;return g=new Bn({}),{c(){e=I("div"),t=I("div"),l=I("div"),s=ie(n),r=ce(),o=I("div"),u=ie(a),f=ce(),d=I("div"),m=I("button"),se(g.$$.fragment),M=ce(),L=I("div"),this.h()},l(p){e=E(p,"DIV",{class:!0});var O=_(e);t=E(O,"DIV",{class:!0});var D=_(t);l=E(D,"DIV",{class:!0});var j=_(l);s=ne(j,n),j.forEach(c),r=de(D),o=E(D,"DIV",{class:!0});var Z=_(o);u=ne(Z,a),Z.forEach(c),f=de(D),d=E(D,"DIV",{});var Q=_(d);m=E(Q,"BUTTON",{class:!0});var _e=_(m);he(g.$$.fragment,_e),_e.forEach(c),Q.forEach(c),D.forEach(c),M=de(O),L=E(O,"DIV",{class:!0}),_(L).forEach(c),O.forEach(c),this.h()},h(){v(l,"class","ml-8 w-1/2"),v(o,"class","ml-8 w-1/2"),v(m,"class","-mr-1 mb-1 flex flex-row"),v(t,"class","flex flex-row items-center font-mono text-xs font-medium text-neutral-500"),v(L,"class","editor-container svelte-15hppq8"),v(e,"class","relative -ml-6 flex h-fit w-full flex-col gap-x-4")},m(p,O){C(p,e,O),h(e,t),h(t,l),h(l,s),h(t,r),h(t,o),h(o,u),h(t,f),h(t,d),h(d,m),ae(g,m,null),h(e,M),h(e,L),i[13](L),A=!0,T||(y=[qe(m,"click",i[12]),He(je.call(null,m,{text:"Swap comparison order"}))],T=!0)},p(p,[O]){(!A||O&4)&&n!==(n=st(p[2])+"")&&Pe(s,n),(!A||O&2)&&a!==(a=st(p[1])+"")&&Pe(u,a)},i(p){A||(w(g.$$.fragment,p),A=!0)},o(p){k(g.$$.fragment,p),A=!1},d(p){p&&c(e),oe(g),i[13](null),T=!1,et(y)}}}const ml=360,ls=720;function is(i,e,t){let l,n,s,r;const o=ft();let{row:a}=e,{colCompareState:u}=e,{textIsOverBudget:f}=e,{isExpanded:d}=e,m,g,M;function L(){var y,p;if(M!=null&&((y=M.getModel())==null?void 0:y.original)!=null&&((p=M.getModel())==null?void 0:p.modified)!=null){const O=Math.max(M.getOriginalEditor().getContentHeight(),M.getModifiedEditor().getContentHeight());t(5,f=O>ml),d||!f?t(3,m.style.height=`${Math.min(O,ls)}px`,m):t(3,m.style.height=ml+"px",m),M.layout()}}ql(async()=>{t(8,g=await ui()),t(9,M=g.editor.createDiffEditor(m,{...oi,glyphMargin:!0,lineNumbersMinChars:3,lineNumbers:"on"})),M.onDidChangeModel(()=>{L()})}),Yl(()=>{var y,p;(y=M.getModel())==null||y.modified.dispose(),(p=M.getModel())==null||p.original.dispose(),M==null||M.dispose()});const A=()=>o.swapCompareColumn((u==null?void 0:u.column)||[]);function T(y){rt[y?"unshift":"push"](()=>{m=y,t(3,m)})}return i.$$set=y=>{"row"in y&&t(6,a=y.row),"colCompareState"in y&&t(0,u=y.colCompareState),"textIsOverBudget"in y&&t(5,f=y.textIsOverBudget),"isExpanded"in y&&t(7,d=y.isExpanded)},i.$$.update=()=>{i.$$.dirty&1&&t(2,l=u.swapDirection?u.compareToColumn:u.column),i.$$.dirty&1&&t(1,n=u.swapDirection?u.column:u.compareToColumn),i.$$.dirty&68&&t(11,s=$e.value(ot(a,l)[0])),i.$$.dirty&66&&t(10,r=$e.value(ot(a,n)[0])),i.$$.dirty&192&&(d!=null||a!=null)&&L(),i.$$.dirty&3840&&M!=null&&s!=null&&r!=null&&(M.setModel({original:g.editor.createModel(s,"text/plain"),modified:g.editor.createModel(r,"text/plain")}),L())},[u,n,l,m,o,f,a,d,g,M,r,s,A,T]}class ns extends Re{constructor(e){super(),ze(this,e,is,ts,Le,{row:6,colCompareState:0,textIsOverBudget:5,isExpanded:7})}}function _l(i){let e,t,l;return t=new ct({props:{class:"ml-6 w-full ",lines:3}}),{c(){e=I("div"),se(t.$$.fragment),this.h()},l(n){e=E(n,"DIV",{class:!0});var s=_(e);he(t.$$.fragment,s),s.forEach(c),this.h()},h(){v(e,"class","ml-6 w-full")},m(n,s){C(n,e,s),ae(t,e,null),l=!0},i(n){l||(w(t.$$.fragment,n),l=!0)},o(n){k(t.$$.fragment,n),l=!1},d(n){n&&c(e),oe(t)}}}function rs(i){let e,t,l,n,s=!i[2]&&_l();return{c(){e=I("div"),s&&s.c(),t=ce(),l=I("div"),this.h()},l(r){e=E(r,"DIV",{class:!0});var o=_(e);s&&s.l(o),t=de(o),l=E(o,"DIV",{class:!0}),_(l).forEach(c),o.forEach(c),this.h()},h(){v(l,"class","editor-container ml-6 h-64"),re(l,"hidden",i[0]),re(l,"invisible",!i[2]),v(e,"class","relative -ml-6 flex h-fit w-full flex-col gap-x-4")},m(r,o){C(r,e,o),s&&s.m(e,null),h(e,t),h(e,l),i[29](l),n=!0},p(r,o){r[2]?s&&(Ee(),k(s,1,1,()=>{s=null}),Me()):s?o[0]&4&&w(s,1):(s=_l(),s.c(),w(s,1),s.m(e,t)),(!n||o[0]&1)&&re(l,"hidden",r[0]),(!n||o[0]&4)&&re(l,"invisible",!r[2])},i(r){n||(w(s),n=!0)},o(r){k(s),n=!1},d(r){r&&c(e),s&&s.d(),i[29](null)}}}function gl(i){return i.length>40?i.slice(0,40)+"...":i}function Dt(i,e){return`add-to-concept-${i}-${e}`}function ss(i,e,t){let l,n,s,r,o=q,a=()=>(o(),o=Xe(y,b=>t(28,r=b)),y),u;i.$$.on_destroy.push(()=>o());let{text:f}=e,{row:d}=e,{field:m=void 0}=e,{spanPaths:g}=e,{path:M=void 0}=e,{hidden:L}=e,{spanValueInfos:A}=e,{embeddings:T}=e,{datasetViewStore:y=void 0}=e;a();let{isExpanded:p=!1}=e,{textIsOverBudget:O=!1}=e,{viewType:D=void 0}=e,j,Z=!1,Q={};const _e=Ei();Je(i,_e,b=>t(30,u=b));const X=(b,P,U,K)=>{if(!P||!b)throw Error("Label could not be added, no active concept.");u.mutate([b,P,{insert:[{text:U,label:K}]}])};let ge,V,R=null,N=null;function B(){if(R!=null&&R.getModel()!=null){const b=R.getContentHeight();t(6,O=b>hl),p||!O?t(3,ge.style.height=`${Math.min(b,es)}px`,ge):t(3,ge.style.height=hl+"px",ge),R.layout()}}ql(async()=>{t(18,V=await ui()),t(19,R=V.editor.create(ge,{...oi,lineNumbers:"on",glyphMargin:!0,lineNumbersMinChars:3,renderLineHighlight:"none",minimap:{enabled:!0,side:"right",scale:2}})),t(20,N=V.editor.createModel(f,"text/plain")),R.setModel(N),document.fonts.ready.then(()=>{V.editor.remeasureFonts(),t(2,Z=!0)})});function H(b){if(N==null)return[];const P=b.namedValue,U=P.info.name;if(b.isConceptSearch){const K=P.info.signal,we=window.location.origin+Pi(K.namespace,K.concept_name),Ie=P.value.toFixed(2);return[{value:`**concept** <a href="${we}">${U}</a> (${Ie})`,supportHtml:!0,isTrusted:!0},{value:b.text,supportHtml:!1,isTrusted:!1}]}else if(b.isSemanticSearch){const K=P.info.signal,we=P.value.toFixed(2);return[{value:`**more like this** *${gl(K.query)}*`,supportHtml:!0,isTrusted:!0},{value:`similarity: ${we}`,supportHtml:!0,isTrusted:!0},{value:b.text,supportHtml:!1,isTrusted:!1}]}else if(b.isKeywordSearch){const K=P.info.signal;return[{value:`**keyword search** *${gl(K.query)}*`,supportHtml:!0,isTrusted:!0},{value:b.text,supportHtml:!1,isTrusted:!1}]}else if(b.isLeafSpan)return[{value:`**span** *${nt(P.info.path)}*`,supportHtml:!0,isTrusted:!0},...P.value!=null?[{value:`value: *${P.value}*`,supportHtml:!1,isTrusted:!1}]:[],{value:b.text,supportHtml:!1,isTrusted:!1}];return[]}function W(){if(R==null)return null;const b=R.getSelection();return b==null?null:N.getValueInRange(b)}let G={};const ye=y!=null?Ji(y,b=>{if(b.selection==null)return null;const[P,U]=b.selection;return Qe(P,M)?U:null}):null;Je(i,ye,b=>t(27,s=b));let J=[],te=[],Y=[];Yl(()=>{N==null||N.dispose(),R==null||R.dispose()});function x(b){rt[b?"unshift":"push"](()=>{ge=b,t(3,ge)})}return i.$$set=b=>{"text"in b&&t(7,f=b.text),"row"in b&&t(8,d=b.row),"field"in b&&t(9,m=b.field),"spanPaths"in b&&t(10,g=b.spanPaths),"path"in b&&t(11,M=b.path),"hidden"in b&&t(0,L=b.hidden),"spanValueInfos"in b&&t(12,A=b.spanValueInfos),"embeddings"in b&&t(13,T=b.embeddings),"datasetViewStore"in b&&a(t(1,y=b.datasetViewStore)),"isExpanded"in b&&t(14,p=b.isExpanded),"textIsOverBudget"in b&&t(6,O=b.textIsOverBudget),"viewType"in b&&t(15,D=b.viewType)},i.$$.update=()=>{if(i.$$.dirty[0]&3328&&(t(16,j={}),g.forEach(b=>{let P=ot(d,b);Mi(b,M)&&(P=P.filter(K=>Vi($e.path(K),M)||M==null)),t(16,j[nt(b)]=P,j)})),i.$$.dirty[0]&135168){t(17,Q={});for(const b of A){const P=nt(b.spanPath);Q[P]==null&&t(17,Q[P]=[],Q),Q[P].push(b)}}if(i.$$.dirty[0]&16640&&(p!=null||d!=null)&&B(),i.$$.dirty[0]&1048704&&N!=null&&f!=null&&(N.setValue(f),B()),i.$$.dirty[0]&196736&&t(25,l=$i(f,j,Q)),i.$$.dirty[0]&35127296&&N!=null&&R!=null){let b=null;for(const P of l){const U=$e.span(P.span),K=N.getPositionAt(U.start);(b==null||K.lineNumber<b.lineNumber)&&(b=K)}b!=null&&R.revealPositionNearTop(b)}if(i.$$.dirty[0]&268435456&&t(26,n=r!=null?Ci(r,null):null),i.$$.dirty[0]&69730304&&R!=null){for(const b of Object.values(G))b.set(!1);for(const b of n||[]){if(b.type!="concept")continue;const P=Dt(b.concept_namespace,b.concept_name);if(G[P]==null){const U=R.createContextKey(P,!0);t(21,G[P]=U,G)}else G[P].set(!0)}}if(i.$$.dirty[0]&67633152&&R!=null&&n!=null){for(const b of n)if(b.type=="concept"){const P=`add-positive-to-concept-${b.concept_name}`;if(R.getAction(P)!=null)continue;R.addAction({id:P,label:` add as positive to concept "${b.concept_name}"`,contextMenuGroupId:"navigation_concepts",precondition:Dt(b.concept_namespace,b.concept_name),run:()=>{const U=W();if(U==null)return;const K=!0;X(b.concept_namespace,b.concept_name,U,K)}}),R.addAction({id:"add-negative-to-concept",label:` add as negative to concept "${b.concept_name}"`,contextMenuGroupId:"navigation_concepts",precondition:Dt(b.concept_namespace,b.concept_name),run:()=>{const U=W();if(U==null)return;const K=!1;X(b.concept_namespace,b.concept_name,U,K)}})}}if(i.$$.dirty[0]&532994&&R!=null&&T!=null){for(const P of T){const U=`find-similar-${P}`;R.getAction(U)==null&&R.addAction({id:U,label:" More like this"+(T.length>1?` with ${P}`:""),contextMenuGroupId:"navigation_searches",run:()=>{if(y==null||m==null)return;const K=W();K!=null&&y.addSearch({path:m.path,type:"semantic",query_type:"document",query:K,embedding:P})}})}const b="keyword-search";R.getAction(b)==null&&R.addAction({id:b,label:" Keyword search",contextMenuGroupId:"navigation_searches",run:()=>{if(y==null||m==null)return;const P=W();P!=null&&y.addSearch({path:m.path,type:"keyword",query:P})}})}if(i.$$.dirty[0]&35389440&&R!=null&&N!=null&&t(22,J=l.flatMap(b=>{if(N==null)return[];const P=$e.span(b.span),U=N.getPositionAt(P.start),K=N.getPositionAt(P.end);if(U==null||K==null)return[];const we=[],Ie=H(b),S=new V.Range(U.lineNumber,U.column,K.lineNumber,K.column);let ue="";if(b.isConceptSearch||b.isSemanticSearch){const be=b.value;be<.55?ue="bg-blue-50":be<.6?ue="bg-blue-100":be<.7?ue="bg-blue-200":be<.8?ue="bg-blue-300":be<.9?ue="bg-blue-400":ue="bg-blue-500"}return b.isKeywordSearch?we.push({range:S,options:{className:"keyword-search-bg",inlineClassName:"keyword-search-text",hoverMessage:Ie,glyphMarginClassName:"keyword-search-glyph",glyphMarginHoverMessage:Ie,isWholeLine:!1,minimap:{position:V.editor.MinimapPosition.Inline,color:"#888888"}}}):b.isConceptSearch?we.push({range:S,options:{className:"concept-search-bg "+ue,inlineClassName:"concept-search-text",hoverMessage:Ie,glyphMarginClassName:"concept-search-bg",glyphMarginHoverMessage:Ie,isWholeLine:!1,minimap:{position:V.editor.MinimapPosition.Inline,color:"#dbeafe"}}}):b.isSemanticSearch?we.push({range:S,options:{className:"semantic-search-bg "+ue,inlineClassName:"semantic-search-text",hoverMessage:Ie,glyphMarginClassName:"semantic-search-bg",glyphMarginHoverMessage:Ie,isWholeLine:!1,minimap:{position:V.editor.MinimapPosition.Inline,color:"#dbeafe"}}}):b.isMetadata&&we.push({range:S,options:{className:"leaf-bg",inlineClassName:"leaf-text",hoverMessage:Ie,glyphMarginClassName:"leaf-glyph",glyphMarginHoverMessage:Ie,isWholeLine:!1,minimap:{position:V.editor.MinimapPosition.Inline,color:"#888888"}}}),we})),i.$$.dirty[0]&144441344&&R!=null&&N!=null&&ye!=null&&s!=null&&(t(23,te=[]),s.startLine==s.endLine&&s.startCol==s.endCol?te.push({range:new V.Range(s.startLine,s.startCol,s.endLine,s.endCol||N.getLineMaxColumn(s.startLine)),options:{isWholeLine:!0,className:"line-selection-bg",glyphMarginClassName:"line-selection-glyph",glyphMarginHoverMessage:{value:" From the URL"}}}):te.push({range:new V.Range(s.startLine,s.startCol,s.endLine,s.endCol),options:{className:"line-col-selection-bg",hoverMessage:[{value:" From the URL"}],glyphMarginClassName:"line-selection-glyph",glyphMarginHoverMessage:{value:" From the URL"},minimap:{position:V.editor.MinimapPosition.Inline,color:"#cccccc"}}}),R.revealLineInCenter(s.startLine)),i.$$.dirty[0]&1870338&&N!=null&&R!=null&&D!=null&&M!=null){const b="link-selection";R.getAction(b)==null&&R.addAction({id:b,label:" Link to selection",contextMenuGroupId:"navigation_links",keybindings:[V.KeyMod.CtrlCmd|V.KeyCode.KeyK],run:()=>{if(y==null||M==null||m==null||R==null)return;const P=R.getSelection();P!=null&&(y.setTextSelection(M,{startLine:P.startLineNumber,endLine:P.endLineNumber,startCol:P.startColumn,endCol:P.endColumn}),R.setSelection(P))}})}i.$$.dirty[0]&134217728&&s==null&&t(23,te=[]),i.$$.dirty[0]&29884416&&R!=null&&t(24,Y=R.deltaDecorations(Y,[...J,...te]))},[L,y,Z,ge,_e,ye,O,f,d,m,g,M,A,T,p,D,j,Q,V,R,N,G,J,te,Y,l,n,s,r,x]}class as extends Re{constructor(e){super(),ze(this,e,ss,rs,Le,{text:7,row:8,field:9,spanPaths:10,path:11,hidden:0,spanValueInfos:12,embeddings:13,datasetViewStore:1,isExpanded:14,textIsOverBudget:6,viewType:15},null,[-1,-1])}}function bl(i,e,t){const l=i.slice();return l[51]=e[t],l}function os(i){let e,t,l,n,s,r,o=i[23],a=[];for(let f=0;f<o.length;f+=1)a[f]=vl(bl(i,o,f));const u=f=>k(a[f],1,1,()=>{a[f]=null});return{c(){e=I("div"),t=I("div"),l=I("div"),n=ie(i[22]),s=ce();for(let f=0;f<a.length;f+=1)a[f].c();this.h()},l(f){e=E(f,"DIV",{class:!0});var d=_(e);t=E(d,"DIV",{class:!0});var m=_(t);l=E(m,"DIV",{title:!0,class:!0});var g=_(l);n=ne(g,i[22]),g.forEach(c),s=de(m);for(let M=0;M<a.length;M+=1)a[M].l(m);m.forEach(c),d.forEach(c),this.h()},h(){v(l,"title",i[22]),v(l,"class","mx-2 my-2 truncate font-mono font-medium text-neutral-500"),v(t,"class","m-2 flex flex-col gap-y-2"),v(e,"class","my-2 flex w-full flex-col rounded border border-neutral-200")},m(f,d){C(f,e,d),h(e,t),h(t,l),h(l,n),h(t,s);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(t,null);r=!0},p(f,d){if((!r||d[0]&4194304)&&Pe(n,f[22]),(!r||d[0]&4194304)&&v(l,"title",f[22]),d[0]&8388638){o=f[23];let m;for(m=0;m<o.length;m+=1){const g=bl(f,o,m);a[m]?(a[m].p(g,d),w(a[m],1)):(a[m]=vl(g),a[m].c(),w(a[m],1),a[m].m(t,null))}for(Ee(),m=o.length;m<a.length;m+=1)u(m);Me()}},i(f){if(!r){for(let d=0;d<o.length;d+=1)w(a[d]);r=!0}},o(f){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)k(a[d]);r=!1},d(f){f&&c(e),It(a,f)}}}function us(i){let e,t,l,n,s,r,o,a,u,f,d,m,g,M,L,A,T,y,p,O,D,j,Z,Q,_e,X,ge,V,R,N,B,H,W,G,ye,J,te,Y=i[22]!=""&&i[18]==null&&wl(i);o=new Qi({props:{size:16}});const x=[cs,fs],b=[];function P(z,ke){return z[12]?0:1}d=P(i),m=b[d]=x[d](i);const U=[hs,ds],K=[];function we(z,ke){return z[11]?1:0}A=we(i),T=K[A]=U[A](i);const Ie=[_s,ms],S=[];function ue(z,ke){return z[8].showMetadataPanel?0:1}O=ue(i),D=S[O]=Ie[O](i);const be=[bs,gs],pe=[];function Ce(z,ke){return z[10]?0:1}_e=Ce(i),X=pe[_e]=be[_e](i);let Oe=i[18]!=null&&pl(i);const F=[ks,ps,ws,vs],fe=[];function le(z,ke){return z[5]?0:z[21]==null||z[2]==null?1:z[11]==null?2:3}return W=le(i),G=fe[W]=F[W](i),{c(){e=I("div"),t=I("div"),Y&&Y.c(),l=ce(),n=I("div"),s=I("div"),r=I("button"),se(o.$$.fragment),u=ce(),f=I("button"),m.c(),L=ce(),T.c(),y=ce(),p=I("button"),D.c(),Z=ce(),Q=I("button"),X.c(),R=ce(),N=I("div"),Oe&&Oe.c(),B=ce(),H=I("div"),G.c(),this.h()},l(z){e=E(z,"DIV",{class:!0});var ke=_(e);t=E(ke,"DIV",{class:!0});var Be=_(t);Y&&Y.l(Be),l=de(Be),n=E(Be,"DIV",{class:!0});var Ve=_(n);s=E(Ve,"DIV",{});var Ue=_(s);r=E(Ue,"BUTTON",{});var me=_(r);he(o.$$.fragment,me),me.forEach(c),Ue.forEach(c),u=de(Ve),f=E(Ve,"BUTTON",{});var Ne=_(f);m.l(Ne),Ne.forEach(c),L=de(Ve),T.l(Ve),y=de(Ve),p=E(Ve,"BUTTON",{});var Ge=_(p);D.l(Ge),Ge.forEach(c),Z=de(Ve),Q=E(Ve,"BUTTON",{});var Ze=_(Q);X.l(Ze),Ze.forEach(c),Ve.forEach(c),Be.forEach(c),ke.forEach(c),R=de(z),N=E(z,"DIV",{class:!0});var Ke=_(N);Oe&&Oe.l(Ke),B=de(Ke),H=E(Ke,"DIV",{class:!0});var tt=_(H);G.l(tt),tt.forEach(c),Ke.forEach(c),this.h()},h(){r.disabled=i[15],re(s,"opacity-50",i[15]),f.disabled=g=i[11]!=null,re(f,"opacity-50",i[11]!=null),Q.disabled=ge=!i[9],re(Q,"opacity-50",!i[9]),v(n,"class","flex flex-row gap-x-1"),v(t,"class","z-100 sticky top-16 flex w-full flex-col gap-y-2 self-start"),v(e,"class","relative mr-4 flex w-28 flex-row font-mono font-medium text-neutral-500 md:w-36"),v(H,"class","grow pt-1"),v(N,"class","flex grow flex-col font-normal")},m(z,ke){C(z,e,ke),h(e,t),Y&&Y.m(t,null),h(t,l),h(t,n),h(n,s),h(s,r),ae(o,r,null),h(n,u),h(n,f),b[d].m(f,null),h(n,L),K[A].m(n,null),h(n,y),h(n,p),S[O].m(p,null),h(n,Z),h(n,Q),pe[_e].m(Q,null),C(z,R,ke),C(z,N,ke),Oe&&Oe.m(N,null),h(N,B),h(N,H),fe[W].m(H,null),ye=!0,J||(te=[qe(r,"click",i[42]),He(je.call(null,r,{text:"More like this"})),He(a=je.call(null,s,{text:i[15]?'"More like this" requires an embedding index':void 0})),qe(f,"click",i[43]),He(M=je.call(null,f,{text:i[12]?"Back to text":"Preview markdown"})),qe(p,"click",i[45]),He(j=je.call(null,p,{text:i[8].showMetadataPanel?"Collapse metadata panel":"Expand metadata panel"})),qe(Q,"click",i[46]),He(V=je.call(null,Q,{text:i[10]?"Collapse text":"Expand text"}))],J=!0)},p(z,ke){z[22]!=""&&z[18]==null?Y?Y.p(z,ke):(Y=wl(z),Y.c(),Y.m(t,l)):Y&&(Y.d(1),Y=null),(!ye||ke[0]&32768)&&(r.disabled=z[15]),a&&xe(a.update)&&ke[0]&32768&&a.update.call(null,{text:z[15]?'"More like this" requires an embedding index':void 0}),(!ye||ke[0]&32768)&&re(s,"opacity-50",z[15]);let Be=d;d=P(z),d!==Be&&(Ee(),k(b[Be],1,1,()=>{b[Be]=null}),Me(),m=b[d],m||(m=b[d]=x[d](z),m.c()),w(m,1),m.m(f,null)),(!ye||ke[0]&2048&&g!==(g=z[11]!=null))&&(f.disabled=g),M&&xe(M.update)&&ke[0]&4096&&M.update.call(null,{text:z[12]?"Back to text":"Preview markdown"}),(!ye||ke[0]&2048)&&re(f,"opacity-50",z[11]!=null);let Ve=A;A=we(z),A===Ve?K[A].p(z,ke):(Ee(),k(K[Ve],1,1,()=>{K[Ve]=null}),Me(),T=K[A],T?T.p(z,ke):(T=K[A]=U[A](z),T.c()),w(T,1),T.m(n,y));let Ue=O;O=ue(z),O!==Ue&&(Ee(),k(S[Ue],1,1,()=>{S[Ue]=null}),Me(),D=S[O],D||(D=S[O]=Ie[O](z),D.c()),w(D,1),D.m(p,null)),j&&xe(j.update)&&ke[0]&256&&j.update.call(null,{text:z[8].showMetadataPanel?"Collapse metadata panel":"Expand metadata panel"});let me=_e;_e=Ce(z),_e!==me&&(Ee(),k(pe[me],1,1,()=>{pe[me]=null}),Me(),X=pe[_e],X||(X=pe[_e]=be[_e](z),X.c()),w(X,1),X.m(Q,null)),(!ye||ke[0]&512&&ge!==(ge=!z[9]))&&(Q.disabled=ge),V&&xe(V.update)&&ke[0]&1024&&V.update.call(null,{text:z[10]?"Collapse text":"Expand text"}),(!ye||ke[0]&512)&&re(Q,"opacity-50",!z[9]),z[18]!=null?Oe?Oe.p(z,ke):(Oe=pl(z),Oe.c(),Oe.m(N,B)):Oe&&(Oe.d(1),Oe=null);let Ne=W;W=le(z),W===Ne?fe[W].p(z,ke):(Ee(),k(fe[Ne],1,1,()=>{fe[Ne]=null}),Me(),G=fe[W],G?G.p(z,ke):(G=fe[W]=F[W](z),G.c()),w(G,1),G.m(H,null))},i(z){ye||(w(o.$$.fragment,z),w(m),w(T),w(D),w(X),w(G),ye=!0)},o(z){k(o.$$.fragment,z),k(m),k(T),k(D),k(X),k(G),ye=!1},d(z){z&&c(e),Y&&Y.d(),oe(o),b[d].d(),K[A].d(),S[O].d(),pe[_e].d(),z&&c(R),z&&c(N),Oe&&Oe.d(),fe[W].d(),J=!1,et(te)}}}function vl(i){let e,t,l,n;return t=new fi({props:{rootPath:i[51].rootPath,showPath:i[51].showPath,row:i[2],field:i[3],highlightedFields:i[4],mediaPath:i[1]}}),{c(){e=I("div"),se(t.$$.fragment),l=ce(),this.h()},l(s){e=E(s,"DIV",{class:!0});var r=_(e);he(t.$$.fragment,r),l=de(r),r.forEach(c),this.h()},h(){v(e,"class","m-2 rounded border border-neutral-100")},m(s,r){C(s,e,r),ae(t,e,null),h(e,l),n=!0},p(s,r){const o={};r[0]&8388608&&(o.rootPath=s[51].rootPath),r[0]&8388608&&(o.showPath=s[51].showPath),r[0]&4&&(o.row=s[2]),r[0]&8&&(o.field=s[3]),r[0]&16&&(o.highlightedFields=s[4]),r[0]&2&&(o.mediaPath=s[1]),t.$set(o)},i(s){n||(w(t.$$.fragment,s),n=!0)},o(s){k(t.$$.fragment,s),n=!1},d(s){s&&c(e),oe(t)}}}function wl(i){let e,t;return{c(){e=I("div"),t=ie(i[22]),this.h()},l(l){e=E(l,"DIV",{title:!0,class:!0});var n=_(e);t=ne(n,i[22]),n.forEach(c),this.h()},h(){v(e,"title",i[22]),v(e,"class","mx-2 mt-2 w-full flex-initial truncate")},m(l,n){C(l,e,n),h(e,t)},p(l,n){n[0]&4194304&&Pe(t,l[22]),n[0]&4194304&&v(e,"title",l[22])},d(l){l&&c(e)}}}function fs(i){let e,t;return e=new Tn({props:{size:16}}),{c(){se(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function cs(i){let e,t;return e=new mn({props:{size:16}}),{c(){se(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function ds(i){let e,t,l,n,s;return t=new ii({props:{size:16}}),{c(){e=I("button"),se(t.$$.fragment)},l(r){e=E(r,"BUTTON",{});var o=_(e);he(t.$$.fragment,o),o.forEach(c)},m(r,o){C(r,e,o),ae(t,e,null),l=!0,n||(s=[qe(e,"click",i[44]),He(je.call(null,e,{text:"Remove comparison"}))],n=!0)},p:q,i(r){l||(w(t.$$.fragment,r),l=!0)},o(r){k(t.$$.fragment,r),l=!1},d(r){r&&c(e),oe(t),n=!1,et(s)}}}function hs(i){let e,t;return e=new zt({props:{disabled:i[16].length===0,helperText:"Compare to",items:i[16],buttonIcon:On,hoist:!0}}),e.$on("select",i[27]),{c(){se(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p(l,n){const s={};n[0]&65536&&(s.disabled=l[16].length===0),n[0]&65536&&(s.items=l[16]),e.$set(s)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function ms(i){let e,t;return e=new Vn({props:{size:16}}),{c(){se(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function _s(i){let e,t;return e=new In({props:{size:16}}),{c(){se(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function gs(i){let e,t;return e=new Wi({props:{size:16}}),{c(){se(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function bs(i){let e,t;return e=new Gi({props:{size:16}}),{c(){se(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function pl(i){let e,t;return{c(){e=I("div"),t=ie(i[18]),this.h()},l(l){e=E(l,"DIV",{class:!0});var n=_(e);t=ne(n,i[18]),n.forEach(c),this.h()},h(){v(e,"class","mb-1 ml-11 rounded bg-gray-100 p-1 px-2 text-xs font-bold uppercase text-gray-700")},m(l,n){C(l,e,n),h(e,t)},p(l,n){n[0]&262144&&Pe(t,l[18])},d(l){l&&c(e)}}}function vs(i){let e,t,l;function n(r){i[48](r)}let s={row:i[2],colCompareState:i[11],isExpanded:i[10]};return i[9]!==void 0&&(s.textIsOverBudget=i[9]),e=new ns({props:s}),rt.push(()=>kt(e,"textIsOverBudget",n)),{c(){se(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,o){ae(e,r,o),l=!0},p(r,o){const a={};o[0]&4&&(a.row=r[2]),o[0]&2048&&(a.colCompareState=r[11]),o[0]&1024&&(a.isExpanded=r[10]),!t&&o[0]&512&&(t=!0,a.textIsOverBudget=r[9],yt(()=>t=!1)),e.$set(a)},i(r){l||(w(e.$$.fragment,r),l=!0)},o(r){k(e.$$.fragment,r),l=!1},d(r){oe(e,r)}}}function ws(i){let e,t,l,n,s,r,o;function a(f){i[47](f)}let u={hidden:i[12],text:i[21],row:i[2],path:i[0],field:i[3],isExpanded:i[10],spanPaths:i[14].spanPaths,spanValueInfos:i[14].spanValueInfos,datasetViewStore:i[25],embeddings:i[7],viewType:i[13]};return i[9]!==void 0&&(u.textIsOverBudget=i[9]),e=new as({props:u}),rt.push(()=>kt(e,"textIsOverBudget",a)),r=new Ai({props:{source:vt(i[21])}}),{c(){se(e.$$.fragment),l=ce(),n=I("div"),s=I("div"),se(r.$$.fragment),this.h()},l(f){he(e.$$.fragment,f),l=de(f),n=E(f,"DIV",{class:!0});var d=_(n);s=E(d,"DIV",{class:!0});var m=_(s);he(r.$$.fragment,m),m.forEach(c),d.forEach(c),this.h()},h(){v(s,"class","markdown -ml-0.5 w-fit pl-14"),v(n,"class","markdown w-full"),re(n,"hidden",!i[12])},m(f,d){ae(e,f,d),C(f,l,d),C(f,n,d),h(n,s),ae(r,s,null),o=!0},p(f,d){const m={};d[0]&4096&&(m.hidden=f[12]),d[0]&2097152&&(m.text=f[21]),d[0]&4&&(m.row=f[2]),d[0]&1&&(m.path=f[0]),d[0]&8&&(m.field=f[3]),d[0]&1024&&(m.isExpanded=f[10]),d[0]&16384&&(m.spanPaths=f[14].spanPaths),d[0]&16384&&(m.spanValueInfos=f[14].spanValueInfos),d[0]&128&&(m.embeddings=f[7]),d[0]&8192&&(m.viewType=f[13]),!t&&d[0]&512&&(t=!0,m.textIsOverBudget=f[9],yt(()=>t=!1)),e.$set(m);const g={};d[0]&2097152&&(g.source=vt(f[21])),r.$set(g),(!o||d[0]&4096)&&re(n,"hidden",!f[12])},i(f){o||(w(e.$$.fragment,f),w(r.$$.fragment,f),o=!0)},o(f){k(e.$$.fragment,f),k(r.$$.fragment,f),o=!1},d(f){oe(e,f),f&&c(l),f&&c(n),oe(r)}}}function ps(i){let e,t;return{c(){e=I("span"),t=ie("null"),this.h()},l(l){e=E(l,"SPAN",{class:!0});var n=_(e);t=ne(n,"null"),n.forEach(c),this.h()},h(){v(e,"class","ml-12 italic")},m(l,n){C(l,e,n),h(e,t)},p:q,i:q,o:q,d(l){l&&c(e)}}}function ks(i){let e,t;return e=new ct({props:{class:"!w-80"}}),{c(){se(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p:q,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function ys(i){let e,t,l,n;const s=[us,os],r=[];function o(a,u){return a[24]?0:1}return t=o(i),l=r[t]=s[t](i),{c(){e=I("div"),l.c(),this.h()},l(a){e=E(a,"DIV",{class:!0});var u=_(e);l.l(u),u.forEach(c),this.h()},h(){v(e,"class","flex w-full flex-row gap-x-4 p-2")},m(a,u){C(a,e,u),r[t].m(e,null),n=!0},p(a,u){let f=t;t=o(a),t===f?r[t].p(a,u):(Ee(),k(r[f],1,1,()=>{r[f]=null}),Me(),l=r[t],l?l.p(a,u):(l=r[t]=s[t](a),l.c()),w(l,1),l.m(e,null))},i(a){n||(w(l),n=!0)},o(a){k(l),n=!1},d(a){a&&c(e),r[t].d()}}}function Is(i,e,t){let l,n,s,r,o,a,u,f,d,m,g,M,L,A,T,y,p,O,D,j,Z,Q,_e,X=q,ge=()=>(X(),X=Xe(f,me=>t(39,_e=me)),f),V,R,N,B=q,H=()=>(B(),B=Xe(L,me=>t(40,N=me)),L),W,G=q,ye=()=>(G(),G=Xe(d,me=>t(41,W=me)),d);i.$$.on_destroy.push(()=>X()),i.$$.on_destroy.push(()=>B()),i.$$.on_destroy.push(()=>G());let{mediaPath:J}=e,{row:te=void 0}=e,{field:Y}=e,{highlightedFields:x}=e,{rootPath:b=void 0}=e,{showPath:P=void 0}=e,{isFetching:U=void 0}=e,K=!1,we=!1,Ie;const S=ft();Je(i,S,me=>t(8,V=me));const ue=Ki();Je(i,ue,me=>t(49,R=me));function be(me){return me.map((Ne,Ge)=>Ne===at?b[Ge]:Ne)}function pe(me){S.addCompareColumn([b,me.detail.id])}function Ce(me){var Ge;let Ne=p[0];if(((Ge=_e.data)==null?void 0:Ge.preferred_embedding)!=null){const Ze=_e.data.preferred_embedding;p.some(Ke=>Ke===Ze)&&(Ne=Ze)}if(R.embedding!=null){const Ze=R.embedding;p.some(Ke=>Ke===Ze)&&(Ne=Ze)}S.addSearch({path:Y.path,type:"semantic",query:me,query_type:"document",embedding:Ne})}let Oe=null;function F(){S.removeCompareColumn(J)}const fe=()=>Ce(u),le=()=>t(6,Ie=!Q),z=()=>F(),ke=()=>vi(S,V.showMetadataPanel=!V.showMetadataPanel,V),Be=()=>t(10,we=!we);function Ve(me){K=me,t(9,K)}function Ue(me){K=me,t(9,K)}return i.$$set=me=>{"mediaPath"in me&&t(1,J=me.mediaPath),"row"in me&&t(2,te=me.row),"field"in me&&t(3,Y=me.field),"highlightedFields"in me&&t(4,x=me.highlightedFields),"rootPath"in me&&t(0,b=me.rootPath),"showPath"in me&&t(30,P=me.showPath),"isFetching"in me&&t(5,U=me.isFetching)},i.$$.update=()=>{var me,Ne,Ge,Ze,Ke,tt,it,dt;if(i.$$.dirty[0]&2&&t(38,l=J.findIndex(Ae=>Ae===at)),i.$$.dirty[0]&3|i.$$.dirty[1]&128&&b==null&&(l!=-1?t(0,b=J.slice(0,l+1)):t(0,b=J)),i.$$.dirty[0]&5&&t(36,n=te!=null?ot(te,b):[]),i.$$.dirty[0]&3|i.$$.dirty[1]&32&&t(24,s=Nt(J,b)&&n.length===1),i.$$.dirty[0]&2|i.$$.dirty[1]&32&&t(23,r=n.map(Ae=>{const Fe=$e.path(Ae),Vt=J.findIndex((Pt,di)=>Pt===at&&di>=Fe.length),ci=J.slice(Vt).filter(Pt=>Pt!==at);return{rootPath:[...Fe,...J.slice(Fe.length,Vt===-1?void 0:Vt)],showPath:ci}})),i.$$.dirty[0]&1073741825&&t(37,o=P??b),i.$$.dirty[1]&64&&t(22,a=st(o)),i.$$.dirty[1]&32&&t(21,u=$e.value(n[0])),i.$$.dirty[0]&256&&ge(t(20,f=Ti(V.namespace,V.datasetName))),i.$$.dirty[0]&256&&ye(t(19,d=Di(V.namespace,V.datasetName))),i.$$.dirty[1]&1024&&t(35,m=(Ne=(me=W.data)==null?void 0:me.dataset_manifest.dataset_format)==null?void 0:Ne.title_slots),i.$$.dirty[0]&1|i.$$.dirty[1]&16&&t(34,g=(Ge=(m||[]).find(Ae=>{const[Fe]=Ae;return Qe(Fe,b)}))==null?void 0:Ge[1]),i.$$.dirty[0]&4|i.$$.dirty[1]&8&&t(18,M=g!=null&&te!=null?$e.value(ot(te,be(g))[0]):null),i.$$.dirty[0]&256&&H(t(17,L=Et(V.namespace,V.datasetName))),i.$$.dirty[1]&512&&t(33,A=N.data!=null?Xl(N.data).filter(Ae=>{var Fe;return((Fe=Ae.dtype)==null?void 0:Fe.type)==="string"}):[]),i.$$.dirty[0]&5|i.$$.dirty[1]&4&&t(32,T=A.map(Ae=>Ae.path).map(Ae=>Array.isArray(Ae)?Ae:[Ae]).flatMap(Ae=>te==null?[]:ot(te,Ae).map(Fe=>$e.path(Fe)).filter(Fe=>!Nt(Fe,b)))),i.$$.dirty[1]&2&&t(16,y=T.map(Ae=>({id:Ae,text:st(Ae)}))),i.$$.dirty[0]&2|i.$$.dirty[1]&512&&t(7,p=Si(N.data,J)),i.$$.dirty[0]&128&&t(15,O=p.length===0),i.$$.dirty[0]&24&&t(14,D=Oi(Y,x)),i.$$.dirty[0]&257){t(11,Oe=null);for(const Ae of V.compareColumns)if(Qe(Ae.column,b)){t(11,Oe=Ae);break}}i.$$.dirty[0]&2|i.$$.dirty[1]&256&&t(31,j=((tt=(Ke=(Ze=_e.data)==null?void 0:Ze.ui)==null?void 0:Ke.markdown_paths)==null?void 0:tt.find(Ae=>Qe(Ae,J)))!=null),i.$$.dirty[1]&256&&t(13,Z=((dt=(it=_e.data)==null?void 0:it.ui)==null?void 0:dt.view_type)||"single_item"),i.$$.dirty[0]&64|i.$$.dirty[1]&1&&t(12,Q=Ie!==void 0?Ie:j)},[b,J,te,Y,x,U,Ie,p,V,K,we,Oe,Q,Z,D,O,y,L,M,d,f,u,a,r,s,S,ue,pe,Ce,F,P,j,T,A,g,m,n,o,l,_e,N,W,fe,le,z,ke,Be,Ve,Ue]}class fi extends Re{constructor(e){super(),ze(this,e,Is,ys,Le,{mediaPath:1,row:2,field:3,highlightedFields:4,rootPath:0,showPath:30,isFetching:5},null,[-1,-1])}}function Es(i){let e,t,l,n;return{c(){e=I("button"),t=ie(i[1]),this.h()},l(s){e=E(s,"BUTTON",{class:!0});var r=_(e);t=ne(r,i[1]),r.forEach(c),this.h()},h(){e.disabled=i[2],v(e,"class","rounded-lg border border-gray-300 hover:border-gray-500"),re(e,"bg-slate-500",i[0]),re(e,"bg-white",!i[0]),re(e,"hover:bg-slate-500",i[0]),re(e,"hover:bg-transparent",!i[0]),re(e,"text-white",i[0])},m(s,r){C(s,e,r),h(e,t),l||(n=qe(e,"click",i[3]),l=!0)},p(s,[r]){r&2&&Pe(t,s[1]),r&4&&(e.disabled=s[2]),r&1&&re(e,"bg-slate-500",s[0]),r&1&&re(e,"bg-white",!s[0]),r&1&&re(e,"hover:bg-slate-500",s[0]),r&1&&re(e,"hover:bg-transparent",!s[0]),r&1&&re(e,"text-white",s[0])},i:q,o:q,d(s){s&&c(e),l=!1,n()}}}function Ms(i,e,t){let{label:l}=e,{active:n}=e,{disabled:s=!1}=e;function r(o){Ul.call(this,i,o)}return i.$$set=o=>{"label"in o&&t(1,l=o.label),"active"in o&&t(0,n=o.active),"disabled"in o&&t(2,s=o.disabled)},i.$$.update=()=>{i.$$.dirty&5&&t(0,n=n&&!s)},[n,l,s,r]}class Vs extends Re{constructor(e){super(),ze(this,e,Ms,Es,Le,{label:1,active:0,disabled:2})}}function Ps(i){var o;let e,t,l,n=((o=i[0])==null?void 0:o.toLocaleString())+"",s,r;return{c(){e=I("p"),t=ie("Restore "),l=I("span"),s=ie(n),r=ie(`
    rows?`),this.h()},l(a){e=E(a,"P",{});var u=_(e);t=ne(u,"Restore "),l=E(u,"SPAN",{class:!0});var f=_(l);s=ne(f,n),f.forEach(c),r=ne(u,`
    rows?`),u.forEach(c),this.h()},h(){v(l,"class","font-mono font-bold")},m(a,u){C(a,e,u),h(e,t),h(e,l),h(l,s),h(e,r)},p(a,u){var f;u&1&&n!==(n=((f=a[0])==null?void 0:f.toLocaleString())+"")&&Pe(s,n)},d(a){a&&c(e)}}}function Cs(i){let e,t,l,n,s,r,o,a;return t=new ii({}),s=new Rt({props:{size:"xs",open:i[2],modalHeading:"Restore rows",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[Ps]},$$scope:{ctx:i}}}),s.$on("submit",i[9]),s.$on("click:button--secondary",i[10]),s.$on("close",i[11]),{c(){e=I("button"),se(t.$$.fragment),n=ce(),se(s.$$.fragment),this.h()},l(u){e=E(u,"BUTTON",{class:!0});var f=_(e);he(t.$$.fragment,f),f.forEach(c),n=de(u),he(s.$$.fragment,u),this.h()},h(){v(e,"class","rounded border border-gray-300 bg-white hover:border-gray-500 hover:bg-transparent")},m(u,f){C(u,e,f),ae(t,e,null),C(u,n,f),ae(s,u,f),r=!0,o||(a=[He(l=je.call(null,e,{text:i[1]!=null&&i[1].length===1?"Restore deleted row":"Restore deleted rows"})),qe(e,"click",i[8])],o=!0)},p(u,[f]){l&&xe(l.update)&&f&2&&l.update.call(null,{text:u[1]!=null&&u[1].length===1?"Restore deleted row":"Restore deleted rows"});const d={};f&4&&(d.open=u[2]),f&32769&&(d.$$scope={dirty:f,ctx:u}),s.$set(d)},i(u){r||(w(t.$$.fragment,u),w(s.$$.fragment,u),r=!0)},o(u){k(t.$$.fragment,u),k(s.$$.fragment,u),r=!1},d(u){u&&c(e),oe(t),u&&c(n),oe(s,u),o=!1,et(a)}}}function Ts(i,e,t){let l,n,{rowIds:s=void 0}=e,{searches:r=void 0}=e,{filters:o=void 0}=e,{numRows:a=void 0}=e;const u=pt(),f=ft();Je(i,f,y=>t(12,l=y));const d=Ri();Je(i,d,y=>t(13,n=y));function m(){n.mutate([l.namespace,l.datasetName,{row_ids:s,searches:r,filters:o}],{onSuccess:()=>{u("restore"),t(2,g=!1),close()}})}let g=!1;const M=()=>{t(2,g=!0)},L=()=>m(),A=()=>{t(2,g=!1)},T=()=>t(2,g=!1);return i.$$set=y=>{"rowIds"in y&&t(1,s=y.rowIds),"searches"in y&&t(6,r=y.searches),"filters"in y&&t(7,o=y.filters),"numRows"in y&&t(0,a=y.numRows)},i.$$.update=()=>{i.$$.dirty&3&&a==null&&s!=null&&t(0,a=s.length)},[a,s,g,f,d,m,r,o,M,L,A,T]}class Ds extends Re{constructor(e){super(),ze(this,e,Ts,Cs,Le,{rowIds:1,searches:6,filters:7,numRows:0})}}function kl(i,e,t){const l=i.slice();return l[41]=e[t],l}function St(i){const e=i.slice(),t=e[3]!=null&&e[3]<e[4]-1;return e[44]=t,e}function Ot(i){const e=i.slice(),t=e[3]!=null&&e[3]>0;return e[45]=t,e}function yl(i,e,t){const l=i.slice();return l[46]=e[t],l}function Il(i){let e,t,l;function n(){return i[32](i[46])}return t=new Vs({props:{label:i[46],disabled:i[11].has(i[46]),active:i[16].includes(i[46])}}),t.$on("click",n),{c(){e=I("div"),se(t.$$.fragment),this.h()},l(s){e=E(s,"DIV",{});var r=_(e);he(t.$$.fragment,r),r.forEach(c),this.h()},h(){re(e,"opacity-50",i[11].has(i[46]))},m(s,r){C(s,e,r),ae(t,e,null),l=!0},p(s,r){i=s;const o={};r[0]&16384&&(o.label=i[46]),r[0]&18432&&(o.disabled=i[11].has(i[46])),r[0]&81920&&(o.active=i[16].includes(i[46])),t.$set(o),(!l||r[0]&18432)&&re(e,"opacity-50",i[11].has(i[46]))},i(s){l||(w(t.$$.fragment,s),l=!0)},o(s){k(t.$$.fragment,s),l=!1},d(s){s&&c(e),oe(t)}}}function El(i){let e,t,l,n,s,r,o;return l=new bn({props:{title:"Previous item",size:24}}),{c(){e=I("div"),t=I("button"),se(l.$$.fragment),this.h()},l(a){e=E(a,"DIV",{class:!0});var u=_(e);t=E(u,"BUTTON",{});var f=_(t);he(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){t.disabled=n=!i[45],re(t,"opacity-30",!i[45]),v(e,"class","flex-0 my-0.5")},m(a,u){C(a,e,u),h(e,t),ae(l,t,null),s=!0,r||(o=qe(t,"click",i[33]),r=!0)},p(a,u){(!s||u[0]&8&&n!==(n=!a[45]))&&(t.disabled=n),(!s||u[0]&8)&&re(t,"opacity-30",!a[45])},i(a){s||(w(l.$$.fragment,a),s=!0)},o(a){k(l.$$.fragment,a),s=!1},d(a){a&&c(e),oe(l),r=!1,o()}}}function Ss(i){let e,t,l;return t=new ct({props:{lines:1,class:"!w-10"}}),{c(){e=I("div"),se(t.$$.fragment),this.h()},l(n){e=E(n,"DIV",{class:!0});var s=_(e);he(t.$$.fragment,s),s.forEach(c),this.h()},h(){v(e,"class","pt-1.5")},m(n,s){C(n,e,s),ae(t,e,null),l=!0},p:q,i(n){l||(w(t.$$.fragment,n),l=!0)},o(n){k(t.$$.fragment,n),l=!1},d(n){n&&c(e),oe(t)}}}function Os(i){let e=i[3]+1+"",t;return{c(){t=ie(e)},l(l){t=ne(l,e)},m(l,n){C(l,t,n)},p(l,n){n[0]&8&&e!==(e=l[3]+1+"")&&Pe(t,e)},i:q,o:q,d(l){l&&c(t)}}}function As(i){let e,t,l;return t=new ct({props:{lines:1,class:"!w-20"}}),{c(){e=I("div"),se(t.$$.fragment),this.h()},l(n){e=E(n,"DIV",{class:!0});var s=_(e);he(t.$$.fragment,s),s.forEach(c),this.h()},h(){v(e,"class","pt-1.5")},m(n,s){C(n,e,s),ae(t,e,null),l=!0},p:q,i(n){l||(w(t.$$.fragment,n),l=!0)},o(n){k(t.$$.fragment,n),l=!1},d(n){n&&c(e),oe(t)}}}function Rs(i){let e=vt(i[4])+"",t;return{c(){t=ie(e)},l(l){t=ne(l,e)},m(l,n){C(l,t,n)},p(l,n){n[0]&16&&e!==(e=vt(l[4])+"")&&Pe(t,e)},i:q,o:q,d(l){l&&c(t)}}}function Ml(i){let e,t,l,n,s,r,o;return l=new pn({props:{title:"Next item",size:24}}),{c(){e=I("div"),t=I("button"),se(l.$$.fragment),this.h()},l(a){e=E(a,"DIV",{class:!0});var u=_(e);t=E(u,"BUTTON",{});var f=_(t);he(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){t.disabled=n=!i[44],re(t,"opacity-30",!i[44]),v(e,"class","flex-0")},m(a,u){C(a,e,u),h(e,t),ae(l,t,null),s=!0,r||(o=qe(t,"click",i[34]),r=!0)},p(a,u){(!s||u[0]&24&&n!==(n=!a[44]))&&(t.disabled=n),(!s||u[0]&24)&&re(t,"opacity-30",!a[44])},i(a){s||(w(l.$$.fragment,a),s=!0)},o(a){k(l.$$.fragment,a),s=!1},d(a){a&&c(e),oe(l),r=!1,o()}}}function Vl(i){let e,t,l,n;const s=[Ls,zs],r=[];function o(a,u){return a[10].viewTrash?1:0}return e=o(i),t=r[e]=s[e](i),{c(){t.c(),l=We()},l(a){t.l(a),l=We()},m(a,u){r[e].m(a,u),C(a,l,u),n=!0},p(a,u){let f=e;e=o(a),e===f?r[e].p(a,u):(Ee(),k(r[f],1,1,()=>{r[f]=null}),Me(),t=r[e],t?t.p(a,u):(t=r[e]=s[e](a),t.c()),w(t,1),t.m(l.parentNode,l))},i(a){n||(w(t),n=!0)},o(a){k(t),n=!1},d(a){r[e].d(a),a&&c(l)}}}function zs(i){let e,t;return e=new Ds({props:{rowIds:[i[0]]}}),e.$on("restore",i[36]),{c(){se(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p(l,n){const s={};n[0]&1&&(s.rowIds=[l[0]]),e.$set(s)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Ls(i){let e,t;return e=new Qn({props:{rowIds:[i[0]]}}),e.$on("deleted",i[35]),{c(){se(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p(l,n){const s={};n[0]&1&&(s.rowIds=[l[0]]),e.$set(s)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Pl(i){let e,t;return e=new ct({props:{class:"w-20"}}),{c(){se(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Cl(i){let e=[],t=new Map,l,n,s=i[1];const r=o=>nt(o[41].path);for(let o=0;o<s.length;o+=1){let a=kl(i,s,o),u=r(a);t.set(u,e[o]=Tl(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=We()},l(o){for(let a=0;a<e.length;a+=1)e[a].l(o);l=We()},m(o,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,a);C(o,l,a),n=!0},p(o,a){a[0]&390&&(s=o[1],Ee(),e=pi(e,a,r,1,o,s,t,l.parentNode,ki,Tl,l,kl),Me())},i(o){if(!n){for(let a=0;a<s.length;a+=1)w(e[a]);n=!0}},o(o){for(let a=0;a<e.length;a+=1)k(e[a]);n=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&c(l)}}}function Tl(i,e){var r;let t,l,n,s;return l=new fi({props:{mediaPath:e[41].path,row:e[7],field:e[41],highlightedFields:e[2],isFetching:(r=e[8])==null?void 0:r.isFetching}}),{key:i,first:null,c(){t=I("div"),se(l.$$.fragment),n=ce(),this.h()},l(o){t=E(o,"DIV",{class:!0});var a=_(t);he(l.$$.fragment,a),n=de(a),a.forEach(c),this.h()},h(){v(t,"class","flex w-full flex-col"),this.first=t},m(o,a){C(o,t,a),ae(l,t,null),h(t,n),s=!0},p(o,a){var f;e=o;const u={};a[0]&2&&(u.mediaPath=e[41].path),a[0]&128&&(u.row=e[7]),a[0]&2&&(u.field=e[41]),a[0]&4&&(u.highlightedFields=e[2]),a[0]&256&&(u.isFetching=(f=e[8])==null?void 0:f.isFetching),l.$set(u)},i(o){s||(w(l.$$.fragment,o),s=!0)},o(o){k(l.$$.fragment,o),s=!1},d(o){o&&c(t),oe(l)}}}function Dl(i){let e,t,l,n,s,r,o;return n=new en({props:{row:i[7],selectRowsSchema:i[9].data,highlightedFields:i[2]}}),{c(){e=I("div"),t=I("div"),l=I("div"),se(n.$$.fragment),this.h()},l(a){e=E(a,"DIV",{class:!0});var u=_(e);t=E(u,"DIV",{class:!0});var f=_(t);l=E(f,"DIV",{style:!0,class:!0});var d=_(l);he(n.$$.fragment,d),d.forEach(c),f.forEach(c),u.forEach(c),this.h()},h(){v(l,"style",s=`max-height: ${Math.max(Sl,i[12])}px`),v(l,"class","overflow-y-auto"),v(t,"class","sticky top-0 w-full self-start"),v(e,"class","flex h-full bg-neutral-100 md:w-1/3")},m(a,u){C(a,e,u),h(e,t),h(t,l),ae(n,l,null),o=!0},p(a,u){i=a;const f={};u[0]&128&&(f.row=i[7]),u[0]&512&&(f.selectRowsSchema=i[9].data),u[0]&4&&(f.highlightedFields=i[2]),n.$set(f),(!o||u[0]&4096&&s!==(s=`max-height: ${Math.max(Sl,i[12])}px`))&&v(l,"style",s)},i(a){o||(w(n.$$.fragment,a),Zl(()=>{o&&(r||(r=Lt(e,Ft,{axis:"x",duration:Bt},!0)),r.run(1))}),o=!0)},o(a){k(n.$$.fragment,a),r||(r=Lt(e,Ft,{axis:"x",duration:Bt},!1)),r.run(0),o=!1},d(a){a&&c(e),oe(n),a&&r&&r.end()}}}function Ns(i){var Oe;let e,t,l,n,s,r,o,a,u,f,d,m,g,M,L,A,T,y,p,O,D,j,Z,Q,_e,X,ge,V,R,N,B,H,W,G,ye,J=i[14]||[],te=[];for(let F=0;F<J.length;F+=1)te[F]=Il(yl(i,J,F));const Y=F=>k(te[F],1,1,()=>{te[F]=null});a=new hr({props:{icon:li,labelsQuery:{row_ids:i[0]!=null?[i[0]]:[]},hideLabels:i[16]}});let x=i[5]!=null&&El(Ot(i));const b=[Os,Ss],P=[];function U(F,fe){return F[3]!=null&&F[3]>=0?0:1}L=U(i),A=P[L]=b[L](i);const K=[Rs,As],we=[];function Ie(F,fe){return F[4]!=null?0:1}j=Ie(i),Z=we[j]=K[j](i);let S=i[5]!=null&&i[4]!=null&&Ml(St(i)),ue=i[0]!=null&&Vl(i),be=((Oe=i[8])==null?void 0:Oe.isFetching)&&Pl(),pe=i[1].length>0&&Cl(i),Ce=i[10].showMetadataPanel&&Dl(i);return{c(){e=I("div"),t=I("div"),l=I("div"),n=I("div"),s=I("div");for(let F=0;F<te.length;F+=1)te[F].c();r=ce(),o=I("div"),se(a.$$.fragment),u=ce(),f=I("div"),d=I("div"),x&&x.c(),m=ce(),g=I("div"),M=I("div"),A.c(),T=ce(),y=I("div"),p=ie("of"),O=ce(),D=I("span"),Z.c(),Q=ce(),S&&S.c(),_e=ce(),X=I("div"),ue&&ue.c(),ge=ce(),V=I("div"),R=I("div"),N=I("div"),be&&be.c(),B=ce(),pe&&pe.c(),G=ce(),Ce&&Ce.c(),this.h()},l(F){e=E(F,"DIV",{class:!0});var fe=_(e);t=E(fe,"DIV",{class:!0});var le=_(t);l=E(le,"DIV",{class:!0});var z=_(l);n=E(z,"DIV",{class:!0});var ke=_(n);s=E(ke,"DIV",{class:!0});var Be=_(s);for(let Fe=0;Fe<te.length;Fe+=1)te[Fe].l(Be);r=de(Be),o=E(Be,"DIV",{class:!0});var Ve=_(o);he(a.$$.fragment,Ve),Ve.forEach(c),Be.forEach(c),ke.forEach(c),u=de(z),f=E(z,"DIV",{class:!0});var Ue=_(f);d=E(Ue,"DIV",{class:!0});var me=_(d);x&&x.l(me),m=de(me),g=E(me,"DIV",{class:!0});var Ne=_(g);M=E(Ne,"DIV",{class:!0});var Ge=_(M);A.l(Ge),Ge.forEach(c),T=de(Ne),y=E(Ne,"DIV",{class:!0});var Ze=_(y);p=ne(Ze,"of"),Ze.forEach(c),O=de(Ne),D=E(Ne,"SPAN",{class:!0});var Ke=_(D);Z.l(Ke),Ke.forEach(c),Ne.forEach(c),Q=de(me),S&&S.l(me),me.forEach(c),Ue.forEach(c),_e=de(z),X=E(z,"DIV",{class:!0});var tt=_(X);ue&&ue.l(tt),tt.forEach(c),z.forEach(c),le.forEach(c),ge=de(fe),V=E(fe,"DIV",{class:!0});var it=_(V);R=E(it,"DIV",{class:!0});var dt=_(R);N=E(dt,"DIV",{class:!0});var Ae=_(N);be&&be.l(Ae),B=de(Ae),pe&&pe.l(Ae),Ae.forEach(c),dt.forEach(c),G=de(it),Ce&&Ce.l(it),it.forEach(c),fe.forEach(c),this.h()},h(){v(o,"class","relative mr-8 h-8"),v(s,"class","flex w-full flex-row flex-wrap items-center gap-x-2 gap-y-2 pl-2"),re(s,"opacity-50",i[15]),v(n,"class","flex w-1/3 flex-row"),v(M,"class","flex"),v(y,"class","text-gray-500 opacity-80"),v(D,"class","inline-flex text-gray-500 opacity-80"),v(g,"class","mx-2 flex w-32 flex-row justify-center justify-items-center gap-x-1.5"),v(d,"class","flex w-full flex-row items-center justify-center truncate text-center text-lg"),v(f,"class","w-1/3 items-center justify-items-center self-center justify-self-center"),v(X,"class","flex w-1/3 flex-row items-center justify-end pr-2"),v(l,"class","mx-4 flex w-full rounded-t-lg border border-neutral-300 bg-violet-200 bg-opacity-70 py-2"),v(t,"class","sticky top-0 z-10 flex w-full flex-row justify-between bg-white"),v(N,"class","rounded-b border-b border-l border-r border-neutral-300"),v(R,"class",H=`flex flex-col ${i[10].showMetadataPanel?"w-2/3":"grow "}`),Zl(()=>i[37].call(R)),v(V,"class","flex w-full flex-row px-4"),v(e,"class","relative flex w-full flex-col rounded md:flex-col")},m(F,fe){C(F,e,fe),h(e,t),h(t,l),h(l,n),h(n,s);for(let le=0;le<te.length;le+=1)te[le]&&te[le].m(s,null);h(s,r),h(s,o),ae(a,o,null),h(l,u),h(l,f),h(f,d),x&&x.m(d,null),h(d,m),h(d,g),h(g,M),P[L].m(M,null),h(g,T),h(g,y),h(y,p),h(g,O),h(g,D),we[j].m(D,null),h(d,Q),S&&S.m(d,null),h(l,_e),h(l,X),ue&&ue.m(X,null),h(e,ge),h(e,V),h(V,R),h(R,N),be&&be.m(N,null),h(N,B),pe&&pe.m(N,null),W=wi(R,i[37].bind(R)),h(V,G),Ce&&Ce.m(V,null),ye=!0},p(F,fe){var Be;if(fe[0]&25249792){J=F[14]||[];let Ve;for(Ve=0;Ve<J.length;Ve+=1){const Ue=yl(F,J,Ve);te[Ve]?(te[Ve].p(Ue,fe),w(te[Ve],1)):(te[Ve]=Il(Ue),te[Ve].c(),w(te[Ve],1),te[Ve].m(s,r))}for(Ee(),Ve=J.length;Ve<te.length;Ve+=1)Y(Ve);Me()}const le={};fe[0]&1&&(le.labelsQuery={row_ids:F[0]!=null?[F[0]]:[]}),fe[0]&65536&&(le.hideLabels=F[16]),a.$set(le),(!ye||fe[0]&32768)&&re(s,"opacity-50",F[15]),F[5]!=null?x?(x.p(Ot(F),fe),fe[0]&32&&w(x,1)):(x=El(Ot(F)),x.c(),w(x,1),x.m(d,m)):x&&(Ee(),k(x,1,1,()=>{x=null}),Me());let z=L;L=U(F),L===z?P[L].p(F,fe):(Ee(),k(P[z],1,1,()=>{P[z]=null}),Me(),A=P[L],A?A.p(F,fe):(A=P[L]=b[L](F),A.c()),w(A,1),A.m(M,null));let ke=j;j=Ie(F),j===ke?we[j].p(F,fe):(Ee(),k(we[ke],1,1,()=>{we[ke]=null}),Me(),Z=we[j],Z?Z.p(F,fe):(Z=we[j]=K[j](F),Z.c()),w(Z,1),Z.m(D,null)),F[5]!=null&&F[4]!=null?S?(S.p(St(F),fe),fe[0]&48&&w(S,1)):(S=Ml(St(F)),S.c(),w(S,1),S.m(d,null)):S&&(Ee(),k(S,1,1,()=>{S=null}),Me()),F[0]!=null?ue?(ue.p(F,fe),fe[0]&1&&w(ue,1)):(ue=Vl(F),ue.c(),w(ue,1),ue.m(X,null)):ue&&(Ee(),k(ue,1,1,()=>{ue=null}),Me()),(Be=F[8])!=null&&Be.isFetching?be?fe[0]&256&&w(be,1):(be=Pl(),be.c(),w(be,1),be.m(N,B)):be&&(Ee(),k(be,1,1,()=>{be=null}),Me()),F[1].length>0?pe?(pe.p(F,fe),fe[0]&2&&w(pe,1)):(pe=Cl(F),pe.c(),w(pe,1),pe.m(N,null)):pe&&(Ee(),k(pe,1,1,()=>{pe=null}),Me()),(!ye||fe[0]&1024&&H!==(H=`flex flex-col ${F[10].showMetadataPanel?"w-2/3":"grow "}`))&&v(R,"class",H),F[10].showMetadataPanel?Ce?(Ce.p(F,fe),fe[0]&1024&&w(Ce,1)):(Ce=Dl(F),Ce.c(),w(Ce,1),Ce.m(V,null)):Ce&&(Ee(),k(Ce,1,1,()=>{Ce=null}),Me())},i(F){if(!ye){for(let fe=0;fe<J.length;fe+=1)w(te[fe]);w(a.$$.fragment,F),w(x),w(A),w(Z),w(S),w(ue),w(be),w(pe),w(Ce),ye=!0}},o(F){te=te.filter(Boolean);for(let fe=0;fe<te.length;fe+=1)k(te[fe]);k(a.$$.fragment,F),k(x),k(A),k(Z),k(S),k(ue),k(be),k(pe),k(Ce),ye=!1},d(F){F&&c(e),It(te,F),oe(a),x&&x.d(),P[L].d(),we[j].d(),S&&S.d(),ue&&ue.d(),be&&be.d(),pe&&pe.d(),W(),Ce&&Ce.d()}}}const Sl=165;function Bs(i,e,t){let l,n,s,r,o,a,u,f,d,m,g,M,L,A,T,y=q,p=()=>(y(),y=Xe(a,le=>t(38,T=le)),a),O,D=q,j=()=>(D(),D=Xe(L,le=>t(39,O=le)),L),Z,Q=q,_e=()=>(Q(),Q=Xe(f,le=>t(8,Z=le)),f),X,ge=q,V=()=>(ge(),ge=Xe(r,le=>t(30,X=le)),r),R,N=q,B=()=>(N(),N=Xe(o,le=>t(9,R=le)),o),H,W;i.$$.on_destroy.push(()=>y()),i.$$.on_destroy.push(()=>D()),i.$$.on_destroy.push(()=>Q()),i.$$.on_destroy.push(()=>ge()),i.$$.on_destroy.push(()=>N());let{rowId:G}=e,{mediaFields:ye}=e,{highlightedFields:J}=e,{index:te=void 0}=e,{totalNumRows:Y=void 0}=e,{updateSequentialRowId:x=void 0}=e,{nextRowId:b=void 0}=e;const P=ft();Je(i,P,le=>t(10,H=le));const U=ti(),K=Kl();Je(i,K,le=>t(31,W=le));let we=new Set,Ie=0;function S(le){if(G==null)return;const z={row_ids:[G],label_name:le};we.add(le),t(11,we),t(27,A),t(8,Z),O.mutate([l,n,z],{onSuccess:ke=>{const Be=z.row_ids!=null?`Document id: ${z.row_ids}`:`${ke.toLocaleString()} rows labeled`;U.addNotification({kind:"success",title:`Added label "${z.label_name}"`,message:Be})}})}function ue(le){if(G==null)return;const z={label_name:le,row_ids:[G]};we.add(le),t(11,we),t(27,A),t(8,Z),T.mutate([l,n,z],{onSuccess:()=>{U.addNotification({kind:"success",title:`Removed label "${z.label_name}"`,message:`Document id: ${G}`})}})}const be=le=>{m.includes(le)?ue(le):S(le)},pe=()=>x!=null?x("previous"):null,Ce=()=>x!=null?x("next"):null,Oe=()=>b!=null?P.setRowId(b):null,F=()=>b!=null?P.setRowId(b):null;function fe(){Ie=this.clientHeight,t(12,Ie)}return i.$$set=le=>{"rowId"in le&&t(0,G=le.rowId),"mediaFields"in le&&t(1,ye=le.mediaFields),"highlightedFields"in le&&t(2,J=le.highlightedFields),"index"in le&&t(3,te=le.index),"totalNumRows"in le&&t(4,Y=le.totalNumRows),"updateSequentialRowId"in le&&t(5,x=le.updateSequentialRowId),"nextRowId"in le&&t(6,b=le.nextRowId)},i.$$.update=()=>{var le;i.$$.dirty[0]&1024&&t(26,l=H.namespace),i.$$.dirty[0]&1024&&t(25,n=H.datasetName),i.$$.dirty[1]&1&&t(28,s=(le=W.data)==null?void 0:le.access.dataset.edit_labels),i.$$.dirty[0]&100663296&&V(t(20,r=Et(l,n))),i.$$.dirty[0]&100664320&&B(t(19,o=zi(l,n,Li(H)))),i.$$.dirty[0]&1073741824&&p(t(18,a=X.data!=null?Gl(X.data):null)),i.$$.dirty[0]&1024&&t(29,u=Ni(H)),i.$$.dirty[0]&637534721&&_e(t(17,f=G!=null&&R.data!=null&&!R.isFetching?Bi(l,n,G,u,R.data.schema):null)),i.$$.dirty[0]&256&&t(7,d=Z!=null&&!Z.isFetching?Z==null?void 0:Z.data:null),i.$$.dirty[0]&128&&t(16,m=d!=null?Hi(d):[]),i.$$.dirty[0]&268435456&&t(15,g=!s),i.$$.dirty[0]&1073741824&&t(14,M=X.data&&Ql(X.data)),i.$$.dirty[0]&1073741824&&j(t(13,L=X.data!=null?Wl(X.data):null)),i.$$.dirty[0]&256&&t(27,A=Z==null?void 0:Z.isStale),i.$$.dirty[0]&134217728&&(A||t(11,we=new Set))},[G,ye,J,te,Y,x,b,d,Z,R,H,we,Ie,L,M,g,m,f,a,o,r,P,K,S,ue,n,l,A,s,u,X,W,be,pe,Ce,Oe,F,fe]}class ca extends Re{constructor(e){super(),ze(this,e,Bs,Ns,Le,{rowId:0,mediaFields:1,highlightedFields:2,index:3,totalNumRows:4,updateSequentialRowId:5,nextRowId:6},null,[-1,-1])}}function Ol(i){let e,t,l;var n=i[2];function s(r){return{}}return n&&(t=ut(n,s())),{c(){e=I("div"),t&&se(t.$$.fragment),this.h()},l(r){e=E(r,"DIV",{class:!0});var o=_(e);t&&he(t.$$.fragment,o),o.forEach(c),this.h()},h(){v(e,"class","mr-2")},m(r,o){C(r,e,o),t&&ae(t,e,null),l=!0},p(r,o){if(o&4&&n!==(n=r[2])){if(t){Ee();const a=t;k(a.$$.fragment,1,0,()=>{oe(a,1)}),Me()}n?(t=ut(n,s()),se(t.$$.fragment),w(t.$$.fragment,1),ae(t,e,null)):t=null}},i(r){l||(t&&w(t.$$.fragment,r),l=!0)},o(r){t&&k(t.$$.fragment,r),l=!1},d(r){r&&c(e),t&&oe(t)}}}function Hs(i){let e,t,l,n,s,r,o,a,u=i[2]!=null&&Ol(i);return{c(){e=I("button"),u&&u.c(),t=ce(),l=I("div"),n=ie(i[1]),this.h()},l(f){e=E(f,"BUTTON",{class:!0});var d=_(e);u&&u.l(d),t=de(d),l=E(d,"DIV",{class:!0});var m=_(l);n=ne(m,i[1]),m.forEach(c),d.forEach(c),this.h()},h(){v(l,"class","text-sm"),v(e,"class","inline-flex items-center rounded-xl px-2 py-1 outline outline-1 outline-gray-500 focus:outline-1 svelte-1tlnk00"),re(e,"active",i[0])},m(f,d){C(f,e,d),u&&u.m(e,null),h(e,t),h(e,l),h(l,n),r=!0,o||(a=[qe(e,"click",i[4]),He(s=je.call(null,e,{text:i[3]}))],o=!0)},p(f,[d]){f[2]!=null?u?(u.p(f,d),d&4&&w(u,1)):(u=Ol(f),u.c(),w(u,1),u.m(e,t)):u&&(Ee(),k(u,1,1,()=>{u=null}),Me()),(!r||d&2)&&Pe(n,f[1]),s&&xe(s.update)&&d&8&&s.update.call(null,{text:f[3]}),(!r||d&1)&&re(e,"active",f[0])},i(f){r||(w(u),r=!0)},o(f){k(u),r=!1},d(f){f&&c(e),u&&u.d(),o=!1,et(a)}}}function Fs(i,e,t){let{active:l=!1}=e,{label:n}=e,{icon:s=void 0}=e,{tooltip:r=void 0}=e;function o(a){Ul.call(this,i,a)}return i.$$set=a=>{"active"in a&&t(0,l=a.active),"label"in a&&t(1,n=a.label),"icon"in a&&t(2,s=a.icon),"tooltip"in a&&t(3,r=a.tooltip)},[l,n,s,r,o]}class Al extends Re{constructor(e){super(),ze(this,e,Fs,Hs,Le,{active:0,label:1,icon:2,tooltip:3})}}function Rl(i,e,t){const l=i.slice();return l[26]=e[t],l}function zl(i,e,t){const l=i.slice();l[29]=e[t],l[32]=t;const n=l[1].find(function(...r){return i[21](l[29],...r)});return l[30]=n,l}function At(i){const e=i.slice(),t=Jl(e[30]);e[33]=t;const l=xl(e[30]);e[34]=l;const n=e[32]===0;e[35]=n;const s=e[32]===e[0].ui.media_paths.length-1;return e[36]=s,e}function js(i){let e,t,l,n,s,r,o,a,u,f,d,m,g,M,L,A,T,y,p,O,D,j,Z,Q,_e,X,ge,V,R,N,B;const H=[Us,Ys],W=[];function G(Y,x){var b;return((b=Y[0].ui)==null?void 0:b.media_paths)!=null&&Y[1]!=null?0:1}u=G(i),f=W[u]=H[u](i),T=new Al({props:{icon:jn,label:"Scroll",active:i[4]=="scroll",tooltip:"Infinite scroll with snippets"}}),T.$on("click",i[22]),p=new Al({props:{icon:zn,label:"Single Item",active:i[4]=="single_item",tooltip:"Individual item"}}),p.$on("click",i[23]);const ye=[Gs,Ws],J=[];function te(Y,x){return Y[6].isFetching?0:1}return R=te(i),N=J[R]=ye[R](i),{c(){e=I("div"),t=I("section"),l=I("div"),n=ie("Media fields"),s=ce(),r=I("div"),o=ie(`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),a=ce(),f.c(),d=ce(),m=I("section"),g=I("div"),M=ie("View type"),L=ce(),A=I("div"),se(T.$$.fragment),y=ce(),se(p.$$.fragment),O=ce(),D=I("section"),j=I("div"),Z=ie("Preferred embedding"),Q=ce(),_e=I("div"),X=ie("This embedding will be used by default when indexing and querying the data."),ge=ce(),V=I("div"),N.c(),this.h()},l(Y){e=E(Y,"DIV",{class:!0});var x=_(e);t=E(x,"SECTION",{class:!0});var b=_(t);l=E(b,"DIV",{class:!0});var P=_(l);n=ne(P,"Media fields"),P.forEach(c),s=de(b),r=E(b,"DIV",{class:!0});var U=_(r);o=ne(U,`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),U.forEach(c),a=de(b),f.l(b),b.forEach(c),d=de(x),m=E(x,"SECTION",{class:!0});var K=_(m);g=E(K,"DIV",{class:!0});var we=_(g);M=ne(we,"View type"),we.forEach(c),L=de(K),A=E(K,"DIV",{class:!0});var Ie=_(A);he(T.$$.fragment,Ie),y=de(Ie),he(p.$$.fragment,Ie),Ie.forEach(c),K.forEach(c),O=de(x),D=E(x,"SECTION",{class:!0});var S=_(D);j=E(S,"DIV",{class:!0});var ue=_(j);Z=ne(ue,"Preferred embedding"),ue.forEach(c),Q=de(S),_e=E(S,"DIV",{class:!0});var be=_(_e);X=ne(be,"This embedding will be used by default when indexing and querying the data."),be.forEach(c),ge=de(S),V=E(S,"DIV",{class:!0});var pe=_(V);N.l(pe),pe.forEach(c),S.forEach(c),x.forEach(c),this.h()},h(){v(l,"class","text-lg text-gray-700"),v(r,"class","text-sm text-gray-500"),v(t,"class","flex flex-col gap-y-4"),v(g,"class","text-lg text-gray-700"),v(A,"class","flex gap-x-2"),v(m,"class","flex flex-col gap-y-1"),v(j,"class","text-lg text-gray-700"),v(_e,"class","text-sm text-gray-500"),v(V,"class","w-60"),v(D,"class","flex flex-col gap-y-1"),v(e,"class","flex flex-col gap-y-6")},m(Y,x){C(Y,e,x),h(e,t),h(t,l),h(l,n),h(t,s),h(t,r),h(r,o),h(t,a),W[u].m(t,null),h(e,d),h(e,m),h(m,g),h(g,M),h(m,L),h(m,A),ae(T,A,null),h(A,y),ae(p,A,null),h(e,O),h(e,D),h(D,j),h(j,Z),h(D,Q),h(D,_e),h(_e,X),h(D,ge),h(D,V),J[R].m(V,null),B=!0},p(Y,x){let b=u;u=G(Y),u===b?W[u].p(Y,x):(Ee(),k(W[b],1,1,()=>{W[b]=null}),Me(),f=W[u],f?f.p(Y,x):(f=W[u]=H[u](Y),f.c()),w(f,1),f.m(t,null));const P={};x[0]&16&&(P.active=Y[4]=="scroll"),T.$set(P);const U={};x[0]&16&&(U.active=Y[4]=="single_item"),p.$set(U);let K=R;R=te(Y),R===K?J[R].p(Y,x):(Ee(),k(J[K],1,1,()=>{J[K]=null}),Me(),N=J[R],N?N.p(Y,x):(N=J[R]=ye[R](Y),N.c()),w(N,1),N.m(V,null))},i(Y){B||(w(f),w(T.$$.fragment,Y),w(p.$$.fragment,Y),w(N),B=!0)},o(Y){k(f),k(T.$$.fragment,Y),k(p.$$.fragment,Y),k(N),B=!1},d(Y){Y&&c(e),W[u].d(),oe(T),oe(p),J[R].d()}}}function qs(i){let e,t;return e=new ct({}),{c(){se(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p:q,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Ys(i){let e,t;return e=new $l({}),{c(){se(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p:q,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Us(i){let e,t,l,n,s,r,o,a,u,f,d,m,g,M,L,A,T,y,p=i[1]&&Ll(i),O=i[3]&&Fl(i);return{c(){e=I("div"),t=I("div"),l=I("div"),n=I("div"),s=ce(),r=I("div"),o=ie("Field"),a=ce(),u=I("div"),f=ie("Markdown"),d=ce(),m=I("div"),g=ce(),p&&p.c(),M=ce(),L=I("div"),O&&O.c(),this.h()},l(D){e=E(D,"DIV",{class:!0});var j=_(e);t=E(j,"DIV",{class:!0});var Z=_(t);l=E(Z,"DIV",{class:!0});var Q=_(l);n=E(Q,"DIV",{class:!0}),_(n).forEach(c),s=de(Q),r=E(Q,"DIV",{class:!0});var _e=_(r);o=ne(_e,"Field"),_e.forEach(c),a=de(Q),u=E(Q,"DIV",{class:!0});var X=_(u);f=ne(X,"Markdown"),X.forEach(c),d=de(Q),m=E(Q,"DIV",{class:!0}),_(m).forEach(c),Q.forEach(c),Z.forEach(c),g=de(j),p&&p.l(j),j.forEach(c),M=de(D),L=E(D,"DIV",{class:!0});var ge=_(L);O&&O.l(ge),ge.forEach(c),this.h()},h(){v(n,"class","table-cell"),v(r,"class","table-cell"),v(u,"class","table-cell"),v(m,"class","table-cell"),v(l,"class","table-row text-xs text-neutral-600"),v(t,"class","table-header-group items-center"),v(e,"class","table border-spacing-1 gap-y-2"),v(L,"class","h-12")},m(D,j){C(D,e,j),h(e,t),h(t,l),h(l,n),h(l,s),h(l,r),h(r,o),h(l,a),h(l,u),h(u,f),h(l,d),h(l,m),h(e,g),p&&p.m(e,null),C(D,M,j),C(D,L,j),O&&O.m(L,null),A=!0,T||(y=He(je.call(null,u,{text:"Render media field with a markdown renderer."})),T=!0)},p(D,j){D[1]?p?(p.p(D,j),j[0]&2&&w(p,1)):(p=Ll(D),p.c(),w(p,1),p.m(e,null)):p&&(Ee(),k(p,1,1,()=>{p=null}),Me()),D[3]?O?(O.p(D,j),j[0]&8&&w(O,1)):(O=Fl(D),O.c(),w(O,1),O.m(L,null)):O&&(Ee(),k(O,1,1,()=>{O=null}),Me())},i(D){A||(w(p),w(O),A=!0)},o(D){k(p),k(O),A=!1},d(D){D&&c(e),p&&p.d(),D&&c(M),D&&c(L),O&&O.d(),T=!1,y()}}}function Ll(i){let e,t,l=i[0].ui.media_paths,n=[];for(let r=0;r<l.length;r+=1)n[r]=Hl(zl(i,l,r));const s=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){e=I("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=E(r,"DIV",{class:!0});var o=_(e);for(let a=0;a<n.length;a+=1)n[a].l(o);o.forEach(c),this.h()},h(){v(e,"class","table-row-group")},m(r,o){C(r,e,o);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);t=!0},p(r,o){if(o[0]&15875){l=r[0].ui.media_paths;let a;for(a=0;a<l.length;a+=1){const u=zl(r,l,a);n[a]?(n[a].p(u,o),w(n[a],1)):(n[a]=Hl(u),n[a].c(),w(n[a],1),n[a].m(e,null))}for(Ee(),a=l.length;a<n.length;a+=1)s(a);Me()}},i(r){if(!t){for(let o=0;o<l.length;o+=1)w(n[o]);t=!0}},o(r){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)k(n[o]);t=!1},d(r){r&&c(e),It(n,r)}}}function Nl(i){let e,t,l,n,s,r=i[30].path.indexOf(at)>=0,o,a,u=nt(i[30].path)+"",f,d,m,g,M,L,A,T,y,p,O,D,j,Z,Q,_e,X,ge,V,R,N,B,H;const W=[Ks,Zs],G=[];function ye(P,U){return P[30].dtype&&P[30].dtype.type!=="map"?0:1}l=ye(i),n=G[l]=W[l](i);let J=r&&Bl();function te(...P){return i[17](i[30],...P)}g=new Yi({props:{class:"mx-auto w-8",size:"sm",hideLabel:!0,labelA:"",labelB:"",toggled:i[12](i[30])}}),g.$on("toggle",te),p=new cn({props:{size:16}});function Y(){return i[18](i[30])}Z=new on({props:{size:16}});function x(){return i[19](i[30])}V=new Ui({props:{size:16}});function b(){return i[20](i[30])}return{c(){e=I("div"),t=I("div"),n.c(),s=ce(),J&&J.c(),o=ce(),a=I("div"),f=ie(u),d=ce(),m=I("div"),se(g.$$.fragment),M=ce(),L=I("div"),A=I("div"),T=I("div"),y=I("button"),se(p.$$.fragment),O=ce(),D=I("div"),j=I("button"),se(Z.$$.fragment),_e=ce(),X=I("div"),ge=I("button"),se(V.$$.fragment),R=ce(),this.h()},l(P){e=E(P,"DIV",{class:!0});var U=_(e);t=E(U,"DIV",{class:!0});var K=_(t);n.l(K),s=de(K),J&&J.l(K),K.forEach(c),o=de(U),a=E(U,"DIV",{class:!0});var we=_(a);f=ne(we,u),we.forEach(c),d=de(U),m=E(U,"DIV",{class:!0});var Ie=_(m);he(g.$$.fragment,Ie),Ie.forEach(c),M=de(U),L=E(U,"DIV",{class:!0});var S=_(L);A=E(S,"DIV",{class:!0});var ue=_(A);T=E(ue,"DIV",{class:!0});var be=_(T);y=E(be,"BUTTON",{});var pe=_(y);he(p.$$.fragment,pe),pe.forEach(c),be.forEach(c),O=de(ue),D=E(ue,"DIV",{class:!0});var Ce=_(D);j=E(Ce,"BUTTON",{});var Oe=_(j);he(Z.$$.fragment,Oe),Oe.forEach(c),Ce.forEach(c),_e=de(ue),X=E(ue,"DIV",{class:!0});var F=_(X);ge=E(F,"BUTTON",{});var fe=_(ge);he(V.$$.fragment,fe),fe.forEach(c),F.forEach(c),ue.forEach(c),S.forEach(c),R=de(U),U.forEach(c),this.h()},h(){v(t,"class","table-cell w-12 rounded-md p-0.5 align-middle"),re(t,"bg-blue-200",i[33]),re(t,"bg-teal-100",i[34]),v(a,"class","table-cell w-40 align-middle"),v(m,"class","table-cell w-8 align-middle"),y.disabled=i[35],re(y,"opacity-50",i[35]),v(T,"class","ml-auto align-middle"),j.disabled=Q=i[36],re(j,"opacity-50",i[36]),v(D,"class","align-middle"),v(X,"class","align-middle"),v(A,"class","flex flex-row gap-x-1"),v(L,"class","table-cell"),v(e,"class","table-row h-10")},m(P,U){C(P,e,U),h(e,t),G[l].m(t,null),h(t,s),J&&J.m(t,null),h(e,o),h(e,a),h(a,f),h(e,d),h(e,m),ae(g,m,null),h(e,M),h(e,L),h(L,A),h(A,T),h(T,y),ae(p,y,null),h(A,O),h(A,D),h(D,j),ae(Z,j,null),h(A,_e),h(A,X),h(X,ge),ae(V,ge,null),h(e,R),N=!0,B||(H=[qe(y,"click",Y),He(je.call(null,T,{text:"Move media field up"})),qe(j,"click",x),He(je.call(null,D,{text:"Move media field down"})),qe(ge,"click",b),He(je.call(null,X,{text:"Remove media field"}))],B=!0)},p(P,U){i=P;let K=l;l=ye(i),l===K?G[l].p(i,U):(Ee(),k(G[K],1,1,()=>{G[K]=null}),Me(),n=G[l],n?n.p(i,U):(n=G[l]=W[l](i),n.c()),w(n,1),n.m(t,s)),U[0]&3&&(r=i[30].path.indexOf(at)>=0),r?J||(J=Bl(),J.c(),J.m(t,null)):J&&(J.d(1),J=null),(!N||U[0]&3)&&re(t,"bg-blue-200",i[33]),(!N||U[0]&3)&&re(t,"bg-teal-100",i[34]),(!N||U[0]&3)&&u!==(u=nt(i[30].path)+"")&&Pe(f,u);const we={};U[0]&3&&(we.toggled=i[12](i[30])),g.$set(we),(!N||U[0]&1&&Q!==(Q=i[36]))&&(j.disabled=Q),(!N||U[0]&1)&&re(j,"opacity-50",i[36])},i(P){N||(w(n),w(g.$$.fragment,P),w(p.$$.fragment,P),w(Z.$$.fragment,P),w(V.$$.fragment,P),N=!0)},o(P){k(n),k(g.$$.fragment,P),k(p.$$.fragment,P),k(Z.$$.fragment,P),k(V.$$.fragment,P),N=!1},d(P){P&&c(e),G[l].d(),J&&J.d(),oe(g),oe(p),oe(Z),oe(V),B=!1,et(H)}}}function Zs(i){let e,t="{}",l,n;return{c(){e=I("span"),l=ie(t),this.h()},l(s){e=E(s,"SPAN",{class:!0,title:!0});var r=_(e);l=ne(r,t),r.forEach(c),this.h()},h(){var s;v(e,"class","font-mono"),v(e,"title",n=(s=i[30].dtype)==null?void 0:s.type)},m(s,r){C(s,e,r),h(e,l)},p(s,r){var o;r[0]&3&&n!==(n=(o=s[30].dtype)==null?void 0:o.type)&&v(e,"title",n)},i:q,o:q,d(s){s&&c(e)}}}function Ks(i){let e,t,l;var n=Ht[i[30].dtype.type];function s(r){return{props:{title:r[30].dtype.type}}}return n&&(e=ut(n,s(i))),{c(){e&&se(e.$$.fragment),t=We()},l(r){e&&he(e.$$.fragment,r),t=We()},m(r,o){e&&ae(e,r,o),C(r,t,o),l=!0},p(r,o){const a={};if(o[0]&3&&(a.title=r[30].dtype.type),o[0]&3&&n!==(n=Ht[r[30].dtype.type])){if(e){Ee();const u=e;k(u.$$.fragment,1,0,()=>{oe(u,1)}),Me()}n?(e=ut(n,s(r)),se(e.$$.fragment),w(e.$$.fragment,1),ae(e,t.parentNode,t)):e=null}else n&&e.$set(a)},i(r){l||(e&&w(e.$$.fragment,r),l=!0)},o(r){e&&k(e.$$.fragment,r),l=!1},d(r){r&&c(t),e&&oe(e,r)}}}function Bl(i){let e;return{c(){e=ie("[]")},l(t){e=ne(t,"[]")},m(t,l){C(t,e,l)},d(t){t&&c(e)}}}function Hl(i){let e,t,l=i[30]&&Nl(At(i));return{c(){l&&l.c(),e=We()},l(n){l&&l.l(n),e=We()},m(n,s){l&&l.m(n,s),C(n,e,s),t=!0},p(n,s){n[30]?l?(l.p(At(n),s),s[0]&3&&w(l,1)):(l=Nl(At(n)),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(Ee(),k(l,1,1,()=>{l=null}),Me())},i(n){t||(w(l),t=!0)},o(n){k(l),t=!1},d(n){l&&l.d(n),n&&c(e)}}}function Fl(i){let e,t;return e=new zt({props:{buttonOutline:!0,disabled:i[3].length===0,buttonIcon:rn,items:i[3],buttonText:"Add media field",comboBoxPlaceholder:"Add media field",hoist:!1}}),e.$on("select",i[8]),{c(){se(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p(l,n){const s={};n[0]&8&&(s.disabled=l[3].length===0),n[0]&8&&(s.items=l[3]),e.$set(s)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Ws(i){var l;let e,t;return e=new qi({props:{selected:((l=i[0])==null?void 0:l.preferred_embedding)||void 0,$$slots:{default:[Qs]},$$scope:{ctx:i}}}),e.$on("change",i[14]),{c(){se(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){ae(e,n,s),t=!0},p(n,s){var o;const r={};s[0]&1&&(r.selected=((o=n[0])==null?void 0:o.preferred_embedding)||void 0),s[0]&64|s[1]&64&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){oe(e,n)}}}function Gs(i){let e,t;return e=new $l({}),{c(){se(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p:q,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function jl(i){let e,t;return e=new ei({props:{value:i[26].name}}),{c(){se(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p(l,n){const s={};n[0]&64&&(s.value=l[26].name),e.$set(s)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Qs(i){let e,t,l,n;e=new ei({props:{value:void 0,text:"None"}});let s=i[6].data||[],r=[];for(let a=0;a<s.length;a+=1)r[a]=jl(Rl(i,s,a));const o=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){se(e.$$.fragment),t=ce();for(let a=0;a<r.length;a+=1)r[a].c();l=We()},l(a){he(e.$$.fragment,a),t=de(a);for(let u=0;u<r.length;u+=1)r[u].l(a);l=We()},m(a,u){ae(e,a,u),C(a,t,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(a,u);C(a,l,u),n=!0},p(a,u){if(u[0]&64){s=a[6].data||[];let f;for(f=0;f<s.length;f+=1){const d=Rl(a,s,f);r[f]?(r[f].p(d,u),w(r[f],1)):(r[f]=jl(d),r[f].c(),w(r[f],1),r[f].m(l.parentNode,l))}for(Ee(),f=s.length;f<r.length;f+=1)o(f);Me()}},i(a){if(!n){w(e.$$.fragment,a);for(let u=0;u<s.length;u+=1)w(r[u]);n=!0}},o(a){k(e.$$.fragment,a),r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)k(r[u]);n=!1},d(a){oe(e,a),a&&c(t),It(r,a),a&&c(l)}}}function Xs(i){let e,t,l,n;const s=[qs,js],r=[];function o(a,u){return a[0]==null||a[2].data==null?0:1}return e=o(i),t=r[e]=s[e](i),{c(){t.c(),l=We()},l(a){t.l(a),l=We()},m(a,u){r[e].m(a,u),C(a,l,u),n=!0},p(a,u){let f=e;e=o(a),e===f?r[e].p(a,u):(Ee(),k(r[f],1,1,()=>{r[f]=null}),Me(),t=r[e],t?t.p(a,u):(t=r[e]=s[e](a),t.c()),w(t,1),t.m(l.parentNode,l))},i(a){n||(w(t),n=!0)},o(a){k(t),n=!1},d(a){r[e].d(a),a&&c(l)}}}function Js(i,e,t){let l,n,s,r,o,a=q,u=()=>(a(),a=Xe(l,B=>t(2,o=B)),l),f;i.$$.on_destroy.push(()=>a());let{namespace:d}=e,{datasetName:m}=e,{newSettings:g}=e;const M=Fi();Je(i,M,B=>t(6,f=B));function L(B){const H=B.detail.id;g.ui==null&&t(0,g.ui={},g),g.ui.media_paths==null&&t(0,g.ui.media_paths=[],g),g.ui.media_paths.find(G=>Qe(G,H.path))==null&&t(0,g.ui.media_paths=[...g.ui.media_paths,H.path],g)}function A(B){var H;((H=g.ui)==null?void 0:H.media_paths)!=null&&t(0,g.ui.media_paths=g.ui.media_paths.filter(W=>!Qe(W,B.path)),g)}function T(B){var W;if(((W=g.ui)==null?void 0:W.media_paths)==null)return;const H=g.ui.media_paths.findIndex(G=>Qe(G,B.path));H<=0||t(0,g.ui.media_paths=[...g.ui.media_paths.slice(0,H-1),B.path,g.ui.media_paths[H-1],...g.ui.media_paths.slice(H+1)],g)}function y(B){var W;if(((W=g.ui)==null?void 0:W.media_paths)==null)return;const H=g.ui.media_paths.findIndex(G=>Qe(G,B.path));H<0||H>=g.ui.media_paths.length-1||t(0,g.ui.media_paths=[...g.ui.media_paths.slice(0,H),g.ui.media_paths[H+1],B.path,...g.ui.media_paths.slice(H+2)],g)}function p(B){var H,W;return((W=(H=g.ui)==null?void 0:H.markdown_paths)==null?void 0:W.find(G=>Qe(G,B.path)))!=null}function O(B,H){B.detail.toggled?D(H):j(H)}function D(B){g.ui==null&&t(0,g.ui={},g),g.ui.markdown_paths==null&&t(0,g.ui.markdown_paths=[],g),g.ui.markdown_paths.find(W=>Qe(W,B.path))==null&&t(0,g.ui.markdown_paths=[...g.ui.markdown_paths,B.path],g)}function j(B){g.ui!=null&&g.ui.markdown_paths!=null&&t(0,g.ui.markdown_paths=g.ui.markdown_paths.filter(H=>!Qe(H,B.path)),g)}function Z(B){const H=B.target.value;t(0,g.preferred_embedding=H===""?void 0:H,g)}const Q=(B,H)=>O(H,B),_e=B=>T(B),X=B=>y(B),ge=B=>A(B),V=(B,H)=>Qe(H.path,B),R=()=>{(g==null?void 0:g.ui)!=null&&t(0,g.ui.view_type="scroll",g)},N=()=>{(g==null?void 0:g.ui)!=null&&t(0,g.ui.view_type="single_item",g)};return i.$$set=B=>{"namespace"in B&&t(15,d=B.namespace),"datasetName"in B&&t(16,m=B.datasetName),"newSettings"in B&&t(0,g=B.newSettings)},i.$$.update=()=>{var B;i.$$.dirty[0]&98304&&u(t(5,l=Et(d,m))),i.$$.dirty[0]&1&&t(4,n=((B=g==null?void 0:g.ui)==null?void 0:B.view_type)||"single_item"),i.$$.dirty[0]&4&&t(1,s=o.data!=null?Xl(o.data).filter(H=>{var W;return((W=H.dtype)==null?void 0:W.type)==="string"&&!Qe(H.path,[ji])&&!Jl(H)&&!xl(H)}):null),i.$$.dirty[0]&3&&t(3,r=s!=null?s.filter(H=>{var W,G;return!((G=(W=g.ui)==null?void 0:W.media_paths)!=null&&G.includes(H.path))}).map(H=>{const W=nt(H.path);return{id:H,text:W}}):null)},[g,s,o,r,n,l,f,M,L,A,T,y,p,O,Z,d,m,Q,_e,X,ge,V,R,N]}class da extends Re{constructor(e){super(),ze(this,e,Js,Xs,Le,{namespace:15,datasetName:16,newSettings:0},null,[-1,-1])}}export{rn as A,bn as C,Qn as D,hr as E,ca as R,li as T,pn as a,Ds as b,da as c};
