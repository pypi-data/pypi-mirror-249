import{S as Ae,i as Re,s as ze,D as ge,Z as x,_ as $,m as _,h as c,n as v,$ as De,b as D,a0 as m,K as Ge,a1 as U,M as Ce,Q as Se,q as te,r as le,u as Ve,k as y,y as re,a as oe,l as I,z as de,c as ue,F as G,A as se,G as Ze,a7 as Ye,a8 as et,g as w,d as p,B as ae,L as it,O as We,N as Et,x as ct,v as Ie,f as Ee,ag as mi,w as st,U as bt,V as vt,e as Je,C as _i,H as gi,I as bi,J as vi,ab as Xe,o as Ul,T as Kl,a9 as wi,a2 as Mt,R as Zl,a3 as Ql,ah as pi,X as ki,Y as yi,a4 as Bt}from"./index.6d58eddb.js";import{h as Ke,a as Vt,P as dt,b4 as Ii,aY as Ei,a2 as Tt,b5 as Wl,b6 as Gl,ar as Xl,X as ot,ag as lt,b7 as ft,b2 as Mi,a7 as $e,b8 as Vi,at as Ti,a1 as at,d as ht,l as Pi,aa as Oi,av as ut,b9 as Ht,ad as Jl,ba as Di,a9 as xl,ap as Ci,aO as Si,bb as Ai,V as yt,bc as Ri,a5 as zi,a6 as Li,ac as Ni,aN as Bi,bd as Hi,x as Ft,am as Fi,a8 as ji,ay as $l,aD as ei,be as ti,S as qi,b as li,T as Yi,bf as Ui,aF as jt}from"./Commands.c7ab7f56.js";import{g as ii,s as qt}from"./notificationsStore.a58b8b24.js";import{M as Lt}from"./ToastNotification.a3a58827.js";import{T as Ki}from"./TrashCan.fe3fb1f6.js";import{g as Zi}from"./settingsStore.3abd8af5.js";import{C as Qi,a as Wi}from"./ChevronUp.d4050376.js";import{S as Gi}from"./Search.5f4df38b.js";import{_ as Xi}from"./preload-helper.41c905a7.js";import{d as Ji}from"./index.fcc110a5.js";import{c as xi,g as $i}from"./spanHighlight.30dda832.js";import{I as en}from"./ItemMetadata.71faa964.js";import{C as tn}from"./ComboBox.e0c3c943.js";function Yt(i){let e,t;return{c(){e=x("title"),t=te(i[1])},l(l){e=$(l,"title",{});var n=_(e);t=le(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),m(e,t)},p(l,n){n&2&&Ve(t,l[1])},d(l){l&&c(e)}}}function ln(i){let e,t,l=i[1]&&Yt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ge(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=$(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),m(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Yt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function nn(i,e,t){let l,n;const a=["size","title"];let r=Ce(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ge(ge({},e),Se(u))),t(3,r=Ce(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,s,n,r,l]}class rn extends Ae{constructor(e){super(),Re(this,e,nn,ln,ze,{size:0,title:1})}}function Ut(i){let e,t;return{c(){e=x("title"),t=te(i[1])},l(l){e=$(l,"title",{});var n=_(e);t=le(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),m(e,t)},p(l,n){n&2&&Ve(t,l[1])},d(l){l&&c(e)}}}function sn(i){let e,t,l=i[1]&&Ut(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ge(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=$(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M24.59 16.59L17 24.17 17 4 15 4 15 24.17 7.41 16.59 6 18 16 28 26 18 24.59 16.59z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),m(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Ut(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function an(i,e,t){let l,n;const a=["size","title"];let r=Ce(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ge(ge({},e),Se(u))),t(3,r=Ce(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,s,n,r,l]}class on extends Ae{constructor(e){super(),Re(this,e,an,sn,ze,{size:0,title:1})}}function Kt(i){let e,t;return{c(){e=x("title"),t=te(i[1])},l(l){e=$(l,"title",{});var n=_(e);t=le(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),m(e,t)},p(l,n){n&2&&Ve(t,l[1])},d(l){l&&c(e)}}}function un(i){let e,t,l=i[1]&&Kt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ge(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=$(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M16 4L6 14 7.41 15.41 15 7.83 15 28 17 28 17 7.83 24.59 15.41 26 14 16 4z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),m(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Kt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function fn(i,e,t){let l,n;const a=["size","title"];let r=Ce(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ge(ge({},e),Se(u))),t(3,r=Ce(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,s,n,r,l]}class cn extends Ae{constructor(e){super(),Re(this,e,fn,un,ze,{size:0,title:1})}}function Zt(i){let e,t;return{c(){e=x("title"),t=te(i[1])},l(l){e=$(l,"title",{});var n=_(e);t=le(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),m(e,t)},p(l,n){n&2&&Ve(t,l[1])},d(l){l&&c(e)}}}function dn(i){let e,t,l,n=i[1]&&Zt(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<a.length;o+=1)r=ge(r,a[o]);return{c(){e=x("svg"),n&&n.c(),t=x("path"),l=x("path"),this.h()},l(o){e=$(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=_(e);n&&n.l(s),t=$(s,"path",{d:!0}),_(t).forEach(c),l=$(s,"path",{d:!0}),_(l).forEach(c),s.forEach(c),this.h()},h(){v(t,"d","M20 20L21.4 21.4 18.8 24 28 24 28 26 18.8 26 21.4 28.6 20 30 15 25zM14 15H22V17H14zM14 8H22V10H14z"),v(l,"d","M13,28H8v-4h2v-2H8v-5h2v-2H8v-5h2V8H8V4h18v16h2V4c0-1.1-0.9-2-2-2H8C6.9,2,6,2.9,6,4v4H4v2h2v5H4v2h2v5H4v2h2v4	c0,1.1,0.9,2,2,2h5V28z"),De(e,r)},m(o,s){D(o,e,s),n&&n.m(e,null),m(e,t),m(e,l)},p(o,[s]){o[1]?n?n.p(o,s):(n=Zt(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),De(e,r=Ge(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&4&&o[2],s&8&&o[3]]))},i:U,o:U,d(o){o&&c(e),n&&n.d()}}}function hn(i,e,t){let l,n;const a=["size","title"];let r=Ce(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ge(ge({},e),Se(u))),t(3,r=Ce(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,s,n,r,l]}class mn extends Ae{constructor(e){super(),Re(this,e,hn,dn,ze,{size:0,title:1})}}function Qt(i){let e,t;return{c(){e=x("title"),t=te(i[1])},l(l){e=$(l,"title",{});var n=_(e);t=le(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),m(e,t)},p(l,n){n&2&&Ve(t,l[1])},d(l){l&&c(e)}}}function _n(i){let e,t,l=i[1]&&Qt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ge(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=$(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M10 16L20 6 21.4 7.4 12.8 16 21.4 24.6 20 26z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),m(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Qt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function gn(i,e,t){let l,n;const a=["size","title"];let r=Ce(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ge(ge({},e),Se(u))),t(3,r=Ce(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,s,n,r,l]}class bn extends Ae{constructor(e){super(),Re(this,e,gn,_n,ze,{size:0,title:1})}}function Wt(i){let e,t;return{c(){e=x("title"),t=te(i[1])},l(l){e=$(l,"title",{});var n=_(e);t=le(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),m(e,t)},p(l,n){n&2&&Ve(t,l[1])},d(l){l&&c(e)}}}function vn(i){let e,t,l=i[1]&&Wt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ge(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=$(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),m(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Wt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function wn(i,e,t){let l,n;const a=["size","title"];let r=Ce(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ge(ge({},e),Se(u))),t(3,r=Ce(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,s,n,r,l]}class pn extends Ae{constructor(e){super(),Re(this,e,wn,vn,ze,{size:0,title:1})}}function Gt(i){let e,t;return{c(){e=x("title"),t=te(i[1])},l(l){e=$(l,"title",{});var n=_(e);t=le(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),m(e,t)},p(l,n){n&2&&Ve(t,l[1])},d(l){l&&c(e)}}}function kn(i){let e,t,l,n,a,r,o=i[1]&&Gt(i),s=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],u={};for(let f=0;f<s.length;f+=1)u=ge(u,s[f]);return{c(){e=x("svg"),o&&o.c(),t=x("circle"),l=x("circle"),n=x("circle"),a=x("path"),r=x("path"),this.h()},l(f){e=$(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var d=_(e);o&&o.l(d),t=$(d,"circle",{cx:!0,cy:!0,r:!0}),_(t).forEach(c),l=$(d,"circle",{cx:!0,cy:!0,r:!0}),_(l).forEach(c),n=$(d,"circle",{cx:!0,cy:!0,r:!0}),_(n).forEach(c),a=$(d,"path",{d:!0}),_(a).forEach(c),r=$(d,"path",{d:!0}),_(r).forEach(c),d.forEach(c),this.h()},h(){v(t,"cx","7"),v(t,"cy","7"),v(t,"r","1"),v(l,"cx","7"),v(l,"cy","15"),v(l,"r","1"),v(n,"cx","7"),v(n,"cy","23"),v(n,"r","1"),v(a,"d","M12,26H4V20h8V18H4V12H22V4a2,2,0,0,0-2-2H4A2,2,0,0,0,2,4V26a2,2,0,0,0,2,2h8ZM4,4H20v6H4Z"),v(r,"d","M28,17v2.4131A6.996,6.996,0,1,0,22,30V28a5,5,0,1,1,4.5762-7H24v2h6V17Z"),De(e,u)},m(f,d){D(f,e,d),o&&o.m(e,null),m(e,t),m(e,l),m(e,n),m(e,a),m(e,r)},p(f,[d]){f[1]?o?o.p(f,d):(o=Gt(f),o.c(),o.m(e,t)):o&&(o.d(1),o=null),De(e,u=Ge(s,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},d&1&&{width:f[0]},d&1&&{height:f[0]},d&4&&f[2],d&8&&f[3]]))},i:U,o:U,d(f){f&&c(e),o&&o.d()}}}function yn(i,e,t){let l,n;const a=["size","title"];let r=Ce(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ge(ge({},e),Se(u))),t(3,r=Ce(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,s,n,r,l]}class In extends Ae{constructor(e){super(),Re(this,e,yn,kn,ze,{size:0,title:1})}}function Xt(i){let e,t;return{c(){e=x("title"),t=te(i[1])},l(l){e=$(l,"title",{});var n=_(e);t=le(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),m(e,t)},p(l,n){n&2&&Ve(t,l[1])},d(l){l&&c(e)}}}function En(i){let e,t,l,n,a,r,o,s=i[1]&&Xt(i),u=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],f={};for(let d=0;d<u.length;d+=1)f=ge(f,u[d]);return{c(){e=x("svg"),s&&s.c(),t=x("circle"),l=x("path"),n=x("circle"),a=x("circle"),r=x("circle"),o=x("path"),this.h()},l(d){e=$(d,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var h=_(e);s&&s.l(h),t=$(h,"circle",{cx:!0,cy:!0,r:!0}),_(t).forEach(c),l=$(h,"path",{d:!0}),_(l).forEach(c),n=$(h,"circle",{cx:!0,cy:!0,r:!0}),_(n).forEach(c),a=$(h,"circle",{cx:!0,cy:!0,r:!0}),_(a).forEach(c),r=$(h,"circle",{cx:!0,cy:!0,r:!0}),_(r).forEach(c),o=$(h,"path",{d:!0}),_(o).forEach(c),h.forEach(c),this.h()},h(){v(t,"cx","22"),v(t,"cy","24"),v(t,"r","2"),v(l,"d","M29.7769,23.4785A8.64,8.64,0,0,0,22,18a8.64,8.64,0,0,0-7.7769,5.4785L14,24l.2231.5215A8.64,8.64,0,0,0,22,30a8.64,8.64,0,0,0,7.7769-5.4785L30,24ZM22,28a4,4,0,1,1,4-4A4.0045,4.0045,0,0,1,22,28Z"),v(n,"cx","8"),v(n,"cy","8"),v(n,"r","1"),v(a,"cx","8"),v(a,"cy","16"),v(a,"r","1"),v(r,"cx","8"),v(r,"cy","24"),v(r,"r","1"),v(o,"d","M5,21h7V19H5V13H21v3h2V5a2,2,0,0,0-2-2H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2h7V27H5ZM5,5H21v6H5Z"),De(e,f)},m(d,h){D(d,e,h),s&&s.m(e,null),m(e,t),m(e,l),m(e,n),m(e,a),m(e,r),m(e,o)},p(d,[h]){d[1]?s?s.p(d,h):(s=Xt(d),s.c(),s.m(e,t)):s&&(s.d(1),s=null),De(e,f=Ge(u,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},h&1&&{width:d[0]},h&1&&{height:d[0]},h&4&&d[2],h&8&&d[3]]))},i:U,o:U,d(d){d&&c(e),s&&s.d()}}}function Mn(i,e,t){let l,n;const a=["size","title"];let r=Ce(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ge(ge({},e),Se(u))),t(3,r=Ce(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,s,n,r,l]}class Vn extends Ae{constructor(e){super(),Re(this,e,Mn,En,ze,{size:0,title:1})}}function Jt(i){let e,t;return{c(){e=x("title"),t=te(i[1])},l(l){e=$(l,"title",{});var n=_(e);t=le(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),m(e,t)},p(l,n){n&2&&Ve(t,l[1])},d(l){l&&c(e)}}}function Tn(i){let e,t,l,n,a=i[1]&&Jt(i),r=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let s=0;s<r.length;s+=1)o=ge(o,r[s]);return{c(){e=x("svg"),a&&a.c(),t=x("circle"),l=x("path"),n=x("path"),this.h()},l(s){e=$(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var u=_(e);a&&a.l(u),t=$(u,"circle",{cx:!0,cy:!0,r:!0}),_(t).forEach(c),l=$(u,"path",{d:!0}),_(l).forEach(c),n=$(u,"path",{d:!0}),_(n).forEach(c),u.forEach(c),this.h()},h(){v(t,"cx","22"),v(t,"cy","24"),v(t,"r","2"),v(l,"d","M29.7769 23.4785A8.64 8.64 0 0022 18a8.64 8.64 0 00-7.7769 5.4785L14 24l.2231.5215A8.64 8.64 0 0022 30a8.64 8.64 0 007.7769-5.4785L30 24zM22 28a4 4 0 114-4A4.0045 4.0045 0 0122 28zM7 17H12V19H7zM7 12H19V14H7zM7 7H19V9H7z"),v(n,"d","M22,2,4,2A2.0058,2.0058,0,0,0,2,4V28a2.0058,2.0058,0,0,0,2,2h8V28H4V4H22V15h2V4A2.0058,2.0058,0,0,0,22,2Z"),De(e,o)},m(s,u){D(s,e,u),a&&a.m(e,null),m(e,t),m(e,l),m(e,n)},p(s,[u]){s[1]?a?a.p(s,u):(a=Jt(s),a.c(),a.m(e,t)):a&&(a.d(1),a=null),De(e,o=Ge(r,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},u&1&&{width:s[0]},u&1&&{height:s[0]},u&4&&s[2],u&8&&s[3]]))},i:U,o:U,d(s){s&&c(e),a&&a.d()}}}function Pn(i,e,t){let l,n;const a=["size","title"];let r=Ce(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ge(ge({},e),Se(u))),t(3,r=Ce(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,s,n,r,l]}class On extends Ae{constructor(e){super(),Re(this,e,Pn,Tn,ze,{size:0,title:1})}}function xt(i){let e,t;return{c(){e=x("title"),t=te(i[1])},l(l){e=$(l,"title",{});var n=_(e);t=le(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),m(e,t)},p(l,n){n&2&&Ve(t,l[1])},d(l){l&&c(e)}}}function Dn(i){let e,t,l=i[1]&&xt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ge(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=$(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M6 13L6 7.414 15 16.414 15 28 17 28 17 16.414 26 7.414 26 13 28 13 28 4 19 4 19 6 24.586 6 16 14.586 7.414 6 13 6 13 4 4 4 4 13 6 13z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),m(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=xt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function Cn(i,e,t){let l,n;const a=["size","title"];let r=Ce(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ge(ge({},e),Se(u))),t(3,r=Ce(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,s,n,r,l]}class Sn extends Ae{constructor(e){super(),Re(this,e,Cn,Dn,ze,{size:0,title:1})}}function $t(i){let e,t;return{c(){e=x("title"),t=te(i[1])},l(l){e=$(l,"title",{});var n=_(e);t=le(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),m(e,t)},p(l,n){n&2&&Ve(t,l[1])},d(l){l&&c(e)}}}function An(i){let e,t,l,n=i[1]&&$t(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<a.length;o+=1)r=ge(r,a[o]);return{c(){e=x("svg"),n&&n.c(),t=x("path"),l=x("path"),this.h()},l(o){e=$(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=_(e);n&&n.l(s),t=$(s,"path",{d:!0}),_(t).forEach(c),l=$(s,"path",{d:!0}),_(l).forEach(c),s.forEach(c),this.h()},h(){v(t,"d","M25.7,9.3l-7-7C18.5,2.1,18.3,2,18,2H8C6.9,2,6,2.9,6,4v24c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V10C26,9.7,25.9,9.5,25.7,9.3	z M18,4.4l5.6,5.6H18V4.4z M24,28H8V4h8v6c0,1.1,0.9,2,2,2h6V28z"),v(l,"d","M10 22H22V24H10zM10 16H22V18H10z"),De(e,r)},m(o,s){D(o,e,s),n&&n.m(e,null),m(e,t),m(e,l)},p(o,[s]){o[1]?n?n.p(o,s):(n=$t(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),De(e,r=Ge(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&4&&o[2],s&8&&o[3]]))},i:U,o:U,d(o){o&&c(e),n&&n.d()}}}function Rn(i,e,t){let l,n;const a=["size","title"];let r=Ce(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ge(ge({},e),Se(u))),t(3,r=Ce(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,s,n,r,l]}class zn extends Ae{constructor(e){super(),Re(this,e,Rn,An,ze,{size:0,title:1})}}function el(i){let e,t;return{c(){e=x("title"),t=te(i[1])},l(l){e=$(l,"title",{});var n=_(e);t=le(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),m(e,t)},p(l,n){n&2&&Ve(t,l[1])},d(l){l&&c(e)}}}function Ln(i){let e,t,l=i[1]&&el(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ge(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=$(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M30 16L22 24 20.6 22.6 27.2 16 20.6 9.4 22 8zM12 15H20V17H12zM2 16L10 8 11.4 9.4 4.8 16 11.4 22.6 10 24z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),m(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=el(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function Nn(i,e,t){let l,n;const a=["size","title"];let r=Ce(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ge(ge({},e),Se(u))),t(3,r=Ce(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,s,n,r,l]}class Bn extends Ae{constructor(e){super(),Re(this,e,Nn,Ln,ze,{size:0,title:1})}}function tl(i){let e,t;return{c(){e=x("title"),t=te(i[1])},l(l){e=$(l,"title",{});var n=_(e);t=le(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),m(e,t)},p(l,n){n&2&&Ve(t,l[1])},d(l){l&&c(e)}}}function Hn(i){let e,t,l=i[1]&&tl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ge(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=$(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M29,5a2,2,0,0,0-2-2H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2H27a2,2,0,0,0,2-2ZM27,5V9H5V5Zm0,22H5V23H27Zm0-6H5V17H27Zm0-6H5V11H27Z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),m(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=tl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function Fn(i,e,t){let l,n;const a=["size","title"];let r=Ce(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ge(ge({},e),Se(u))),t(3,r=Ce(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,s,n,r,l]}class jn extends Ae{constructor(e){super(),Re(this,e,Fn,Hn,ze,{size:0,title:1})}}function ll(i){let e,t;return{c(){e=x("title"),t=te(i[1])},l(l){e=$(l,"title",{});var n=_(e);t=le(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),m(e,t)},p(l,n){n&2&&Ve(t,l[1])},d(l){l&&c(e)}}}function qn(i){let e,t,l,n=i[1]&&ll(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<a.length;o+=1)r=ge(r,a[o]);return{c(){e=x("svg"),n&&n.c(),t=x("path"),l=x("path"),this.h()},l(o){e=$(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=_(e);n&&n.l(s),t=$(s,"path",{d:!0}),_(t).forEach(c),l=$(s,"path",{d:!0}),_(l).forEach(c),s.forEach(c),this.h()},h(){v(t,"d","M10,14a4,4,0,1,1,4-4A4.0045,4.0045,0,0,1,10,14Zm0-6a2,2,0,1,0,1.998,2.0044A2.002,2.002,0,0,0,10,8Z"),v(l,"d","M16.6436,29.4145,2.5858,15.3555A2,2,0,0,1,2,13.9414V4A2,2,0,0,1,4,2h9.9413a2,2,0,0,1,1.4142.5858L29.4144,16.6436a2.0005,2.0005,0,0,1,0,2.8285l-9.9424,9.9425a2.0008,2.0008,0,0,1-2.8285,0ZM4,4v9.9417L18.0578,28,28,18.0579,13.9416,4Z"),De(e,r)},m(o,s){D(o,e,s),n&&n.m(e,null),m(e,t),m(e,l)},p(o,[s]){o[1]?n?n.p(o,s):(n=ll(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),De(e,r=Ge(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&4&&o[2],s&8&&o[3]]))},i:U,o:U,d(o){o&&c(e),n&&n.d()}}}function Yn(i,e,t){let l,n;const a=["size","title"];let r=Ce(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ge(ge({},e),Se(u))),t(3,r=Ce(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,s,n,r,l]}class ni extends Ae{constructor(e){super(),Re(this,e,Yn,qn,ze,{size:0,title:1})}}function il(i){let e,t;return{c(){e=x("title"),t=te(i[1])},l(l){e=$(l,"title",{});var n=_(e);t=le(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),m(e,t)},p(l,n){n&2&&Ve(t,l[1])},d(l){l&&c(e)}}}function Un(i){let e,t,l=i[1]&&il(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ge(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=_(e);l&&l.l(o),t=$(o,"path",{d:!0}),_(t).forEach(c),o.forEach(c),this.h()},h(){v(t,"d","M20,10H7.8149l3.5874-3.5859L10,5,4,11,10,17l1.4023-1.4146L7.8179,12H20a6,6,0,0,1,0,12H12v2h8a8,8,0,0,0,0-16Z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),m(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=il(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function Kn(i,e,t){let l,n;const a=["size","title"];let r=Ce(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ge(ge({},e),Se(u))),t(3,r=Ce(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[o,s,n,r,l]}class ri extends Ae{constructor(e){super(),Re(this,e,Kn,Un,ze,{size:0,title:1})}}function Zn(i){var o;let e,t,l,n=((o=i[0])==null?void 0:o.toLocaleString())+"",a,r;return{c(){e=y("p"),t=te("Delete "),l=y("span"),a=te(n),r=te(`
    rows?`),this.h()},l(s){e=I(s,"P",{});var u=_(e);t=le(u,"Delete "),l=I(u,"SPAN",{class:!0});var f=_(l);a=le(f,n),f.forEach(c),r=le(u,`
    rows?`),u.forEach(c),this.h()},h(){v(l,"class","font-mono font-bold")},m(s,u){D(s,e,u),m(e,t),m(e,l),m(l,a),m(e,r)},p(s,u){var f;u&1&&n!==(n=((f=s[0])==null?void 0:f.toLocaleString())+"")&&Ve(a,n)},d(s){s&&c(e)}}}function Qn(i){let e,t,l,n,a,r,o,s,u;return l=new Ki({}),r=new Lt({props:{size:"xs",open:i[1]&&!i[4],modalHeading:"Delete rows",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[Zn]},$$scope:{ctx:i}}}),r.$on("submit",i[13]),r.$on("click:button--secondary",i[14]),r.$on("close",i[15]),{c(){e=y("div"),t=y("button"),re(l.$$.fragment),a=oe(),re(r.$$.fragment),this.h()},l(f){e=I(f,"DIV",{});var d=_(e);t=I(d,"BUTTON",{class:!0});var h=_(t);de(l.$$.fragment,h),h.forEach(c),d.forEach(c),a=ue(f),de(r.$$.fragment,f),this.h()},h(){t.disabled=i[4],v(t,"class","h-8 rounded border border-gray-300 bg-white hover:border-red-500 hover:bg-transparent"),G(t,"opacity-30",i[4])},m(f,d){D(f,e,d),m(e,t),se(l,t,null),D(f,a,d),se(r,f,d),o=!0,s||(u=[Ze(t,"click",i[12]),Ye(n=Ke.call(null,e,{text:i[3]?i[2]!=null&&i[2].length===1?"Delete row":"Delete rows":"User does not have access to delete rows."}))],s=!0)},p(f,[d]){(!o||d&16)&&(t.disabled=f[4]),(!o||d&16)&&G(t,"opacity-30",f[4]),n&&et(n.update)&&d&12&&n.update.call(null,{text:f[3]?f[2]!=null&&f[2].length===1?"Delete row":"Delete rows":"User does not have access to delete rows."});const h={};d&18&&(h.open=f[1]&&!f[4]),d&524289&&(h.$$scope={dirty:d,ctx:f}),r.$set(h)},i(f){o||(w(l.$$.fragment,f),w(r.$$.fragment,f),o=!0)},o(f){p(l.$$.fragment,f),p(r.$$.fragment,f),o=!1},d(f){f&&c(e),ae(l),f&&c(a),ae(r,f),s=!1,it(u)}}}function Wn(i,e,t){let l,n,a,r,o,{rowIds:s=void 0}=e,{searches:u=void 0}=e,{filters:f=void 0}=e,{numRows:d=void 0}=e,{modalOpen:h=!1}=e;const g=Vt();We(i,g,z=>t(11,o=z));const O=Et(),N=dt();We(i,N,z=>t(16,a=z));const R=Ii();We(i,R,z=>t(17,r=z));function C(){r.mutate([a.namespace,a.datasetName,{row_ids:s,searches:u,filters:f}],{onSuccess:()=>{O("deleted"),t(1,h=!1),close()}})}const V=()=>{n||t(1,h=!0)},k=()=>C(),S=()=>{t(1,h=!1)},E=()=>t(1,h=!1);return i.$$set=z=>{"rowIds"in z&&t(2,s=z.rowIds),"searches"in z&&t(9,u=z.searches),"filters"in z&&t(10,f=z.filters),"numRows"in z&&t(0,d=z.numRows),"modalOpen"in z&&t(1,h=z.modalOpen)},i.$$.update=()=>{var z;i.$$.dirty&2048&&t(3,l=(z=o.data)==null?void 0:z.access.dataset.delete_rows),i.$$.dirty&5&&d==null&&s!=null&&t(0,d=s.length),i.$$.dirty&1548&&t(4,n=!l||s==null&&u==null&&f==null)},[d,h,s,l,n,g,N,R,C,u,f,o,V,k,S,E]}class Gn extends Ae{constructor(e){super(),Re(this,e,Wn,Qn,ze,{rowIds:2,searches:9,filters:10,numRows:0,modalOpen:1})}}function Xn(i,{disable:e}){if(e=e??!1,!e){const t=i.getBoundingClientRect();document.body.append(i),i.style.position="absolute",i.style.top=`${t.top}px`,i.style.left=`${t.left}px`}}function nl(i){const e=i[1].find(function(...l){return i[19](i[25],...l)});i[26]=e}const Jn=i=>({item:i&33554434,inputText:i&1}),rl=i=>({item:i[26],inputText:i[0]});function sl(i){let e,t;return e=new Ei({}),{c(){re(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function al(i){let e,t,l,n,a,r,o,s;function u(d){i[21](d)}let f={size:"sm",open:i[14],items:i[1],shouldFilterItem:i[6]?i[6]:void 0,placeholder:i[5],$$slots:{default:[er,({item:d})=>({25:d}),({item:d})=>d?33554432:0]},$$scope:{ctx:i}};return i[0]!==void 0&&(f.value=i[0]),t=new tn({props:f}),i[20](t),st.push(()=>bt(t,"value",u)),t.$on("select",i[16]),{c(){e=y("div"),re(t.$$.fragment),this.h()},l(d){e=I(d,"DIV",{class:!0});var h=_(e);de(t.$$.fragment,h),h.forEach(c),this.h()},h(){v(e,"class","z-50 w-60"),G(e,"absolute",i[12]),G(e,"hidden",!i[14])},m(d,h){D(d,e,h),se(t,e,null),r=!0,o||(s=[Ye(n=xi.call(null,e,i[22])),Ye(a=Xn.call(null,e,{disable:!i[12]}))],o=!0)},p(d,h){const g={};h&16384&&(g.open=d[14]),h&2&&(g.items=d[1]),h&64&&(g.shouldFilterItem=d[6]?d[6]:void 0),h&32&&(g.placeholder=d[5]),h&42074115&&(g.$$scope={dirty:h,ctx:d}),!l&&h&1&&(l=!0,g.value=d[0],vt(()=>l=!1)),t.$set(g),n&&et(n.update)&&h&24576&&n.update.call(null,d[22]),a&&et(a.update)&&h&4096&&a.update.call(null,{disable:!d[12]}),(!r||h&4096)&&G(e,"absolute",d[12]),(!r||h&16384)&&G(e,"hidden",!d[14])},i(d){r||(w(t.$$.fragment,d),r=!0)},o(d){p(t.$$.fragment,d),r=!1},d(d){d&&c(e),i[20](null),ae(t),o=!1,it(s)}}}function xn(i){let e,t=i[26].text+"",l;return{c(){e=y("div"),l=te(t),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=_(e);l=le(a,t),a.forEach(c),this.h()},h(){v(e,"class","flex justify-between gap-x-8")},m(n,a){D(n,e,a),m(e,l)},p(n,a){a&33554434&&t!==(t=n[26].text+"")&&Ve(l,t)},i:U,o:U,d(n){n&&c(e)}}}function $n(i){let e;const t=i[18].item,l=_i(t,i,i[23],rl);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,a){l&&l.m(n,a),e=!0},p(n,a){l&&l.p&&(!e||a&41943043)&&gi(l,t,n,n[23],e?vi(t,n[23],a,Jn):bi(n[23]),rl)},i(n){e||(w(l,n),e=!0)},o(n){p(l,n),e=!1},d(n){l&&l.d(n)}}}function er(i){nl(i);let e,t,l,n;const a=[$n,xn],r=[];function o(s,u){return s[17].item?0:s[26]?1:-1}return~(e=o(i))&&(t=r[e]=a[e](i)),{c(){t&&t.c(),l=Je()},l(s){t&&t.l(s),l=Je()},m(s,u){~e&&r[e].m(s,u),D(s,l,u),n=!0},p(s,u){nl(s);let f=e;e=o(s),e===f?~e&&r[e].p(s,u):(t&&(Ie(),p(r[f],1,1,()=>{r[f]=null}),Ee()),~e?(t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),w(t,1),t.m(l.parentNode,l)):t=null)},i(s){n||(w(t),n=!0)},o(s){p(t),n=!1},d(s){~e&&r[e].d(s),s&&c(l)}}}function tr(i){let e,t,l,n,a,r,o,s,u,f,d,h,g,O=i[7]&&sl();var N=i[2];function R(V){return{}}N&&(a=ct(N,R()));let C=i[14]&&al(i);return{c(){e=y("div"),t=y("div"),l=y("button"),O&&O.c(),n=oe(),a&&re(a.$$.fragment),r=oe(),o=te(i[3]),f=oe(),C&&C.c(),this.h()},l(V){e=I(V,"DIV",{class:!0});var k=_(e);t=I(k,"DIV",{});var S=_(t);l=I(S,"BUTTON",{class:!0});var E=_(l);O&&O.l(E),n=ue(E),a&&de(a.$$.fragment,E),r=ue(E),o=le(E,i[3]),E.forEach(c),S.forEach(c),f=ue(k),C&&C.l(k),k.forEach(c),this.h()},h(){l.disabled=i[9],v(l,"class","flex items-center gap-x-2 bg-white"),G(l,"opacity-30",i[9]),G(l,"text-red-600",i[11]),G(l,"border",i[4]),G(l,"border-gray-300",i[4]),G(l,"hidden",i[14]),v(e,"class","relative h-8")},m(V,k){D(V,e,k),m(e,t),m(t,l),O&&O.m(l,null),m(l,n),a&&se(a,l,null),m(l,r),m(l,o),m(e,f),C&&C.m(e,null),d=!0,h||(g=[Ze(l,"click",i[15]),Ye(s=Ke.call(null,l,{text:i[8]})),Ye(u=Ke.call(null,t,{text:i[9]?i[10]:""}))],h=!0)},p(V,[k]){if(V[7]?O?k&128&&w(O,1):(O=sl(),O.c(),w(O,1),O.m(l,n)):O&&(Ie(),p(O,1,1,()=>{O=null}),Ee()),k&4&&N!==(N=V[2])){if(a){Ie();const S=a;p(S.$$.fragment,1,0,()=>{ae(S,1)}),Ee()}N?(a=ct(N,R()),re(a.$$.fragment),w(a.$$.fragment,1),se(a,l,r)):a=null}(!d||k&8)&&Ve(o,V[3]),(!d||k&512)&&(l.disabled=V[9]),s&&et(s.update)&&k&256&&s.update.call(null,{text:V[8]}),(!d||k&512)&&G(l,"opacity-30",V[9]),(!d||k&2048)&&G(l,"text-red-600",V[11]),(!d||k&16)&&G(l,"border",V[4]),(!d||k&16)&&G(l,"border-gray-300",V[4]),(!d||k&16384)&&G(l,"hidden",V[14]),u&&et(u.update)&&k&1536&&u.update.call(null,{text:V[9]?V[10]:""}),V[14]?C?(C.p(V,k),k&16384&&w(C,1)):(C=al(V),C.c(),w(C,1),C.m(e,null)):C&&(Ie(),p(C,1,1,()=>{C=null}),Ee())},i(V){d||(w(O),a&&w(a.$$.fragment,V),w(C),d=!0)},o(V){p(O),a&&p(a.$$.fragment,V),p(C),d=!1},d(V){V&&c(e),O&&O.d(),a&&ae(a),C&&C.d(),h=!1,it(g)}}}function lr(i,e,t){let{$$slots:l={},$$scope:n}=e;const a=mi(l);let{items:r}=e,{buttonIcon:o}=e,{buttonText:s=""}=e,{buttonOutline:u=!1}=e,{comboBoxText:f=""}=e,{comboBoxPlaceholder:d=""}=e,{shouldFilterItem:h=void 0}=e,{isLoading:g=!1}=e,{helperText:O=""}=e,{disabled:N=!1}=e,{disabledMessage:R=""}=e,{redText:C=!1}=e,{hoist:V=!1}=e;const k=Et();let S,E=!1;function z(){t(14,E=!0),requestAnimationFrame(()=>{S.$set({open:!0})})}function ie(P){k("select",P.detail.selectedItem),S.clear(),t(14,E=!1)}const X=(P,A)=>A.id===P.id;function he(P){st[P?"unshift":"push"](()=>{S=P,t(13,S)})}function fe(P){f=P,t(0,f)}const me=()=>{S.clear(),t(14,E=!1)};return i.$$set=P=>{"items"in P&&t(1,r=P.items),"buttonIcon"in P&&t(2,o=P.buttonIcon),"buttonText"in P&&t(3,s=P.buttonText),"buttonOutline"in P&&t(4,u=P.buttonOutline),"comboBoxText"in P&&t(0,f=P.comboBoxText),"comboBoxPlaceholder"in P&&t(5,d=P.comboBoxPlaceholder),"shouldFilterItem"in P&&t(6,h=P.shouldFilterItem),"isLoading"in P&&t(7,g=P.isLoading),"helperText"in P&&t(8,O=P.helperText),"disabled"in P&&t(9,N=P.disabled),"disabledMessage"in P&&t(10,R=P.disabledMessage),"redText"in P&&t(11,C=P.redText),"hoist"in P&&t(12,V=P.hoist),"$$scope"in P&&t(23,n=P.$$scope)},[f,r,o,s,u,d,h,g,O,N,R,C,V,S,E,z,ie,a,l,X,he,fe,me,n]}class Nt extends Ae{constructor(e){super(),Re(this,e,lr,tr,ze,{items:1,buttonIcon:2,buttonText:3,buttonOutline:4,comboBoxText:0,comboBoxPlaceholder:5,shouldFilterItem:6,isLoading:7,helperText:8,disabled:9,disabledMessage:10,redText:11,hoist:12})}}function ir(i){let e,t=i[38].text+"",l;return{c(){e=y("div"),l=te(t),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=_(e);l=le(a,t),a.forEach(c),this.h()},h(){v(e,"class","flex justify-between gap-x-8")},m(n,a){D(n,e,a),m(e,l)},p(n,a){a[1]&128&&t!==(t=n[38].text+"")&&Ve(l,t)},i:U,o:U,d(n){n&&c(e)}}}function nr(i){let e,t,l,n,a,r=i[37]+"",o,s;return t=new ni({}),{c(){e=y("div"),re(t.$$.fragment),l=oe(),n=y("div"),a=te("New label: "),o=te(r),this.h()},l(u){e=I(u,"DIV",{class:!0});var f=_(e);de(t.$$.fragment,f),l=ue(f),n=I(f,"DIV",{class:!0});var d=_(n);a=le(d,"New label: "),o=le(d,r),d.forEach(c),f.forEach(c),this.h()},h(){v(n,"class","ml-2"),v(e,"class","new-concept flex flex-row items-center justify-items-center")},m(u,f){D(u,e,f),se(t,e,null),m(e,l),m(e,n),m(n,a),m(n,o),s=!0},p(u,f){(!s||f[1]&64)&&r!==(r=u[37]+"")&&Ve(o,r)},i(u){s||(w(t.$$.fragment,u),s=!0)},o(u){p(t.$$.fragment,u),s=!1},d(u){u&&c(e),ae(t)}}}function rr(i){let e;return{c(){e=y("div")},l(t){e=I(t,"DIV",{}),_(e).forEach(c)},m(t,l){D(t,e,l)},p:U,i:U,o:U,d(t){t&&c(e)}}}function sr(i){let e,t,l,n;const a=[rr,nr,ir],r=[];function o(s,u){return s[38]==null?0:s[38].id==="new-label"?1:2}return t=o(i),l=r[t]=a[t](i),{c(){e=y("div"),l.c(),this.h()},l(s){e=I(s,"DIV",{slot:!0});var u=_(e);l.l(u),u.forEach(c),this.h()},h(){v(e,"slot","item")},m(s,u){D(s,e,u),r[t].m(e,null),n=!0},p(s,u){let f=t;t=o(s),t===f?r[t].p(s,u):(Ie(),p(r[f],1,1,()=>{r[f]=null}),Ee(),l=r[t],l?l.p(s,u):(l=r[t]=a[t](s),l.c()),w(l,1),l.m(e,null))},i(s){n||(w(l),n=!0)},o(s){p(l),n=!1},d(s){s&&c(e),r[t].d()}}}function ar(i){var s;let e,t,l,n,a=((s=i[5])==null?void 0:s.toLocaleString())+"",r,o;return{c(){e=te("Add label "),t=y("span"),l=te(i[8]),n=te(" to "),r=te(a),o=te(`
      rows?`),this.h()},l(u){e=le(u,"Add label "),t=I(u,"SPAN",{class:!0});var f=_(t);l=le(f,i[8]),f.forEach(c),n=le(u," to "),r=le(u,a),o=le(u,`
      rows?`),this.h()},h(){v(t,"class","font-mono font-bold")},m(u,f){D(u,e,f),D(u,t,f),m(t,l),D(u,n,f),D(u,r,f),D(u,o,f)},p(u,f){var d;f[0]&256&&Ve(l,u[8]),f[0]&32&&a!==(a=((d=u[5])==null?void 0:d.toLocaleString())+"")&&Ve(r,a)},d(u){u&&c(e),u&&c(t),u&&c(n),u&&c(r),u&&c(o)}}}function or(i){var s;let e,t,l,n,a=((s=i[5])==null?void 0:s.toLocaleString())+"",r,o;return{c(){e=te("Remove label "),t=y("span"),l=te(i[8]),n=te(" from "),r=te(a),o=te(`
      rows?`),this.h()},l(u){e=le(u,"Remove label "),t=I(u,"SPAN",{class:!0});var f=_(t);l=le(f,i[8]),f.forEach(c),n=le(u," from "),r=le(u,a),o=le(u,`
      rows?`),this.h()},h(){v(t,"class","font-mono font-bold")},m(u,f){D(u,e,f),D(u,t,f),m(t,l),D(u,n,f),D(u,r,f),D(u,o,f)},p(u,f){var d;f[0]&256&&Ve(l,u[8]),f[0]&32&&a!==(a=((d=u[5])==null?void 0:d.toLocaleString())+"")&&Ve(r,a)},d(u){u&&c(e),u&&c(t),u&&c(n),u&&c(r),u&&c(o)}}}function ur(i){let e;function t(a,r){return a[4]?or:ar}let l=t(i),n=l(i);return{c(){e=y("p"),n.c()},l(a){e=I(a,"P",{});var r=_(e);n.l(r),r.forEach(c)},m(a,r){D(a,e,r),n.m(e,null)},p(a,r){l===(l=t(a))&&n?n.p(a,r):(n.d(1),n=l(a),n&&(n.c(),n.m(e,null)))},d(a){a&&c(e),n.d()}}}function fr(i){let e,t,l,n,a;function r(s){i[32](s)}let o={disabled:i[9]||i[10],helperText:i[0],disabledMessage:i[7]?i[1]?i[2]:"":"You do not have access to add labels.",hoist:!1,buttonOutline:!0,buttonIcon:i[3],items:i[13],comboBoxPlaceholder:i[4]?"Select a label to remove":"Select or type a new label",shouldFilterItem:cr,$$slots:{item:[sr,({inputText:s,item:u})=>({37:s,38:u}),({inputText:s,item:u})=>[0,(s?64:0)|(u?128:0)]]},$$scope:{ctx:i}};return i[6]!==void 0&&(o.comboBoxText=i[6]),e=new Nt({props:o}),st.push(()=>bt(e,"comboBoxText",r)),e.$on("select",i[19]),n=new Lt({props:{size:"xs",open:i[8]!=null&&i[5]!=null,modalHeading:"Label",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[ur]},$$scope:{ctx:i}}}),n.$on("submit",i[18]),n.$on("click:button--secondary",i[33]),n.$on("close",function(){et(i[8]=null)&&(i[8]=null).apply(this,arguments)}),{c(){re(e.$$.fragment),l=oe(),re(n.$$.fragment)},l(s){de(e.$$.fragment,s),l=ue(s),de(n.$$.fragment,s)},m(s,u){se(e,s,u),D(s,l,u),se(n,s,u),a=!0},p(s,u){i=s;const f={};u[0]&1536&&(f.disabled=i[9]||i[10]),u[0]&1&&(f.helperText=i[0]),u[0]&134&&(f.disabledMessage=i[7]?i[1]?i[2]:"":"You do not have access to add labels."),u[0]&8&&(f.buttonIcon=i[3]),u[0]&8192&&(f.items=i[13]),u[0]&16&&(f.comboBoxPlaceholder=i[4]?"Select a label to remove":"Select or type a new label"),u[1]&448&&(f.$$scope={dirty:u,ctx:i}),!t&&u[0]&64&&(t=!0,f.comboBoxText=i[6],vt(()=>t=!1)),e.$set(f);const d={};u[0]&288&&(d.open=i[8]!=null&&i[5]!=null),u[0]&304|u[1]&256&&(d.$$scope={dirty:u,ctx:i}),n.$set(d)},i(s){a||(w(e.$$.fragment,s),w(n.$$.fragment,s),a=!0)},o(s){p(e.$$.fragment,s),p(n.$$.fragment,s),a=!1},d(s){ae(e,s),s&&c(l),ae(n,s)}}}const cr=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-label";function dr(i,e,t){let l,n,a,r,o,s,u,f,d,h,g,O,N,R,C,V=U,k=()=>(V(),V=Xe(O,L=>t(27,C=L)),O),S,E=U,z=()=>(E(),E=Xe(g,L=>t(28,S=L)),g),ie,X=U,he=()=>(X(),X=Xe(l,L=>t(29,ie=L)),l),fe,me;i.$$.on_destroy.push(()=>V()),i.$$.on_destroy.push(()=>E()),i.$$.on_destroy.push(()=>X());let{labelsQuery:P}=e,{hideLabels:A=void 0}=e,{helperText:B="Add label"}=e,{disabled:j=!1}=e,{disabledMessage:H="User does not have access to add labels."}=e,{icon:Q}=e,{remove:ee=!1}=e,{totalNumRows:ve=void 0}=e;const ne=Et();let Me="",F=null;const J=ii(),b=dt();We(i,b,L=>t(31,me=L));const M=Vt();We(i,M,L=>t(30,fe=L));function K(){if(F==null)return;const L={...P,label_name:F};function ke(ce){return L.row_ids!=null?`Document id: ${L.row_ids}`:`${ce.toLocaleString()} rows updated`}ee?C.mutate([n,a,L],{onSuccess:ce=>{J.addNotification({kind:"success",title:`Removed label "${L.label_name}"`,message:ke(ce)})}}):S.mutate([n,a,L],{onSuccess:ce=>{J.addNotification({kind:"success",title:`Added label "${L.label_name}"`,message:ke(ce)})}}),t(8,F=null)}function Y(L){t(8,F=L.detail.text),ve==null&&K()}function Te(L){Me=L,t(6,Me)}const pe=()=>{t(8,F=null),ne("close")};return i.$$set=L=>{"labelsQuery"in L&&t(20,P=L.labelsQuery),"hideLabels"in L&&t(21,A=L.hideLabels),"helperText"in L&&t(0,B=L.helperText),"disabled"in L&&t(1,j=L.disabled),"disabledMessage"in L&&t(2,H=L.disabledMessage),"icon"in L&&t(3,Q=L.icon),"remove"in L&&t(4,ee=L.remove),"totalNumRows"in L&&t(5,ve=L.totalNumRows)},i.$$.update=()=>{var L,ke;i.$$.dirty[1]&1&&he(t(14,l=Tt(me.namespace,me.datasetName))),i.$$.dirty[1]&1&&(n=me.namespace),i.$$.dirty[1]&1&&(a=me.datasetName),i.$$.dirty[0]&1073741824&&t(26,r=(L=fe.data)==null?void 0:L.access.dataset.create_label_type),i.$$.dirty[0]&1073741824&&t(7,o=(ke=fe.data)==null?void 0:ke.access.dataset.edit_labels),i.$$.dirty[0]&536870912&&t(24,s=ie.data&&Xl(ie.data)),i.$$.dirty[0]&67108928&&t(25,u=/^[A-Za-z0-9_-]+$/.test(Me)&&r),i.$$.dirty[0]&33554496&&t(23,f={id:"new-label",text:Me,disabled:!u}),i.$$.dirty[0]&18874368&&t(22,d=(s==null?void 0:s.filter(ce=>!(A||[]).includes(ce)).map((ce,we)=>({id:`label_${we}`,text:ce})))||[]),i.$$.dirty[0]&12582992&&t(13,h=[...Me!=""&&!ee?[f]:[],...d]),i.$$.dirty[0]&536870912&&z(t(12,g=ie.data!=null?Wl(ie.data):null)),i.$$.dirty[0]&536870912&&k(t(11,O=ie.data!=null?Gl(ie.data):null)),i.$$.dirty[0]&402653184&&t(10,N=(S==null?void 0:S.isLoading)||(C==null?void 0:C.isLoading)),i.$$.dirty[0]&130&&t(9,R=j||!o)},[B,j,H,Q,ee,ve,Me,o,F,R,N,O,g,h,l,ne,b,M,K,Y,P,A,d,f,s,u,r,C,S,ie,fe,me,Te,pe]}class hr extends Ae{constructor(e){super(),Re(this,e,dr,fr,ze,{labelsQuery:20,hideLabels:21,helperText:0,disabled:1,disabledMessage:2,icon:3,remove:4,totalNumRows:5},null,[-1,-1])}}function mr(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function ol(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,l)}return t}function ul(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ol(Object(t),!0).forEach(function(l){mr(i,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):ol(Object(t)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(t,l))})}return i}function _r(i,e){if(i==null)return{};var t={},l=Object.keys(i),n,a;for(a=0;a<l.length;a++)n=l[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}function gr(i,e){if(i==null)return{};var t=_r(i,e),l,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)l=a[n],!(e.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(i,l)&&(t[l]=i[l])}return t}function br(i,e){return vr(i)||wr(i,e)||pr(i,e)||kr()}function vr(i){if(Array.isArray(i))return i}function wr(i,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(i)))){var t=[],l=!0,n=!1,a=void 0;try{for(var r=i[Symbol.iterator](),o;!(l=(o=r.next()).done)&&(t.push(o.value),!(e&&t.length===e));l=!0);}catch(s){n=!0,a=s}finally{try{!l&&r.return!=null&&r.return()}finally{if(n)throw a}}return t}}function pr(i,e){if(i){if(typeof i=="string")return fl(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fl(i,e)}}function fl(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,l=new Array(e);t<e;t++)l[t]=i[t];return l}function kr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yr(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function cl(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,l)}return t}function dl(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cl(Object(t),!0).forEach(function(l){yr(i,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):cl(Object(t)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(t,l))})}return i}function Ir(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(l){return e.reduceRight(function(n,a){return a(n)},l)}}function _t(i){return function e(){for(var t=this,l=arguments.length,n=new Array(l),a=0;a<l;a++)n[a]=arguments[a];return n.length>=i.length?i.apply(this,n):function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e.apply(t,[].concat(n,o))}}}function It(i){return{}.toString.call(i).includes("Object")}function Er(i){return!Object.keys(i).length}function gt(i){return typeof i=="function"}function Mr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Vr(i,e){return It(e)||rt("changeType"),Object.keys(e).some(function(t){return!Mr(i,t)})&&rt("changeField"),e}function Tr(i){gt(i)||rt("selectorType")}function Pr(i){gt(i)||It(i)||rt("handlerType"),It(i)&&Object.values(i).some(function(e){return!gt(e)})&&rt("handlersType")}function Or(i){i||rt("initialIsRequired"),It(i)||rt("initialType"),Er(i)&&rt("initialContent")}function Dr(i,e){throw new Error(i[e]||i.default)}var Cr={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},rt=_t(Dr)(Cr),pt={changes:Vr,selector:Tr,handler:Pr,initial:Or};function Sr(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};pt.initial(i),pt.handler(e);var t={current:i},l=_t(zr)(t,e),n=_t(Rr)(t),a=_t(pt.changes)(i),r=_t(Ar)(t);function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return pt.selector(u),u(t.current)}function s(u){Ir(l,n,a,r)(u)}return[o,s]}function Ar(i,e){return gt(e)?e(i.current):e}function Rr(i,e){return i.current=dl(dl({},i.current),e),e}function zr(i,e,t){return gt(e)?e(i.current):Object.keys(t).forEach(function(l){var n;return(n=e[l])===null||n===void 0?void 0:n.call(e,i.current[l])}),t}var Lr={create:Sr},Nr={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function Br(i){return function e(){for(var t=this,l=arguments.length,n=new Array(l),a=0;a<l;a++)n[a]=arguments[a];return n.length>=i.length?i.apply(this,n):function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e.apply(t,[].concat(n,o))}}}function Hr(i){return{}.toString.call(i).includes("Object")}function Fr(i){return i||hl("configIsRequired"),Hr(i)||hl("configType"),i.urls?(jr(),{paths:{vs:i.urls.monacoBase}}):i}function jr(){console.warn(si.deprecation)}function qr(i,e){throw new Error(i[e]||i.default)}var si={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},hl=Br(qr)(si),Yr={config:Fr},Ur=function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return function(n){return t.reduceRight(function(a,r){return r(a)},n)}};function ai(i,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&i[t]&&Object.assign(e[t],ai(i[t],e[t]))}),ul(ul({},i),e)}var Kr={type:"cancelation",msg:"operation is manually canceled"};function Dt(i){var e=!1,t=new Promise(function(l,n){i.then(function(a){return e?n(Kr):l(a)}),i.catch(n)});return t.cancel=function(){return e=!0},t}var Zr=Lr.create({config:Nr,isInitialized:!1,resolve:null,reject:null,monaco:null}),oi=br(Zr,2),wt=oi[0],Pt=oi[1];function Qr(i){var e=Yr.config(i),t=e.monaco,l=gr(e,["monaco"]);Pt(function(n){return{config:ai(n.config,l),monaco:t}})}function Wr(){var i=wt(function(e){var t=e.monaco,l=e.isInitialized,n=e.resolve;return{monaco:t,isInitialized:l,resolve:n}});if(!i.isInitialized){if(Pt({isInitialized:!0}),i.monaco)return i.resolve(i.monaco),Dt(Ct);if(window.monaco&&window.monaco.editor)return ui(window.monaco),i.resolve(window.monaco),Dt(Ct);Ur(Gr,Jr)(xr)}return Dt(Ct)}function Gr(i){return document.body.appendChild(i)}function Xr(i){var e=document.createElement("script");return i&&(e.src=i),e}function Jr(i){var e=wt(function(l){var n=l.config,a=l.reject;return{config:n,reject:a}}),t=Xr("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return i()},t.onerror=e.reject,t}function xr(){var i=wt(function(t){var l=t.config,n=t.resolve,a=t.reject;return{config:l,resolve:n,reject:a}}),e=window.require;e.config(i.config),e(["vs/editor/editor.main"],function(t){ui(t),i.resolve(t)},function(t){i.reject(t)})}function ui(i){wt().monaco||Pt({monaco:i})}function $r(){return wt(function(i){var e=i.monaco;return e})}var Ct=new Promise(function(i,e){return Pt({resolve:i,reject:e})}),ml={config:Qr,init:Wr,__getMonacoInstance:$r};const _l=360,es=720;let kt;const fi={fontFamily:"inconsolata variable",fontSize:14,readOnly:!0,lineNumbers:"off",renderFinalNewline:"dimmed",lineDecorationsWidth:0,folding:!1,roundedSelection:!0,domReadOnly:!0,scrollBeyondLastLine:!1,wordWrap:"on",wrappingStrategy:"advanced",readOnlyMessage:{value:""},scrollbar:{verticalScrollbarSize:8,alwaysConsumeMouseWheel:!1},fixedOverflowWidgets:!0,language:"text/plain",automaticLayout:!0};async function ci(){return kt!=null||(kt=Xi(()=>import("./editor.main.1687129f.js").then(i=>i.e),["./editor.main.1687129f.js","./preload-helper.41c905a7.js","../assets/editor.3b4aeffe.css"],import.meta.url).then(async i=>(ml.config({monaco:i.default}),ml.init()))),kt}function ts(i){let e,t,l,n=ot(i[2])+"",a,r,o,s=ot(i[1])+"",u,f,d,h,g,O,N,R,C,V;return g=new Bn({}),{c(){e=y("div"),t=y("div"),l=y("div"),a=te(n),r=oe(),o=y("div"),u=te(s),f=oe(),d=y("div"),h=y("button"),re(g.$$.fragment),O=oe(),N=y("div"),this.h()},l(k){e=I(k,"DIV",{class:!0});var S=_(e);t=I(S,"DIV",{class:!0});var E=_(t);l=I(E,"DIV",{class:!0});var z=_(l);a=le(z,n),z.forEach(c),r=ue(E),o=I(E,"DIV",{class:!0});var ie=_(o);u=le(ie,s),ie.forEach(c),f=ue(E),d=I(E,"DIV",{});var X=_(d);h=I(X,"BUTTON",{class:!0});var he=_(h);de(g.$$.fragment,he),he.forEach(c),X.forEach(c),E.forEach(c),O=ue(S),N=I(S,"DIV",{class:!0}),_(N).forEach(c),S.forEach(c),this.h()},h(){v(l,"class","ml-8 w-1/2"),v(o,"class","ml-8 w-1/2"),v(h,"class","-mr-1 mb-1 flex flex-row"),v(t,"class","flex flex-row items-center font-mono text-xs font-medium text-neutral-500"),v(N,"class","editor-container svelte-15hppq8"),v(e,"class","relative -ml-6 flex h-fit w-full flex-col gap-x-4")},m(k,S){D(k,e,S),m(e,t),m(t,l),m(l,a),m(t,r),m(t,o),m(o,u),m(t,f),m(t,d),m(d,h),se(g,h,null),m(e,O),m(e,N),i[13](N),R=!0,C||(V=[Ze(h,"click",i[12]),Ye(Ke.call(null,h,{text:"Swap comparison order"}))],C=!0)},p(k,[S]){(!R||S&4)&&n!==(n=ot(k[2])+"")&&Ve(a,n),(!R||S&2)&&s!==(s=ot(k[1])+"")&&Ve(u,s)},i(k){R||(w(g.$$.fragment,k),R=!0)},o(k){p(g.$$.fragment,k),R=!1},d(k){k&&c(e),ae(g),i[13](null),C=!1,it(V)}}}const gl=360,ls=720;function is(i,e,t){let l,n,a,r;const o=dt();let{row:s}=e,{colCompareState:u}=e,{textIsOverBudget:f}=e,{isExpanded:d}=e,h,g,O;function N(){var V,k;if(O!=null&&((V=O.getModel())==null?void 0:V.original)!=null&&((k=O.getModel())==null?void 0:k.modified)!=null){const S=Math.max(O.getOriginalEditor().getContentHeight(),O.getModifiedEditor().getContentHeight());t(5,f=S>gl),d||!f?t(3,h.style.height=`${Math.min(S,ls)}px`,h):t(3,h.style.height=gl+"px",h),O.layout()}}Ul(async()=>{t(8,g=await ci()),t(9,O=g.editor.createDiffEditor(h,{...fi,glyphMargin:!0,lineNumbersMinChars:3,lineNumbers:"on"})),O.onDidChangeModel(()=>{N()})}),Kl(()=>{var V,k;(V=O.getModel())==null||V.modified.dispose(),(k=O.getModel())==null||k.original.dispose(),O==null||O.dispose()});const R=()=>o.swapCompareColumn((u==null?void 0:u.column)||[]);function C(V){st[V?"unshift":"push"](()=>{h=V,t(3,h)})}return i.$$set=V=>{"row"in V&&t(6,s=V.row),"colCompareState"in V&&t(0,u=V.colCompareState),"textIsOverBudget"in V&&t(5,f=V.textIsOverBudget),"isExpanded"in V&&t(7,d=V.isExpanded)},i.$$.update=()=>{i.$$.dirty&1&&t(2,l=u.swapDirection?u.compareToColumn:u.column),i.$$.dirty&1&&t(1,n=u.swapDirection?u.column:u.compareToColumn),i.$$.dirty&68&&t(11,a=lt.value(ft(s,l)[0])),i.$$.dirty&66&&t(10,r=lt.value(ft(s,n)[0])),i.$$.dirty&192&&(d!=null||s!=null)&&N(),i.$$.dirty&3840&&O!=null&&a!=null&&r!=null&&(O.setModel({original:g.editor.createModel(a,"text/plain"),modified:g.editor.createModel(r,"text/plain")}),N())},[u,n,l,h,o,f,s,d,g,O,r,a,R,C]}class ns extends Ae{constructor(e){super(),Re(this,e,is,ts,ze,{row:6,colCompareState:0,textIsOverBudget:5,isExpanded:7})}}function bl(i){let e,t,l;return t=new ht({props:{class:"ml-6 w-full ",lines:3}}),{c(){e=y("div"),re(t.$$.fragment),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=_(e);de(t.$$.fragment,a),a.forEach(c),this.h()},h(){v(e,"class","ml-6 w-full")},m(n,a){D(n,e,a),se(t,e,null),l=!0},i(n){l||(w(t.$$.fragment,n),l=!0)},o(n){p(t.$$.fragment,n),l=!1},d(n){n&&c(e),ae(t)}}}function rs(i){let e,t,l,n,a=!i[2]&&bl();return{c(){e=y("div"),a&&a.c(),t=oe(),l=y("div"),this.h()},l(r){e=I(r,"DIV",{class:!0});var o=_(e);a&&a.l(o),t=ue(o),l=I(o,"DIV",{class:!0}),_(l).forEach(c),o.forEach(c),this.h()},h(){v(l,"class","editor-container ml-6 h-64"),G(l,"hidden",i[0]),G(l,"invisible",!i[2]),v(e,"class","relative -ml-6 flex h-fit w-full flex-col gap-x-4")},m(r,o){D(r,e,o),a&&a.m(e,null),m(e,t),m(e,l),i[29](l),n=!0},p(r,o){r[2]?a&&(Ie(),p(a,1,1,()=>{a=null}),Ee()):a?o[0]&4&&w(a,1):(a=bl(),a.c(),w(a,1),a.m(e,t)),(!n||o[0]&1)&&G(l,"hidden",r[0]),(!n||o[0]&4)&&G(l,"invisible",!r[2])},i(r){n||(w(a),n=!0)},o(r){p(a),n=!1},d(r){r&&c(e),a&&a.d(),i[29](null)}}}function vl(i){return i.length>40?i.slice(0,40)+"...":i}function St(i,e){return`add-to-concept-${i}-${e}`}function ss(i,e,t){let l,n,a,r,o=U,s=()=>(o(),o=Xe(V,b=>t(28,r=b)),V),u;i.$$.on_destroy.push(()=>o());let{text:f}=e,{row:d}=e,{field:h=void 0}=e,{spanPaths:g}=e,{path:O=void 0}=e,{hidden:N}=e,{spanValueInfos:R}=e,{embeddings:C}=e,{datasetViewStore:V=void 0}=e;s();let{isExpanded:k=!1}=e,{textIsOverBudget:S=!1}=e,{viewType:E=void 0}=e,z,ie=!1,X={};const he=Mi();We(i,he,b=>t(30,u=b));const fe=(b,M,K,Y)=>{if(!M||!b)throw Error("Label could not be added, no active concept.");u.mutate([b,M,{insert:[{text:K,label:Y}]}])};let me,P,A=null,B=null;function j(){if(A!=null&&A.getModel()!=null){const b=A.getContentHeight();t(6,S=b>_l),k||!S?t(3,me.style.height=`${Math.min(b,es)}px`,me):t(3,me.style.height=_l+"px",me),A.layout()}}Ul(async()=>{t(18,P=await ci()),t(19,A=P.editor.create(me,{...fi,lineNumbers:"on",glyphMargin:!0,lineNumbersMinChars:3,renderLineHighlight:"none",minimap:{enabled:!0,side:"right",scale:2}})),t(20,B=P.editor.createModel(f,"text/plain")),A.setModel(B),document.fonts.ready.then(()=>{P.editor.remeasureFonts(),t(2,ie=!0)})});function H(b){if(B==null)return[];const M=b.namedValue,K=M.info.name;if(b.isConceptSearch){const Y=M.info.signal,Te=window.location.origin+Pi(Y.namespace,Y.concept_name),pe=M.value.toFixed(2);return[{value:`**concept** <a href="${Te}">${K}</a> (${pe})`,supportHtml:!0,isTrusted:!0},{value:b.text,supportHtml:!1,isTrusted:!1}]}else if(b.isSemanticSearch){const Y=M.info.signal,Te=M.value.toFixed(2);return[{value:`**more like this** *${vl(Y.query)}*`,supportHtml:!0,isTrusted:!0},{value:`similarity: ${Te}`,supportHtml:!0,isTrusted:!0},{value:b.text,supportHtml:!1,isTrusted:!1}]}else if(b.isKeywordSearch){const Y=M.info.signal;return[{value:`**keyword search** *${vl(Y.query)}*`,supportHtml:!0,isTrusted:!0},{value:b.text,supportHtml:!1,isTrusted:!1}]}else if(b.isLeafSpan)return[{value:`**span** *${at(M.info.path)}*`,supportHtml:!0,isTrusted:!0},...M.value!=null?[{value:`value: *${M.value}*`,supportHtml:!1,isTrusted:!1}]:[],{value:b.text,supportHtml:!1,isTrusted:!1}];return[]}function Q(){if(A==null)return null;const b=A.getSelection();return b==null?null:B.getValueInRange(b)}let ee={};const ve=V!=null?Ji(V,b=>{if(b.selection==null)return null;const[M,K]=b.selection;return $e(M,O)?K:null}):null;We(i,ve,b=>t(27,a=b));let ne=[],Me=[],F=[];Kl(()=>{B==null||B.dispose(),A==null||A.dispose()});function J(b){st[b?"unshift":"push"](()=>{me=b,t(3,me)})}return i.$$set=b=>{"text"in b&&t(7,f=b.text),"row"in b&&t(8,d=b.row),"field"in b&&t(9,h=b.field),"spanPaths"in b&&t(10,g=b.spanPaths),"path"in b&&t(11,O=b.path),"hidden"in b&&t(0,N=b.hidden),"spanValueInfos"in b&&t(12,R=b.spanValueInfos),"embeddings"in b&&t(13,C=b.embeddings),"datasetViewStore"in b&&s(t(1,V=b.datasetViewStore)),"isExpanded"in b&&t(14,k=b.isExpanded),"textIsOverBudget"in b&&t(6,S=b.textIsOverBudget),"viewType"in b&&t(15,E=b.viewType)},i.$$.update=()=>{if(i.$$.dirty[0]&3328&&(t(16,z={}),g.forEach(b=>{let M=ft(d,b);Vi(b,O)&&(M=M.filter(Y=>Ti(lt.path(Y),O)||O==null)),t(16,z[at(b)]=M,z)})),i.$$.dirty[0]&135168){t(17,X={});for(const b of R){const M=at(b.spanPath);X[M]==null&&t(17,X[M]=[],X),X[M].push(b)}}if(i.$$.dirty[0]&16640&&(k!=null||d!=null)&&j(),i.$$.dirty[0]&1048704&&B!=null&&f!=null&&(B.setValue(f),j()),i.$$.dirty[0]&196736&&t(25,l=$i(f,z,X)),i.$$.dirty[0]&35127296&&B!=null&&A!=null){let b=null;for(const M of l){const K=lt.span(M.span),Y=B.getPositionAt(K.start);(b==null||Y.lineNumber<b.lineNumber)&&(b=Y)}b!=null&&A.revealPositionNearTop(b)}if(i.$$.dirty[0]&268435456&&t(26,n=r!=null?Oi(r,null):null),i.$$.dirty[0]&69730304&&A!=null){for(const b of Object.values(ee))b.set(!1);for(const b of n||[]){if(b.type!="concept")continue;const M=St(b.concept_namespace,b.concept_name);if(ee[M]==null){const K=A.createContextKey(M,!0);t(21,ee[M]=K,ee)}else ee[M].set(!0)}}if(i.$$.dirty[0]&67633152&&A!=null&&n!=null){for(const b of n)if(b.type=="concept"){const M=`add-positive-to-concept-${b.concept_name}`;if(A.getAction(M)!=null)continue;A.addAction({id:M,label:`👍 add as positive to concept "${b.concept_name}"`,contextMenuGroupId:"navigation_concepts",precondition:St(b.concept_namespace,b.concept_name),run:()=>{const K=Q();if(K==null)return;const Y=!0;fe(b.concept_namespace,b.concept_name,K,Y)}}),A.addAction({id:"add-negative-to-concept",label:`👎 add as negative to concept "${b.concept_name}"`,contextMenuGroupId:"navigation_concepts",precondition:St(b.concept_namespace,b.concept_name),run:()=>{const K=Q();if(K==null)return;const Y=!1;fe(b.concept_namespace,b.concept_name,K,Y)}})}}if(i.$$.dirty[0]&532994&&A!=null&&C!=null){for(const M of C){const K=`find-similar-${M}`;A.getAction(K)==null&&A.addAction({id:K,label:"🔍 More like this"+(C.length>1?` with ${M}`:""),contextMenuGroupId:"navigation_searches",run:()=>{if(V==null||h==null)return;const Y=Q();Y!=null&&V.addSearch({path:h.path,type:"semantic",query_type:"document",query:Y,embedding:M})}})}const b="keyword-search";A.getAction(b)==null&&A.addAction({id:b,label:"🔍 Keyword search",contextMenuGroupId:"navigation_searches",run:()=>{if(V==null||h==null)return;const M=Q();M!=null&&V.addSearch({path:h.path,type:"keyword",query:M})}})}if(i.$$.dirty[0]&35389440&&A!=null&&B!=null&&t(22,ne=l.flatMap(b=>{if(B==null)return[];const M=lt.span(b.span),K=B.getPositionAt(M.start),Y=B.getPositionAt(M.end);if(K==null||Y==null)return[];const Te=[],pe=H(b),L=new P.Range(K.lineNumber,K.column,Y.lineNumber,Y.column);let ke="";if(b.isConceptSearch||b.isSemanticSearch){const ce=b.value;ce<.55?ke="bg-blue-50":ce<.6?ke="bg-blue-100":ce<.7?ke="bg-blue-200":ce<.8?ke="bg-blue-300":ce<.9?ke="bg-blue-400":ke="bg-blue-500"}return b.isKeywordSearch?Te.push({range:L,options:{className:"keyword-search-bg",inlineClassName:"keyword-search-text",hoverMessage:pe,glyphMarginClassName:"keyword-search-glyph",glyphMarginHoverMessage:pe,isWholeLine:!1,minimap:{position:P.editor.MinimapPosition.Inline,color:"#888888"}}}):b.isConceptSearch?Te.push({range:L,options:{className:"concept-search-bg "+ke,inlineClassName:"concept-search-text",hoverMessage:pe,glyphMarginClassName:"concept-search-bg",glyphMarginHoverMessage:pe,isWholeLine:!1,minimap:{position:P.editor.MinimapPosition.Inline,color:"#dbeafe"}}}):b.isSemanticSearch?Te.push({range:L,options:{className:"semantic-search-bg "+ke,inlineClassName:"semantic-search-text",hoverMessage:pe,glyphMarginClassName:"semantic-search-bg",glyphMarginHoverMessage:pe,isWholeLine:!1,minimap:{position:P.editor.MinimapPosition.Inline,color:"#dbeafe"}}}):b.isMetadata&&Te.push({range:L,options:{className:"leaf-bg",inlineClassName:"leaf-text",hoverMessage:pe,glyphMarginClassName:"leaf-glyph",glyphMarginHoverMessage:pe,isWholeLine:!1,minimap:{position:P.editor.MinimapPosition.Inline,color:"#888888"}}}),Te})),i.$$.dirty[0]&144441344&&A!=null&&B!=null&&ve!=null&&a!=null&&(t(23,Me=[]),a.startLine==a.endLine&&a.startCol==a.endCol?Me.push({range:new P.Range(a.startLine,a.startCol,a.endLine,a.endCol||B.getLineMaxColumn(a.startLine)),options:{isWholeLine:!0,className:"line-selection-bg",glyphMarginClassName:"line-selection-glyph",glyphMarginHoverMessage:{value:"🔗 From the URL"}}}):Me.push({range:new P.Range(a.startLine,a.startCol,a.endLine,a.endCol),options:{className:"line-col-selection-bg",hoverMessage:[{value:"🔗 From the URL"}],glyphMarginClassName:"line-selection-glyph",glyphMarginHoverMessage:{value:"🔗 From the URL"},minimap:{position:P.editor.MinimapPosition.Inline,color:"#cccccc"}}}),A.revealLineInCenter(a.startLine)),i.$$.dirty[0]&1870338&&B!=null&&A!=null&&E!=null&&O!=null){const b="link-selection";A.getAction(b)==null&&A.addAction({id:b,label:"🔗 Link to selection",contextMenuGroupId:"navigation_links",keybindings:[P.KeyMod.CtrlCmd|P.KeyCode.KeyK],run:()=>{if(V==null||O==null||h==null||A==null)return;const M=A.getSelection();M!=null&&(V.setTextSelection(O,{startLine:M.startLineNumber,endLine:M.endLineNumber,startCol:M.startColumn,endCol:M.endColumn}),A.setSelection(M))}})}i.$$.dirty[0]&134217728&&a==null&&t(23,Me=[]),i.$$.dirty[0]&29884416&&A!=null&&t(24,F=A.deltaDecorations(F,[...ne,...Me]))},[N,V,ie,me,he,ve,S,f,d,h,g,O,R,C,k,E,z,X,P,A,B,ee,ne,Me,F,l,n,a,r,J]}class as extends Ae{constructor(e){super(),Re(this,e,ss,rs,ze,{text:7,row:8,field:9,spanPaths:10,path:11,hidden:0,spanValueInfos:12,embeddings:13,datasetViewStore:1,isExpanded:14,textIsOverBudget:6,viewType:15},null,[-1,-1])}}function wl(i,e,t){const l=i.slice();return l[51]=e[t],l}function os(i){let e,t,l,n,a,r,o=i[23],s=[];for(let f=0;f<o.length;f+=1)s[f]=pl(wl(i,o,f));const u=f=>p(s[f],1,1,()=>{s[f]=null});return{c(){e=y("div"),t=y("div"),l=y("div"),n=te(i[22]),a=oe();for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){e=I(f,"DIV",{class:!0});var d=_(e);t=I(d,"DIV",{class:!0});var h=_(t);l=I(h,"DIV",{title:!0,class:!0});var g=_(l);n=le(g,i[22]),g.forEach(c),a=ue(h);for(let O=0;O<s.length;O+=1)s[O].l(h);h.forEach(c),d.forEach(c),this.h()},h(){v(l,"title",i[22]),v(l,"class","mx-2 my-2 truncate font-mono font-medium text-neutral-500"),v(t,"class","m-2 flex flex-col gap-y-2"),v(e,"class","my-2 flex w-full flex-col rounded border border-neutral-200")},m(f,d){D(f,e,d),m(e,t),m(t,l),m(l,n),m(t,a);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(t,null);r=!0},p(f,d){if((!r||d[0]&4194304)&&Ve(n,f[22]),(!r||d[0]&4194304)&&v(l,"title",f[22]),d[0]&8388638){o=f[23];let h;for(h=0;h<o.length;h+=1){const g=wl(f,o,h);s[h]?(s[h].p(g,d),w(s[h],1)):(s[h]=pl(g),s[h].c(),w(s[h],1),s[h].m(t,null))}for(Ie(),h=o.length;h<s.length;h+=1)u(h);Ee()}},i(f){if(!r){for(let d=0;d<o.length;d+=1)w(s[d]);r=!0}},o(f){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)p(s[d]);r=!1},d(f){f&&c(e),Mt(s,f)}}}function us(i){let e,t,l,n,a,r,o,s,u,f,d,h,g,O,N,R,C,V,k,S,E,z,ie,X,he,fe,me,P,A,B,j,H,Q,ee,ve,ne,Me,F=i[22]!=""&&i[18]==null&&kl(i);o=new Gi({props:{size:16}});const J=[cs,fs],b=[];function M(T,be){return T[12]?0:1}d=M(i),h=b[d]=J[d](i);const K=[hs,ds],Y=[];function Te(T,be){return T[11]?1:0}R=Te(i),C=Y[R]=K[R](i);const pe=[_s,ms],L=[];function ke(T,be){return T[8].showMetadataPanel?0:1}S=ke(i),E=L[S]=pe[S](i);const ce=[bs,gs],we=[];function Pe(T,be){return T[10]?0:1}he=Pe(i),fe=we[he]=ce[he](i);let _e=i[18]!=null&&yl(i);const ye=[ks,ps,ws,vs],Fe=[];function q(T,be){return T[5]?0:T[21]==null||T[2]==null?1:T[11]==null?2:3}return Q=q(i),ee=Fe[Q]=ye[Q](i),{c(){e=y("div"),t=y("div"),F&&F.c(),l=oe(),n=y("div"),a=y("div"),r=y("button"),re(o.$$.fragment),u=oe(),f=y("button"),h.c(),N=oe(),C.c(),V=oe(),k=y("button"),E.c(),ie=oe(),X=y("button"),fe.c(),A=oe(),B=y("div"),_e&&_e.c(),j=oe(),H=y("div"),ee.c(),this.h()},l(T){e=I(T,"DIV",{class:!0});var be=_(e);t=I(be,"DIV",{class:!0});var He=_(t);F&&F.l(He),l=ue(He),n=I(He,"DIV",{class:!0});var Le=_(n);a=I(Le,"DIV",{});var Ue=_(a);r=I(Ue,"BUTTON",{});var W=_(r);de(o.$$.fragment,W),W.forEach(c),Ue.forEach(c),u=ue(Le),f=I(Le,"BUTTON",{});var Ne=_(f);h.l(Ne),Ne.forEach(c),N=ue(Le),C.l(Le),V=ue(Le),k=I(Le,"BUTTON",{});var qe=_(k);E.l(qe),qe.forEach(c),ie=ue(Le),X=I(Le,"BUTTON",{});var je=_(X);fe.l(je),je.forEach(c),Le.forEach(c),He.forEach(c),be.forEach(c),A=ue(T),B=I(T,"DIV",{class:!0});var Z=_(B);_e&&_e.l(Z),j=ue(Z),H=I(Z,"DIV",{class:!0});var Be=_(H);ee.l(Be),Be.forEach(c),Z.forEach(c),this.h()},h(){r.disabled=i[15],G(a,"opacity-50",i[15]),f.disabled=g=i[11]!=null,G(f,"opacity-50",i[11]!=null),X.disabled=me=!i[9],G(X,"opacity-50",!i[9]),v(n,"class","flex flex-row gap-x-1"),v(t,"class","z-100 sticky top-16 flex w-full flex-col gap-y-2 self-start"),v(e,"class","relative mr-4 flex w-28 flex-row font-mono font-medium text-neutral-500 md:w-36"),v(H,"class","grow pt-1"),v(B,"class","flex grow flex-col font-normal")},m(T,be){D(T,e,be),m(e,t),F&&F.m(t,null),m(t,l),m(t,n),m(n,a),m(a,r),se(o,r,null),m(n,u),m(n,f),b[d].m(f,null),m(n,N),Y[R].m(n,null),m(n,V),m(n,k),L[S].m(k,null),m(n,ie),m(n,X),we[he].m(X,null),D(T,A,be),D(T,B,be),_e&&_e.m(B,null),m(B,j),m(B,H),Fe[Q].m(H,null),ve=!0,ne||(Me=[Ze(r,"click",i[42]),Ye(Ke.call(null,r,{text:"More like this"})),Ye(s=Ke.call(null,a,{text:i[15]?'"More like this" requires an embedding index':void 0})),Ze(f,"click",i[43]),Ye(O=Ke.call(null,f,{text:i[12]?"Back to text":"Preview markdown"})),Ze(k,"click",i[45]),Ye(z=Ke.call(null,k,{text:i[8].showMetadataPanel?"Collapse metadata panel":"Expand metadata panel"})),Ze(X,"click",i[46]),Ye(P=Ke.call(null,X,{text:i[10]?"Collapse text":"Expand text"}))],ne=!0)},p(T,be){T[22]!=""&&T[18]==null?F?F.p(T,be):(F=kl(T),F.c(),F.m(t,l)):F&&(F.d(1),F=null),(!ve||be[0]&32768)&&(r.disabled=T[15]),s&&et(s.update)&&be[0]&32768&&s.update.call(null,{text:T[15]?'"More like this" requires an embedding index':void 0}),(!ve||be[0]&32768)&&G(a,"opacity-50",T[15]);let He=d;d=M(T),d!==He&&(Ie(),p(b[He],1,1,()=>{b[He]=null}),Ee(),h=b[d],h||(h=b[d]=J[d](T),h.c()),w(h,1),h.m(f,null)),(!ve||be[0]&2048&&g!==(g=T[11]!=null))&&(f.disabled=g),O&&et(O.update)&&be[0]&4096&&O.update.call(null,{text:T[12]?"Back to text":"Preview markdown"}),(!ve||be[0]&2048)&&G(f,"opacity-50",T[11]!=null);let Le=R;R=Te(T),R===Le?Y[R].p(T,be):(Ie(),p(Y[Le],1,1,()=>{Y[Le]=null}),Ee(),C=Y[R],C?C.p(T,be):(C=Y[R]=K[R](T),C.c()),w(C,1),C.m(n,V));let Ue=S;S=ke(T),S!==Ue&&(Ie(),p(L[Ue],1,1,()=>{L[Ue]=null}),Ee(),E=L[S],E||(E=L[S]=pe[S](T),E.c()),w(E,1),E.m(k,null)),z&&et(z.update)&&be[0]&256&&z.update.call(null,{text:T[8].showMetadataPanel?"Collapse metadata panel":"Expand metadata panel"});let W=he;he=Pe(T),he!==W&&(Ie(),p(we[W],1,1,()=>{we[W]=null}),Ee(),fe=we[he],fe||(fe=we[he]=ce[he](T),fe.c()),w(fe,1),fe.m(X,null)),(!ve||be[0]&512&&me!==(me=!T[9]))&&(X.disabled=me),P&&et(P.update)&&be[0]&1024&&P.update.call(null,{text:T[10]?"Collapse text":"Expand text"}),(!ve||be[0]&512)&&G(X,"opacity-50",!T[9]),T[18]!=null?_e?_e.p(T,be):(_e=yl(T),_e.c(),_e.m(B,j)):_e&&(_e.d(1),_e=null);let Ne=Q;Q=q(T),Q===Ne?Fe[Q].p(T,be):(Ie(),p(Fe[Ne],1,1,()=>{Fe[Ne]=null}),Ee(),ee=Fe[Q],ee?ee.p(T,be):(ee=Fe[Q]=ye[Q](T),ee.c()),w(ee,1),ee.m(H,null))},i(T){ve||(w(o.$$.fragment,T),w(h),w(C),w(E),w(fe),w(ee),ve=!0)},o(T){p(o.$$.fragment,T),p(h),p(C),p(E),p(fe),p(ee),ve=!1},d(T){T&&c(e),F&&F.d(),ae(o),b[d].d(),Y[R].d(),L[S].d(),we[he].d(),T&&c(A),T&&c(B),_e&&_e.d(),Fe[Q].d(),ne=!1,it(Me)}}}function pl(i){let e,t,l,n;return t=new di({props:{rootPath:i[51].rootPath,showPath:i[51].showPath,row:i[2],field:i[3],highlightedFields:i[4],mediaPath:i[1]}}),{c(){e=y("div"),re(t.$$.fragment),l=oe(),this.h()},l(a){e=I(a,"DIV",{class:!0});var r=_(e);de(t.$$.fragment,r),l=ue(r),r.forEach(c),this.h()},h(){v(e,"class","m-2 rounded border border-neutral-100")},m(a,r){D(a,e,r),se(t,e,null),m(e,l),n=!0},p(a,r){const o={};r[0]&8388608&&(o.rootPath=a[51].rootPath),r[0]&8388608&&(o.showPath=a[51].showPath),r[0]&4&&(o.row=a[2]),r[0]&8&&(o.field=a[3]),r[0]&16&&(o.highlightedFields=a[4]),r[0]&2&&(o.mediaPath=a[1]),t.$set(o)},i(a){n||(w(t.$$.fragment,a),n=!0)},o(a){p(t.$$.fragment,a),n=!1},d(a){a&&c(e),ae(t)}}}function kl(i){let e,t;return{c(){e=y("div"),t=te(i[22]),this.h()},l(l){e=I(l,"DIV",{title:!0,class:!0});var n=_(e);t=le(n,i[22]),n.forEach(c),this.h()},h(){v(e,"title",i[22]),v(e,"class","mx-2 mt-2 w-full flex-initial truncate")},m(l,n){D(l,e,n),m(e,t)},p(l,n){n[0]&4194304&&Ve(t,l[22]),n[0]&4194304&&v(e,"title",l[22])},d(l){l&&c(e)}}}function fs(i){let e,t;return e=new On({props:{size:16}}),{c(){re(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function cs(i){let e,t;return e=new mn({props:{size:16}}),{c(){re(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function ds(i){let e,t,l,n,a;return t=new ri({props:{size:16}}),{c(){e=y("button"),re(t.$$.fragment)},l(r){e=I(r,"BUTTON",{});var o=_(e);de(t.$$.fragment,o),o.forEach(c)},m(r,o){D(r,e,o),se(t,e,null),l=!0,n||(a=[Ze(e,"click",i[44]),Ye(Ke.call(null,e,{text:"Remove comparison"}))],n=!0)},p:U,i(r){l||(w(t.$$.fragment,r),l=!0)},o(r){p(t.$$.fragment,r),l=!1},d(r){r&&c(e),ae(t),n=!1,it(a)}}}function hs(i){let e,t;return e=new Nt({props:{disabled:i[16].length===0,helperText:"Compare to",items:i[16],buttonIcon:Sn,hoist:!0}}),e.$on("select",i[27]),{c(){re(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p(l,n){const a={};n[0]&65536&&(a.disabled=l[16].length===0),n[0]&65536&&(a.items=l[16]),e.$set(a)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function ms(i){let e,t;return e=new Vn({props:{size:16}}),{c(){re(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function _s(i){let e,t;return e=new In({props:{size:16}}),{c(){re(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function gs(i){let e,t;return e=new Qi({props:{size:16}}),{c(){re(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function bs(i){let e,t;return e=new Wi({props:{size:16}}),{c(){re(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function yl(i){let e,t;return{c(){e=y("div"),t=te(i[18]),this.h()},l(l){e=I(l,"DIV",{class:!0});var n=_(e);t=le(n,i[18]),n.forEach(c),this.h()},h(){v(e,"class","mb-1 ml-11 rounded bg-gray-100 p-1 px-2 text-xs font-bold uppercase text-gray-700")},m(l,n){D(l,e,n),m(e,t)},p(l,n){n[0]&262144&&Ve(t,l[18])},d(l){l&&c(e)}}}function vs(i){let e,t,l;function n(r){i[48](r)}let a={row:i[2],colCompareState:i[11],isExpanded:i[10]};return i[9]!==void 0&&(a.textIsOverBudget=i[9]),e=new ns({props:a}),st.push(()=>bt(e,"textIsOverBudget",n)),{c(){re(e.$$.fragment)},l(r){de(e.$$.fragment,r)},m(r,o){se(e,r,o),l=!0},p(r,o){const s={};o[0]&4&&(s.row=r[2]),o[0]&2048&&(s.colCompareState=r[11]),o[0]&1024&&(s.isExpanded=r[10]),!t&&o[0]&512&&(t=!0,s.textIsOverBudget=r[9],vt(()=>t=!1)),e.$set(s)},i(r){l||(w(e.$$.fragment,r),l=!0)},o(r){p(e.$$.fragment,r),l=!1},d(r){ae(e,r)}}}function ws(i){let e,t,l,n,a,r,o;function s(f){i[47](f)}let u={hidden:i[12],text:i[21],row:i[2],path:i[0],field:i[3],isExpanded:i[10],spanPaths:i[14].spanPaths,spanValueInfos:i[14].spanValueInfos,datasetViewStore:i[25],embeddings:i[7],viewType:i[13]};return i[9]!==void 0&&(u.textIsOverBudget=i[9]),e=new as({props:u}),st.push(()=>bt(e,"textIsOverBudget",s)),r=new Ai({props:{source:yt(i[21])}}),{c(){re(e.$$.fragment),l=oe(),n=y("div"),a=y("div"),re(r.$$.fragment),this.h()},l(f){de(e.$$.fragment,f),l=ue(f),n=I(f,"DIV",{class:!0});var d=_(n);a=I(d,"DIV",{class:!0});var h=_(a);de(r.$$.fragment,h),h.forEach(c),d.forEach(c),this.h()},h(){v(a,"class","markdown -ml-0.5 w-fit pl-14"),v(n,"class","markdown w-full"),G(n,"hidden",!i[12])},m(f,d){se(e,f,d),D(f,l,d),D(f,n,d),m(n,a),se(r,a,null),o=!0},p(f,d){const h={};d[0]&4096&&(h.hidden=f[12]),d[0]&2097152&&(h.text=f[21]),d[0]&4&&(h.row=f[2]),d[0]&1&&(h.path=f[0]),d[0]&8&&(h.field=f[3]),d[0]&1024&&(h.isExpanded=f[10]),d[0]&16384&&(h.spanPaths=f[14].spanPaths),d[0]&16384&&(h.spanValueInfos=f[14].spanValueInfos),d[0]&128&&(h.embeddings=f[7]),d[0]&8192&&(h.viewType=f[13]),!t&&d[0]&512&&(t=!0,h.textIsOverBudget=f[9],vt(()=>t=!1)),e.$set(h);const g={};d[0]&2097152&&(g.source=yt(f[21])),r.$set(g),(!o||d[0]&4096)&&G(n,"hidden",!f[12])},i(f){o||(w(e.$$.fragment,f),w(r.$$.fragment,f),o=!0)},o(f){p(e.$$.fragment,f),p(r.$$.fragment,f),o=!1},d(f){ae(e,f),f&&c(l),f&&c(n),ae(r)}}}function ps(i){let e,t;return{c(){e=y("span"),t=te("null"),this.h()},l(l){e=I(l,"SPAN",{class:!0});var n=_(e);t=le(n,"null"),n.forEach(c),this.h()},h(){v(e,"class","ml-12 italic")},m(l,n){D(l,e,n),m(e,t)},p:U,i:U,o:U,d(l){l&&c(e)}}}function ks(i){let e,t;return e=new ht({props:{class:"!w-80"}}),{c(){re(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p:U,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function ys(i){let e,t,l,n;const a=[us,os],r=[];function o(s,u){return s[24]?0:1}return t=o(i),l=r[t]=a[t](i),{c(){e=y("div"),l.c(),this.h()},l(s){e=I(s,"DIV",{class:!0});var u=_(e);l.l(u),u.forEach(c),this.h()},h(){v(e,"class","flex w-full flex-row gap-x-4 p-2")},m(s,u){D(s,e,u),r[t].m(e,null),n=!0},p(s,u){let f=t;t=o(s),t===f?r[t].p(s,u):(Ie(),p(r[f],1,1,()=>{r[f]=null}),Ee(),l=r[t],l?l.p(s,u):(l=r[t]=a[t](s),l.c()),w(l,1),l.m(e,null))},i(s){n||(w(l),n=!0)},o(s){p(l),n=!1},d(s){s&&c(e),r[t].d()}}}function Is(i,e,t){let l,n,a,r,o,s,u,f,d,h,g,O,N,R,C,V,k,S,E,z,ie,X,he,fe=U,me=()=>(fe(),fe=Xe(f,W=>t(39,he=W)),f),P,A,B,j=U,H=()=>(j(),j=Xe(N,W=>t(40,B=W)),N),Q,ee=U,ve=()=>(ee(),ee=Xe(d,W=>t(41,Q=W)),d);i.$$.on_destroy.push(()=>fe()),i.$$.on_destroy.push(()=>j()),i.$$.on_destroy.push(()=>ee());let{mediaPath:ne}=e,{row:Me=void 0}=e,{field:F}=e,{highlightedFields:J}=e,{rootPath:b=void 0}=e,{showPath:M=void 0}=e,{isFetching:K=void 0}=e,Y=!1,Te=!1,pe;const L=dt();We(i,L,W=>t(8,P=W));const ke=Zi();We(i,ke,W=>t(49,A=W));function ce(W){return W.map((Ne,qe)=>Ne===ut?b[qe]:Ne)}function we(W){L.addCompareColumn([b,W.detail.id])}function Pe(W){var qe;let Ne=k[0];if(((qe=he.data)==null?void 0:qe.preferred_embedding)!=null){const je=he.data.preferred_embedding;k.some(Z=>Z===je)&&(Ne=je)}if(A.embedding!=null){const je=A.embedding;k.some(Z=>Z===je)&&(Ne=je)}L.addSearch({path:F.path,type:"semantic",query:W,query_type:"document",embedding:Ne})}let _e=null;function ye(){L.removeCompareColumn(ne)}const Fe=()=>Pe(u),q=()=>t(6,pe=!X),T=()=>ye(),be=()=>wi(L,P.showMetadataPanel=!P.showMetadataPanel,P),He=()=>t(10,Te=!Te);function Le(W){Y=W,t(9,Y)}function Ue(W){Y=W,t(9,Y)}return i.$$set=W=>{"mediaPath"in W&&t(1,ne=W.mediaPath),"row"in W&&t(2,Me=W.row),"field"in W&&t(3,F=W.field),"highlightedFields"in W&&t(4,J=W.highlightedFields),"rootPath"in W&&t(0,b=W.rootPath),"showPath"in W&&t(30,M=W.showPath),"isFetching"in W&&t(5,K=W.isFetching)},i.$$.update=()=>{var W,Ne,qe,je,Z,Be,xe,tt;if(i.$$.dirty[0]&2&&t(38,l=ne.findIndex(Oe=>Oe===ut)),i.$$.dirty[0]&3|i.$$.dirty[1]&128&&b==null&&(l!=-1?t(0,b=ne.slice(0,l+1)):t(0,b=ne)),i.$$.dirty[0]&5&&t(36,n=Me!=null?ft(Me,b):[]),i.$$.dirty[0]&3|i.$$.dirty[1]&32&&t(24,a=Ht(ne,b)&&n.length===1),i.$$.dirty[0]&2|i.$$.dirty[1]&32&&t(23,r=n.map(Oe=>{const Qe=lt.path(Oe),nt=ne.findIndex((Ot,hi)=>Ot===ut&&hi>=Qe.length),mt=ne.slice(nt).filter(Ot=>Ot!==ut);return{rootPath:[...Qe,...ne.slice(Qe.length,nt===-1?void 0:nt)],showPath:mt}})),i.$$.dirty[0]&1073741825&&t(37,o=M??b),i.$$.dirty[1]&64&&t(22,s=ot(o)),i.$$.dirty[1]&32&&t(21,u=lt.value(n[0])),i.$$.dirty[0]&256&&me(t(20,f=Jl(P.namespace,P.datasetName))),i.$$.dirty[0]&256&&ve(t(19,d=Di(P.namespace,P.datasetName))),i.$$.dirty[1]&1024&&t(35,h=(Ne=(W=Q.data)==null?void 0:W.dataset_manifest.dataset_format)==null?void 0:Ne.title_slots),i.$$.dirty[0]&1|i.$$.dirty[1]&16&&t(34,g=(qe=(h||[]).find(Oe=>{const[Qe]=Oe;return $e(Qe,b)}))==null?void 0:qe[1]),i.$$.dirty[0]&4|i.$$.dirty[1]&8&&t(18,O=g!=null&&Me!=null?lt.value(ft(Me,ce(g))[0]):null),i.$$.dirty[0]&256&&H(t(17,N=Tt(P.namespace,P.datasetName))),i.$$.dirty[1]&512&&t(33,R=B.data!=null?xl(B.data).filter(Oe=>{var Qe;return((Qe=Oe.dtype)==null?void 0:Qe.type)==="string"}):[]),i.$$.dirty[0]&5|i.$$.dirty[1]&4&&t(32,C=R.map(Oe=>Oe.path).map(Oe=>Array.isArray(Oe)?Oe:[Oe]).flatMap(Oe=>Me==null?[]:ft(Me,Oe).map(Qe=>lt.path(Qe)).filter(Qe=>!Ht(Qe,b)))),i.$$.dirty[1]&2&&t(16,V=C.map(Oe=>({id:Oe,text:ot(Oe)}))),i.$$.dirty[0]&2|i.$$.dirty[1]&512&&t(7,k=Ci(B.data,ne)),i.$$.dirty[0]&128&&t(15,S=k.length===0),i.$$.dirty[0]&24&&t(14,E=Si(F,J)),i.$$.dirty[0]&257){t(11,_e=null);for(const Oe of P.compareColumns)if($e(Oe.column,b)){t(11,_e=Oe);break}}i.$$.dirty[0]&2|i.$$.dirty[1]&256&&t(31,z=((Be=(Z=(je=he.data)==null?void 0:je.ui)==null?void 0:Z.markdown_paths)==null?void 0:Be.find(Oe=>$e(Oe,ne)))!=null),i.$$.dirty[1]&256&&t(13,ie=((tt=(xe=he.data)==null?void 0:xe.ui)==null?void 0:tt.view_type)||"single_item"),i.$$.dirty[0]&64|i.$$.dirty[1]&1&&t(12,X=pe!==void 0?pe:z)},[b,ne,Me,F,J,K,pe,k,P,Y,Te,_e,X,ie,E,S,V,N,O,d,f,u,s,r,a,L,ke,we,Pe,ye,M,z,C,R,g,h,n,o,l,he,B,Q,Fe,q,T,be,He,Le,Ue]}class di extends Ae{constructor(e){super(),Re(this,e,Is,ys,ze,{mediaPath:1,row:2,field:3,highlightedFields:4,rootPath:0,showPath:30,isFetching:5},null,[-1,-1])}}function Es(i){let e,t,l,n;return{c(){e=y("button"),t=te(i[1]),this.h()},l(a){e=I(a,"BUTTON",{class:!0});var r=_(e);t=le(r,i[1]),r.forEach(c),this.h()},h(){e.disabled=i[2],v(e,"class","rounded-lg border border-gray-300 hover:border-gray-500"),G(e,"bg-slate-500",i[0]),G(e,"bg-white",!i[0]),G(e,"hover:bg-slate-500",i[0]),G(e,"hover:bg-transparent",!i[0]),G(e,"text-white",i[0])},m(a,r){D(a,e,r),m(e,t),l||(n=Ze(e,"click",i[3]),l=!0)},p(a,[r]){r&2&&Ve(t,a[1]),r&4&&(e.disabled=a[2]),r&1&&G(e,"bg-slate-500",a[0]),r&1&&G(e,"bg-white",!a[0]),r&1&&G(e,"hover:bg-slate-500",a[0]),r&1&&G(e,"hover:bg-transparent",!a[0]),r&1&&G(e,"text-white",a[0])},i:U,o:U,d(a){a&&c(e),l=!1,n()}}}function Ms(i,e,t){let{label:l}=e,{active:n}=e,{disabled:a=!1}=e;function r(o){Zl.call(this,i,o)}return i.$$set=o=>{"label"in o&&t(1,l=o.label),"active"in o&&t(0,n=o.active),"disabled"in o&&t(2,a=o.disabled)},i.$$.update=()=>{i.$$.dirty&5&&t(0,n=n&&!a)},[n,l,a,r]}class Vs extends Ae{constructor(e){super(),Re(this,e,Ms,Es,ze,{label:1,active:0,disabled:2})}}function Ts(i){var o;let e,t,l,n=((o=i[0])==null?void 0:o.toLocaleString())+"",a,r;return{c(){e=y("p"),t=te("Restore "),l=y("span"),a=te(n),r=te(`
    rows?`),this.h()},l(s){e=I(s,"P",{});var u=_(e);t=le(u,"Restore "),l=I(u,"SPAN",{class:!0});var f=_(l);a=le(f,n),f.forEach(c),r=le(u,`
    rows?`),u.forEach(c),this.h()},h(){v(l,"class","font-mono font-bold")},m(s,u){D(s,e,u),m(e,t),m(e,l),m(l,a),m(e,r)},p(s,u){var f;u&1&&n!==(n=((f=s[0])==null?void 0:f.toLocaleString())+"")&&Ve(a,n)},d(s){s&&c(e)}}}function Ps(i){let e,t,l,n,a,r,o,s,u,f;return l=new ri({}),o=new Lt({props:{size:"xs",open:i[2]&&i[3],modalHeading:"Restore rows",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[Ts]},$$scope:{ctx:i}}}),o.$on("submit",i[12]),o.$on("click:button--secondary",i[13]),o.$on("close",i[14]),{c(){e=y("div"),t=y("button"),re(l.$$.fragment),r=oe(),re(o.$$.fragment),this.h()},l(d){e=I(d,"DIV",{class:!0});var h=_(e);t=I(h,"BUTTON",{class:!0});var g=_(t);de(l.$$.fragment,g),g.forEach(c),h.forEach(c),r=ue(d),de(o.$$.fragment,d),this.h()},h(){t.disabled=n=!i[3],v(t,"class","rounded border border-gray-300 bg-white hover:border-gray-500 hover:bg-transparent"),G(t,"opacity-30",!i[3]),v(e,"class","ml-2 inline-block")},m(d,h){D(d,e,h),m(e,t),se(l,t,null),D(d,r,h),se(o,d,h),s=!0,u||(f=[Ze(t,"click",i[11]),Ye(a=Ke.call(null,e,{text:i[3]?i[1]!=null&&i[1].length===1?"Restore deleted row":"Restore deleted rows":"User does not have access to restore rows."}))],u=!0)},p(d,[h]){(!s||h&8&&n!==(n=!d[3]))&&(t.disabled=n),(!s||h&8)&&G(t,"opacity-30",!d[3]),a&&et(a.update)&&h&10&&a.update.call(null,{text:d[3]?d[1]!=null&&d[1].length===1?"Restore deleted row":"Restore deleted rows":"User does not have access to restore rows."});const g={};h&12&&(g.open=d[2]&&d[3]),h&262145&&(g.$$scope={dirty:h,ctx:d}),o.$set(g)},i(d){s||(w(l.$$.fragment,d),w(o.$$.fragment,d),s=!0)},o(d){p(l.$$.fragment,d),p(o.$$.fragment,d),s=!1},d(d){d&&c(e),ae(l),d&&c(r),ae(o,d),u=!1,it(f)}}}function Os(i,e,t){let l,n,a,r,{rowIds:o=void 0}=e,{searches:s=void 0}=e,{filters:u=void 0}=e,{numRows:f=void 0}=e;const d=Vt();We(i,d,E=>t(10,r=E));const h=Et(),g=dt();We(i,g,E=>t(15,n=E));const O=Ri();We(i,O,E=>t(16,a=E));function N(){a.mutate([n.namespace,n.datasetName,{row_ids:o,searches:s,filters:u}],{onSuccess:()=>{h("restore"),t(2,R=!1),close()}})}let R=!1;const C=()=>{t(2,R=!0)},V=()=>N(),k=()=>{t(2,R=!1)},S=()=>t(2,R=!1);return i.$$set=E=>{"rowIds"in E&&t(1,o=E.rowIds),"searches"in E&&t(8,s=E.searches),"filters"in E&&t(9,u=E.filters),"numRows"in E&&t(0,f=E.numRows)},i.$$.update=()=>{var E;i.$$.dirty&1024&&t(3,l=(E=r.data)==null?void 0:E.access.dataset.delete_rows),i.$$.dirty&3&&f==null&&o!=null&&t(0,f=o.length)},[f,o,R,l,d,g,O,N,s,u,r,C,V,k,S]}class Ds extends Ae{constructor(e){super(),Re(this,e,Os,Ps,ze,{rowIds:1,searches:8,filters:9,numRows:0})}}function Il(i,e,t){const l=i.slice();return l[49]=e[t],l}function At(i){const e=i.slice(),t=e[3]!=null&&e[3]<e[4]-1;return e[52]=t,e}function Rt(i){const e=i.slice(),t=e[3]!=null&&e[3]>0;return e[53]=t,e}function El(i,e,t){const l=i.slice();return l[54]=e[t],l}function Ml(i){let e,t,l,n,a,r;function o(){return i[38](i[54])}return t=new Vs({props:{label:i[54],disabled:i[12].has(i[54])||i[18],active:i[14].includes(i[54])}}),t.$on("click",o),{c(){e=y("div"),re(t.$$.fragment),this.h()},l(s){e=I(s,"DIV",{});var u=_(e);de(t.$$.fragment,u),u.forEach(c),this.h()},h(){G(e,"opacity-50",i[12].has(i[54]))},m(s,u){D(s,e,u),se(t,e,null),n=!0,a||(r=Ye(l=Ke.call(null,e,{text:i[15][i[54]]!=null?`Keyboard: ${i[15][i[54]]}`:""})),a=!0)},p(s,u){i=s;const f={};u[0]&131072&&(f.label=i[54]),u[0]&397312&&(f.disabled=i[12].has(i[54])||i[18]),u[0]&147456&&(f.active=i[14].includes(i[54])),t.$set(f),l&&et(l.update)&&u[0]&163840&&l.update.call(null,{text:i[15][i[54]]!=null?`Keyboard: ${i[15][i[54]]}`:""}),(!n||u[0]&135168)&&G(e,"opacity-50",i[12].has(i[54]))},i(s){n||(w(t.$$.fragment,s),n=!0)},o(s){p(t.$$.fragment,s),n=!1},d(s){s&&c(e),ae(t),a=!1,r()}}}function Vl(i){let e,t,l,n,a,r,o;return l=new bn({props:{title:"Previous item",size:24}}),{c(){e=y("div"),t=y("button"),re(l.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var u=_(e);t=I(u,"BUTTON",{});var f=_(t);de(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){t.disabled=n=!i[53],G(t,"opacity-30",!i[53]),v(e,"class","flex-0 my-0.5")},m(s,u){D(s,e,u),m(e,t),se(l,t,null),a=!0,r||(o=Ze(t,"click",i[39]),r=!0)},p(s,u){(!a||u[0]&8&&n!==(n=!s[53]))&&(t.disabled=n),(!a||u[0]&8)&&G(t,"opacity-30",!s[53])},i(s){a||(w(l.$$.fragment,s),a=!0)},o(s){p(l.$$.fragment,s),a=!1},d(s){s&&c(e),ae(l),r=!1,o()}}}function Cs(i){let e,t,l;return t=new ht({props:{lines:1,class:"!w-10"}}),{c(){e=y("div"),re(t.$$.fragment),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=_(e);de(t.$$.fragment,a),a.forEach(c),this.h()},h(){v(e,"class","pt-1.5")},m(n,a){D(n,e,a),se(t,e,null),l=!0},p:U,i(n){l||(w(t.$$.fragment,n),l=!0)},o(n){p(t.$$.fragment,n),l=!1},d(n){n&&c(e),ae(t)}}}function Ss(i){let e=i[3]+1+"",t;return{c(){t=te(e)},l(l){t=le(l,e)},m(l,n){D(l,t,n)},p(l,n){n[0]&8&&e!==(e=l[3]+1+"")&&Ve(t,e)},i:U,o:U,d(l){l&&c(t)}}}function As(i){let e,t,l;return t=new ht({props:{lines:1,class:"!w-20"}}),{c(){e=y("div"),re(t.$$.fragment),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=_(e);de(t.$$.fragment,a),a.forEach(c),this.h()},h(){v(e,"class","pt-1.5")},m(n,a){D(n,e,a),se(t,e,null),l=!0},p:U,i(n){l||(w(t.$$.fragment,n),l=!0)},o(n){p(t.$$.fragment,n),l=!1},d(n){n&&c(e),ae(t)}}}function Rs(i){let e=yt(i[4])+"",t;return{c(){t=te(e)},l(l){t=le(l,e)},m(l,n){D(l,t,n)},p(l,n){n[0]&16&&e!==(e=yt(l[4])+"")&&Ve(t,e)},i:U,o:U,d(l){l&&c(t)}}}function Tl(i){let e,t,l,n,a,r,o;return l=new pn({props:{title:"Next item",size:24}}),{c(){e=y("div"),t=y("button"),re(l.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var u=_(e);t=I(u,"BUTTON",{});var f=_(t);de(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){t.disabled=n=!i[52],G(t,"opacity-30",!i[52]),v(e,"class","flex-0")},m(s,u){D(s,e,u),m(e,t),se(l,t,null),a=!0,r||(o=Ze(t,"click",i[40]),r=!0)},p(s,u){(!a||u[0]&24&&n!==(n=!s[52]))&&(t.disabled=n),(!a||u[0]&24)&&G(t,"opacity-30",!s[52])},i(s){a||(w(l.$$.fragment,s),a=!0)},o(s){p(l.$$.fragment,s),a=!1},d(s){s&&c(e),ae(l),r=!1,o()}}}function Pl(i){let e,t,l,n;const a=[Ls,zs],r=[];function o(s,u){return s[10].viewTrash?1:0}return e=o(i),t=r[e]=a[e](i),{c(){t.c(),l=Je()},l(s){t.l(s),l=Je()},m(s,u){r[e].m(s,u),D(s,l,u),n=!0},p(s,u){let f=e;e=o(s),e===f?r[e].p(s,u):(Ie(),p(r[f],1,1,()=>{r[f]=null}),Ee(),t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),w(t,1),t.m(l.parentNode,l))},i(s){n||(w(t),n=!0)},o(s){p(t),n=!1},d(s){r[e].d(s),s&&c(l)}}}function zs(i){let e,t;return e=new Ds({props:{rowIds:[i[0]]}}),e.$on("restore",i[43]),{c(){re(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p(l,n){const a={};n[0]&1&&(a.rowIds=[l[0]]),e.$set(a)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Ls(i){let e,t,l;function n(r){i[41](r)}let a={rowIds:[i[0]]};return i[11]!==void 0&&(a.modalOpen=i[11]),e=new Gn({props:a}),st.push(()=>bt(e,"modalOpen",n)),e.$on("deleted",i[42]),{c(){re(e.$$.fragment)},l(r){de(e.$$.fragment,r)},m(r,o){se(e,r,o),l=!0},p(r,o){const s={};o[0]&1&&(s.rowIds=[r[0]]),!t&&o[0]&2048&&(t=!0,s.modalOpen=r[11],vt(()=>t=!1)),e.$set(s)},i(r){l||(w(e.$$.fragment,r),l=!0)},o(r){p(e.$$.fragment,r),l=!1},d(r){ae(e,r)}}}function Ol(i){let e,t;return e=new ht({props:{class:"w-20"}}),{c(){re(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Dl(i){let e=[],t=new Map,l,n,a=i[1];const r=o=>at(o[49].path);for(let o=0;o<a.length;o+=1){let s=Il(i,a,o),u=r(s);t.set(u,e[o]=Cl(u,s))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=Je()},l(o){for(let s=0;s<e.length;s+=1)e[s].l(o);l=Je()},m(o,s){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,s);D(o,l,s),n=!0},p(o,s){s[0]&390&&(a=o[1],Ie(),e=ki(e,s,r,1,o,a,t,l.parentNode,yi,Cl,l,Il),Ee())},i(o){if(!n){for(let s=0;s<a.length;s+=1)w(e[s]);n=!0}},o(o){for(let s=0;s<e.length;s+=1)p(e[s]);n=!1},d(o){for(let s=0;s<e.length;s+=1)e[s].d(o);o&&c(l)}}}function Cl(i,e){var r;let t,l,n,a;return l=new di({props:{mediaPath:e[49].path,row:e[7],field:e[49],highlightedFields:e[2],isFetching:(r=e[8])==null?void 0:r.isFetching}}),{key:i,first:null,c(){t=y("div"),re(l.$$.fragment),n=oe(),this.h()},l(o){t=I(o,"DIV",{class:!0});var s=_(t);de(l.$$.fragment,s),n=ue(s),s.forEach(c),this.h()},h(){v(t,"class","flex w-full flex-col"),this.first=t},m(o,s){D(o,t,s),se(l,t,null),m(t,n),a=!0},p(o,s){var f;e=o;const u={};s[0]&2&&(u.mediaPath=e[49].path),s[0]&128&&(u.row=e[7]),s[0]&2&&(u.field=e[49]),s[0]&4&&(u.highlightedFields=e[2]),s[0]&256&&(u.isFetching=(f=e[8])==null?void 0:f.isFetching),l.$set(u)},i(o){a||(w(l.$$.fragment,o),a=!0)},o(o){p(l.$$.fragment,o),a=!1},d(o){o&&c(t),ae(l)}}}function Sl(i){let e,t,l,n,a,r,o;return n=new en({props:{row:i[7],selectRowsSchema:i[9].data,highlightedFields:i[2]}}),{c(){e=y("div"),t=y("div"),l=y("div"),re(n.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var u=_(e);t=I(u,"DIV",{class:!0});var f=_(t);l=I(f,"DIV",{style:!0,class:!0});var d=_(l);de(n.$$.fragment,d),d.forEach(c),f.forEach(c),u.forEach(c),this.h()},h(){v(l,"style",a=`max-height: ${Math.max(Al,i[13])}px`),v(l,"class","overflow-y-auto"),v(t,"class","sticky top-0 w-full self-start"),v(e,"class","flex h-full bg-neutral-100 md:w-1/3")},m(s,u){D(s,e,u),m(e,t),m(t,l),se(n,l,null),o=!0},p(s,u){i=s;const f={};u[0]&128&&(f.row=i[7]),u[0]&512&&(f.selectRowsSchema=i[9].data),u[0]&4&&(f.highlightedFields=i[2]),n.$set(f),(!o||u[0]&8192&&a!==(a=`max-height: ${Math.max(Al,i[13])}px`))&&v(l,"style",a)},i(s){o||(w(n.$$.fragment,s),Ql(()=>{o&&(r||(r=Bt(e,qt,{axis:"x",duration:Ft},!0)),r.run(1))}),o=!0)},o(s){p(n.$$.fragment,s),r||(r=Bt(e,qt,{axis:"x",duration:Ft},!1)),r.run(0),o=!1},d(s){s&&c(e),ae(n),s&&r&&r.end()}}}function Ns(i){var Fe;let e,t,l,n,a,r,o,s,u,f,d,h,g,O,N,R,C,V,k,S,E,z,ie,X,he,fe,me,P,A,B,j,H,Q,ee,ve,ne,Me,F=i[17]||[],J=[];for(let q=0;q<F.length;q+=1)J[q]=Ml(El(i,F,q));const b=q=>p(J[q],1,1,()=>{J[q]=null});s=new hr({props:{icon:ni,labelsQuery:{row_ids:i[0]!=null?[i[0]]:[]},hideLabels:i[14]}});let M=i[5]!=null&&Vl(Rt(i));const K=[Ss,Cs],Y=[];function Te(q,T){return q[3]!=null&&q[3]>=0?0:1}N=Te(i),R=Y[N]=K[N](i);const pe=[Rs,As],L=[];function ke(q,T){return q[4]!=null?0:1}z=ke(i),ie=L[z]=pe[z](i);let ce=i[5]!=null&&i[4]!=null&&Tl(At(i)),we=i[0]!=null&&Pl(i),Pe=((Fe=i[8])==null?void 0:Fe.isFetching)&&Ol(),_e=i[1].length>0&&Dl(i),ye=i[10].showMetadataPanel&&Sl(i);return{c(){e=y("div"),t=y("div"),l=y("div"),n=y("div"),a=y("div");for(let q=0;q<J.length;q+=1)J[q].c();r=oe(),o=y("div"),re(s.$$.fragment),u=oe(),f=y("div"),d=y("div"),M&&M.c(),h=oe(),g=y("div"),O=y("div"),R.c(),C=oe(),V=y("div"),k=te("of"),S=oe(),E=y("span"),ie.c(),X=oe(),ce&&ce.c(),he=oe(),fe=y("div"),we&&we.c(),me=oe(),P=y("div"),A=y("div"),B=y("div"),Pe&&Pe.c(),j=oe(),_e&&_e.c(),ee=oe(),ye&&ye.c(),this.h()},l(q){e=I(q,"DIV",{class:!0});var T=_(e);t=I(T,"DIV",{class:!0});var be=_(t);l=I(be,"DIV",{class:!0});var He=_(l);n=I(He,"DIV",{class:!0});var Le=_(n);a=I(Le,"DIV",{class:!0});var Ue=_(a);for(let mt=0;mt<J.length;mt+=1)J[mt].l(Ue);r=ue(Ue),o=I(Ue,"DIV",{class:!0});var W=_(o);de(s.$$.fragment,W),W.forEach(c),Ue.forEach(c),Le.forEach(c),u=ue(He),f=I(He,"DIV",{class:!0});var Ne=_(f);d=I(Ne,"DIV",{class:!0});var qe=_(d);M&&M.l(qe),h=ue(qe),g=I(qe,"DIV",{class:!0});var je=_(g);O=I(je,"DIV",{class:!0});var Z=_(O);R.l(Z),Z.forEach(c),C=ue(je),V=I(je,"DIV",{class:!0});var Be=_(V);k=le(Be,"of"),Be.forEach(c),S=ue(je),E=I(je,"SPAN",{class:!0});var xe=_(E);ie.l(xe),xe.forEach(c),je.forEach(c),X=ue(qe),ce&&ce.l(qe),qe.forEach(c),Ne.forEach(c),he=ue(He),fe=I(He,"DIV",{class:!0});var tt=_(fe);we&&we.l(tt),tt.forEach(c),He.forEach(c),be.forEach(c),me=ue(T),P=I(T,"DIV",{class:!0});var Oe=_(P);A=I(Oe,"DIV",{class:!0});var Qe=_(A);B=I(Qe,"DIV",{class:!0});var nt=_(B);Pe&&Pe.l(nt),j=ue(nt),_e&&_e.l(nt),nt.forEach(c),Qe.forEach(c),ee=ue(Oe),ye&&ye.l(Oe),Oe.forEach(c),T.forEach(c),this.h()},h(){v(o,"class","relative mr-8 h-8"),v(a,"class","flex w-full flex-row flex-wrap items-center gap-x-2 gap-y-2 pl-2"),G(a,"opacity-50",i[18]),v(n,"class","flex w-1/3 flex-row"),v(O,"class","flex"),v(V,"class","text-gray-500 opacity-80"),v(E,"class","inline-flex text-gray-500 opacity-80"),v(g,"class","mx-2 flex w-32 flex-row justify-center justify-items-center gap-x-1.5"),v(d,"class","flex w-full flex-row items-center justify-center truncate text-center text-lg"),v(f,"class","w-1/3 items-center justify-items-center self-center justify-self-center"),v(fe,"class","flex w-1/3 flex-row items-center justify-end pr-2"),v(l,"class","mx-4 flex w-full rounded-t-lg border border-neutral-300 bg-violet-200 bg-opacity-70 py-2"),G(l,"bg-violet-200",!i[10].viewTrash),G(l,"bg-opacity-70",!i[10].viewTrash),G(l,"bg-red-500",i[10].viewTrash),G(l,"bg-opacity-20",i[10].viewTrash),v(t,"class","sticky top-0 z-10 flex w-full flex-row justify-between bg-white"),v(B,"class","rounded-b border-b border-l border-r border-neutral-300"),v(A,"class",H=`flex flex-col ${i[10].showMetadataPanel?"w-2/3":"grow "}`),Ql(()=>i[44].call(A)),v(P,"class","flex w-full flex-row px-4"),v(e,"class","relative flex w-full flex-col rounded md:flex-col")},m(q,T){D(q,e,T),m(e,t),m(t,l),m(l,n),m(n,a);for(let be=0;be<J.length;be+=1)J[be]&&J[be].m(a,null);m(a,r),m(a,o),se(s,o,null),m(l,u),m(l,f),m(f,d),M&&M.m(d,null),m(d,h),m(d,g),m(g,O),Y[N].m(O,null),m(g,C),m(g,V),m(V,k),m(g,S),m(g,E),L[z].m(E,null),m(d,X),ce&&ce.m(d,null),m(l,he),m(l,fe),we&&we.m(fe,null),m(e,me),m(e,P),m(P,A),m(A,B),Pe&&Pe.m(B,null),m(B,j),_e&&_e.m(B,null),Q=pi(A,i[44].bind(A)),m(P,ee),ye&&ye.m(P,null),ve=!0,ne||(Me=Ze(window,"keydown",i[28]),ne=!0)},p(q,T){var Ue;if(T[0]&201773056){F=q[17]||[];let W;for(W=0;W<F.length;W+=1){const Ne=El(q,F,W);J[W]?(J[W].p(Ne,T),w(J[W],1)):(J[W]=Ml(Ne),J[W].c(),w(J[W],1),J[W].m(a,r))}for(Ie(),W=F.length;W<J.length;W+=1)b(W);Ee()}const be={};T[0]&1&&(be.labelsQuery={row_ids:q[0]!=null?[q[0]]:[]}),T[0]&16384&&(be.hideLabels=q[14]),s.$set(be),(!ve||T[0]&262144)&&G(a,"opacity-50",q[18]),q[5]!=null?M?(M.p(Rt(q),T),T[0]&32&&w(M,1)):(M=Vl(Rt(q)),M.c(),w(M,1),M.m(d,h)):M&&(Ie(),p(M,1,1,()=>{M=null}),Ee());let He=N;N=Te(q),N===He?Y[N].p(q,T):(Ie(),p(Y[He],1,1,()=>{Y[He]=null}),Ee(),R=Y[N],R?R.p(q,T):(R=Y[N]=K[N](q),R.c()),w(R,1),R.m(O,null));let Le=z;z=ke(q),z===Le?L[z].p(q,T):(Ie(),p(L[Le],1,1,()=>{L[Le]=null}),Ee(),ie=L[z],ie?ie.p(q,T):(ie=L[z]=pe[z](q),ie.c()),w(ie,1),ie.m(E,null)),q[5]!=null&&q[4]!=null?ce?(ce.p(At(q),T),T[0]&48&&w(ce,1)):(ce=Tl(At(q)),ce.c(),w(ce,1),ce.m(d,null)):ce&&(Ie(),p(ce,1,1,()=>{ce=null}),Ee()),q[0]!=null?we?(we.p(q,T),T[0]&1&&w(we,1)):(we=Pl(q),we.c(),w(we,1),we.m(fe,null)):we&&(Ie(),p(we,1,1,()=>{we=null}),Ee()),(!ve||T[0]&1024)&&G(l,"bg-violet-200",!q[10].viewTrash),(!ve||T[0]&1024)&&G(l,"bg-opacity-70",!q[10].viewTrash),(!ve||T[0]&1024)&&G(l,"bg-red-500",q[10].viewTrash),(!ve||T[0]&1024)&&G(l,"bg-opacity-20",q[10].viewTrash),(Ue=q[8])!=null&&Ue.isFetching?Pe?T[0]&256&&w(Pe,1):(Pe=Ol(),Pe.c(),w(Pe,1),Pe.m(B,j)):Pe&&(Ie(),p(Pe,1,1,()=>{Pe=null}),Ee()),q[1].length>0?_e?(_e.p(q,T),T[0]&2&&w(_e,1)):(_e=Dl(q),_e.c(),w(_e,1),_e.m(B,null)):_e&&(Ie(),p(_e,1,1,()=>{_e=null}),Ee()),(!ve||T[0]&1024&&H!==(H=`flex flex-col ${q[10].showMetadataPanel?"w-2/3":"grow "}`))&&v(A,"class",H),q[10].showMetadataPanel?ye?(ye.p(q,T),T[0]&1024&&w(ye,1)):(ye=Sl(q),ye.c(),w(ye,1),ye.m(P,null)):ye&&(Ie(),p(ye,1,1,()=>{ye=null}),Ee())},i(q){if(!ve){for(let T=0;T<F.length;T+=1)w(J[T]);w(s.$$.fragment,q),w(M),w(R),w(ie),w(ce),w(we),w(Pe),w(_e),w(ye),ve=!0}},o(q){J=J.filter(Boolean);for(let T=0;T<J.length;T+=1)p(J[T]);p(s.$$.fragment,q),p(M),p(R),p(ie),p(ce),p(we),p(Pe),p(_e),p(ye),ve=!1},d(q){q&&c(e),Mt(J,q),ae(s),M&&M.d(),Y[N].d(),L[z].d(),ce&&ce.d(),we&&we.d(),Pe&&Pe.d(),_e&&_e.d(),Q(),ye&&ye.d(),ne=!1,Me()}}}const Al=165;function Bs(i,e,t){let l,n,a,r,o,s,u,f,d,h,g,O,N,R,C,V,k,S,E=U,z=()=>(E(),E=Xe(a,Z=>t(35,S=Z)),a),ie,X=U,he=()=>(X(),X=Xe(f,Z=>t(46,ie=Z)),f),fe,me=U,P=()=>(me(),me=Xe(C,Z=>t(47,fe=Z)),C),A,B=U,j=()=>(B(),B=Xe(h,Z=>t(8,A=Z)),h),H,Q=U,ee=()=>(Q(),Q=Xe(s,Z=>t(36,H=Z)),s),ve,ne=U,Me=()=>(ne(),ne=Xe(u,Z=>t(9,ve=Z)),u),F,J;i.$$.on_destroy.push(()=>E()),i.$$.on_destroy.push(()=>X()),i.$$.on_destroy.push(()=>me()),i.$$.on_destroy.push(()=>B()),i.$$.on_destroy.push(()=>Q()),i.$$.on_destroy.push(()=>ne());let{rowId:b}=e,{mediaFields:M}=e,{highlightedFields:K}=e,{index:Y=void 0}=e,{totalNumRows:Te=void 0}=e,{updateSequentialRowId:pe=void 0}=e,{nextRowId:L=void 0}=e,{settingsOpen:ke=!1}=e,ce=!1;const we=dt();We(i,we,Z=>t(10,F=Z));const Pe=ii(),_e=Vt();We(i,_e,Z=>t(37,J=Z));let ye=new Set,Fe=0;function q(Z){if(b==null||!o)return;const Be={row_ids:[b],label_name:Z};ye.add(Z),t(12,ye),t(33,V),t(8,A),fe.mutate([l,n,Be],{onSuccess:xe=>{if(xe===1)return;const tt=Be.row_ids!=null?`Document id: ${Be.row_ids}`:`${xe.toLocaleString()} rows labeled`;Pe.addNotification({kind:"success",title:`Added label "${Be.label_name}"`,message:tt})}})}function T(Z){if(b==null||!o)return;const Be={label_name:Z,row_ids:[b]};ye.add(Z),t(12,ye),t(33,V),t(8,A),ie.mutate([l,n,Be],{onSuccess:xe=>{xe!==1&&Pe.addNotification({kind:"success",title:`Removed label "${Be.label_name}"`,message:`Document id: ${b}`})}})}function be(Z){if(!(r!=="single_item"||ke))if(Z.code==="Delete"||Z.code==="Backspace")t(11,ce=!0);else for(const Be of Object.keys(k))k[Be]===Z.code&&(O.includes(Be)?T(Be):q(Be))}const He=Z=>{O.includes(Z)?T(Z):q(Z)},Le=()=>pe!=null?pe("previous"):null,Ue=()=>pe!=null?pe("next"):null;function W(Z){ce=Z,t(11,ce)}const Ne=()=>L!=null?we.setRowId(L):null,qe=()=>L!=null?we.setRowId(L):null;function je(){Fe=this.clientHeight,t(13,Fe)}return i.$$set=Z=>{"rowId"in Z&&t(0,b=Z.rowId),"mediaFields"in Z&&t(1,M=Z.mediaFields),"highlightedFields"in Z&&t(2,K=Z.highlightedFields),"index"in Z&&t(3,Y=Z.index),"totalNumRows"in Z&&t(4,Te=Z.totalNumRows),"updateSequentialRowId"in Z&&t(5,pe=Z.updateSequentialRowId),"nextRowId"in Z&&t(6,L=Z.nextRowId),"settingsOpen"in Z&&t(29,ke=Z.settingsOpen)},i.$$.update=()=>{var Z,Be,xe,tt,Oe;i.$$.dirty[0]&1024&&t(31,l=F.namespace),i.$$.dirty[0]&1024&&t(30,n=F.datasetName),i.$$.dirty[0]&1073741824|i.$$.dirty[1]&1&&z(t(23,a=Jl(l,n))),i.$$.dirty[1]&16&&(r=((Be=(Z=S.data)==null?void 0:Z.ui)==null?void 0:Be.view_type)||"single_item"),i.$$.dirty[1]&64&&t(32,o=(xe=J.data)==null?void 0:xe.access.dataset.edit_labels),i.$$.dirty[0]&1073741824|i.$$.dirty[1]&1&&ee(t(22,s=Tt(l,n))),i.$$.dirty[0]&1073742848|i.$$.dirty[1]&1&&Me(t(21,u=zi(l,n,Li(F)))),i.$$.dirty[1]&32&&he(t(20,f=H.data!=null?Gl(H.data):null)),i.$$.dirty[0]&1024&&t(34,d=Ni(F)),i.$$.dirty[0]&1073742337|i.$$.dirty[1]&9&&j(t(19,h=b!=null&&ve.data!=null&&!ve.isFetching?Bi(l,n,b,d,ve.data.schema):null)),i.$$.dirty[0]&256&&t(7,g=A!=null&&!A.isFetching?A==null?void 0:A.data:null),i.$$.dirty[0]&128&&t(14,O=g!=null?Hi(g):[]),i.$$.dirty[1]&2&&t(18,N=!o),i.$$.dirty[1]&32&&t(17,R=H.data&&Xl(H.data)),i.$$.dirty[1]&32&&P(t(16,C=H.data!=null?Wl(H.data):null)),i.$$.dirty[0]&256&&t(33,V=A==null?void 0:A.isStale),i.$$.dirty[1]&4&&(V||t(12,ye=new Set)),i.$$.dirty[1]&16&&t(15,k=((Oe=(tt=S.data)==null?void 0:tt.ui)==null?void 0:Oe.label_to_keycode)||{})},[b,M,K,Y,Te,pe,L,g,A,ve,F,ce,ye,Fe,O,k,C,R,N,h,f,u,s,a,we,_e,q,T,be,ke,n,l,o,V,d,S,H,J,He,Le,Ue,W,Ne,qe,je]}class ca extends Ae{constructor(e){super(),Re(this,e,Bs,Ns,ze,{rowId:0,mediaFields:1,highlightedFields:2,index:3,totalNumRows:4,updateSequentialRowId:5,nextRowId:6,settingsOpen:29},null,[-1,-1])}}function Rl(i){let e,t,l;var n=i[2];function a(r){return{}}return n&&(t=ct(n,a())),{c(){e=y("div"),t&&re(t.$$.fragment),this.h()},l(r){e=I(r,"DIV",{class:!0});var o=_(e);t&&de(t.$$.fragment,o),o.forEach(c),this.h()},h(){v(e,"class","mr-2")},m(r,o){D(r,e,o),t&&se(t,e,null),l=!0},p(r,o){if(o&4&&n!==(n=r[2])){if(t){Ie();const s=t;p(s.$$.fragment,1,0,()=>{ae(s,1)}),Ee()}n?(t=ct(n,a()),re(t.$$.fragment),w(t.$$.fragment,1),se(t,e,null)):t=null}},i(r){l||(t&&w(t.$$.fragment,r),l=!0)},o(r){t&&p(t.$$.fragment,r),l=!1},d(r){r&&c(e),t&&ae(t)}}}function Hs(i){let e,t,l,n,a,r,o,s,u=i[2]!=null&&Rl(i);return{c(){e=y("button"),u&&u.c(),t=oe(),l=y("div"),n=te(i[1]),this.h()},l(f){e=I(f,"BUTTON",{class:!0});var d=_(e);u&&u.l(d),t=ue(d),l=I(d,"DIV",{class:!0});var h=_(l);n=le(h,i[1]),h.forEach(c),d.forEach(c),this.h()},h(){v(l,"class","text-sm"),v(e,"class","inline-flex items-center rounded-xl px-2 py-1 outline outline-1 outline-gray-500 focus:outline-1 svelte-1tlnk00"),G(e,"active",i[0])},m(f,d){D(f,e,d),u&&u.m(e,null),m(e,t),m(e,l),m(l,n),r=!0,o||(s=[Ze(e,"click",i[4]),Ye(a=Ke.call(null,e,{text:i[3]}))],o=!0)},p(f,[d]){f[2]!=null?u?(u.p(f,d),d&4&&w(u,1)):(u=Rl(f),u.c(),w(u,1),u.m(e,t)):u&&(Ie(),p(u,1,1,()=>{u=null}),Ee()),(!r||d&2)&&Ve(n,f[1]),a&&et(a.update)&&d&8&&a.update.call(null,{text:f[3]}),(!r||d&1)&&G(e,"active",f[0])},i(f){r||(w(u),r=!0)},o(f){p(u),r=!1},d(f){f&&c(e),u&&u.d(),o=!1,it(s)}}}function Fs(i,e,t){let{active:l=!1}=e,{label:n}=e,{icon:a=void 0}=e,{tooltip:r=void 0}=e;function o(s){Zl.call(this,i,s)}return i.$$set=s=>{"active"in s&&t(0,l=s.active),"label"in s&&t(1,n=s.label),"icon"in s&&t(2,a=s.icon),"tooltip"in s&&t(3,r=s.tooltip)},[l,n,a,r,o]}class zl extends Ae{constructor(e){super(),Re(this,e,Fs,Hs,ze,{active:0,label:1,icon:2,tooltip:3})}}function Ll(i,e,t){const l=i.slice();return l[26]=e[t],l}function Nl(i,e,t){const l=i.slice();l[29]=e[t],l[32]=t;const n=l[1].find(function(...r){return i[21](l[29],...r)});return l[30]=n,l}function zt(i){const e=i.slice(),t=$l(e[30]);e[33]=t;const l=ei(e[30]);e[34]=l;const n=e[32]===0;e[35]=n;const a=e[32]===e[0].ui.media_paths.length-1;return e[36]=a,e}function js(i){let e,t,l,n,a,r,o,s,u,f,d,h,g,O,N,R,C,V,k,S,E,z,ie,X,he,fe,me,P,A,B,j;const H=[Us,Ys],Q=[];function ee(F,J){var b;return((b=F[0].ui)==null?void 0:b.media_paths)!=null&&F[1]!=null?0:1}u=ee(i),f=Q[u]=H[u](i),C=new zl({props:{icon:jn,label:"Scroll",active:i[4]=="scroll",tooltip:"Infinite scroll with snippets"}}),C.$on("click",i[22]),k=new zl({props:{icon:zn,label:"Single Item",active:i[4]=="single_item",tooltip:"Individual item"}}),k.$on("click",i[23]);const ve=[Ws,Qs],ne=[];function Me(F,J){return F[6].isFetching?0:1}return A=Me(i),B=ne[A]=ve[A](i),{c(){e=y("div"),t=y("section"),l=y("div"),n=te("Media fields"),a=oe(),r=y("div"),o=te(`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),s=oe(),f.c(),d=oe(),h=y("section"),g=y("div"),O=te("View type"),N=oe(),R=y("div"),re(C.$$.fragment),V=oe(),re(k.$$.fragment),S=oe(),E=y("section"),z=y("div"),ie=te("Preferred embedding"),X=oe(),he=y("div"),fe=te("This embedding will be used by default when indexing and querying the data."),me=oe(),P=y("div"),B.c(),this.h()},l(F){e=I(F,"DIV",{class:!0});var J=_(e);t=I(J,"SECTION",{class:!0});var b=_(t);l=I(b,"DIV",{class:!0});var M=_(l);n=le(M,"Media fields"),M.forEach(c),a=ue(b),r=I(b,"DIV",{class:!0});var K=_(r);o=le(K,`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),K.forEach(c),s=ue(b),f.l(b),b.forEach(c),d=ue(J),h=I(J,"SECTION",{class:!0});var Y=_(h);g=I(Y,"DIV",{class:!0});var Te=_(g);O=le(Te,"View type"),Te.forEach(c),N=ue(Y),R=I(Y,"DIV",{class:!0});var pe=_(R);de(C.$$.fragment,pe),V=ue(pe),de(k.$$.fragment,pe),pe.forEach(c),Y.forEach(c),S=ue(J),E=I(J,"SECTION",{class:!0});var L=_(E);z=I(L,"DIV",{class:!0});var ke=_(z);ie=le(ke,"Preferred embedding"),ke.forEach(c),X=ue(L),he=I(L,"DIV",{class:!0});var ce=_(he);fe=le(ce,"This embedding will be used by default when indexing and querying the data."),ce.forEach(c),me=ue(L),P=I(L,"DIV",{class:!0});var we=_(P);B.l(we),we.forEach(c),L.forEach(c),J.forEach(c),this.h()},h(){v(l,"class","text-lg text-gray-700"),v(r,"class","text-sm text-gray-500"),v(t,"class","flex flex-col gap-y-4"),v(g,"class","text-lg text-gray-700"),v(R,"class","flex gap-x-2"),v(h,"class","flex flex-col gap-y-1"),v(z,"class","text-lg text-gray-700"),v(he,"class","text-sm text-gray-500"),v(P,"class","w-60"),v(E,"class","flex flex-col gap-y-1"),v(e,"class","flex flex-col gap-y-6")},m(F,J){D(F,e,J),m(e,t),m(t,l),m(l,n),m(t,a),m(t,r),m(r,o),m(t,s),Q[u].m(t,null),m(e,d),m(e,h),m(h,g),m(g,O),m(h,N),m(h,R),se(C,R,null),m(R,V),se(k,R,null),m(e,S),m(e,E),m(E,z),m(z,ie),m(E,X),m(E,he),m(he,fe),m(E,me),m(E,P),ne[A].m(P,null),j=!0},p(F,J){let b=u;u=ee(F),u===b?Q[u].p(F,J):(Ie(),p(Q[b],1,1,()=>{Q[b]=null}),Ee(),f=Q[u],f?f.p(F,J):(f=Q[u]=H[u](F),f.c()),w(f,1),f.m(t,null));const M={};J[0]&16&&(M.active=F[4]=="scroll"),C.$set(M);const K={};J[0]&16&&(K.active=F[4]=="single_item"),k.$set(K);let Y=A;A=Me(F),A===Y?ne[A].p(F,J):(Ie(),p(ne[Y],1,1,()=>{ne[Y]=null}),Ee(),B=ne[A],B?B.p(F,J):(B=ne[A]=ve[A](F),B.c()),w(B,1),B.m(P,null))},i(F){j||(w(f),w(C.$$.fragment,F),w(k.$$.fragment,F),w(B),j=!0)},o(F){p(f),p(C.$$.fragment,F),p(k.$$.fragment,F),p(B),j=!1},d(F){F&&c(e),Q[u].d(),ae(C),ae(k),ne[A].d()}}}function qs(i){let e,t;return e=new ht({}),{c(){re(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p:U,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Ys(i){let e,t;return e=new ti({}),{c(){re(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p:U,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Us(i){let e,t,l,n,a,r,o,s,u,f,d,h,g,O,N,R,C,V,k=i[1]&&Bl(i),S=i[3]&&ql(i);return{c(){e=y("div"),t=y("div"),l=y("div"),n=y("div"),a=oe(),r=y("div"),o=te("Field"),s=oe(),u=y("div"),f=te("Markdown"),d=oe(),h=y("div"),g=oe(),k&&k.c(),O=oe(),N=y("div"),S&&S.c(),this.h()},l(E){e=I(E,"DIV",{class:!0});var z=_(e);t=I(z,"DIV",{class:!0});var ie=_(t);l=I(ie,"DIV",{class:!0});var X=_(l);n=I(X,"DIV",{class:!0}),_(n).forEach(c),a=ue(X),r=I(X,"DIV",{class:!0});var he=_(r);o=le(he,"Field"),he.forEach(c),s=ue(X),u=I(X,"DIV",{class:!0});var fe=_(u);f=le(fe,"Markdown"),fe.forEach(c),d=ue(X),h=I(X,"DIV",{class:!0}),_(h).forEach(c),X.forEach(c),ie.forEach(c),g=ue(z),k&&k.l(z),z.forEach(c),O=ue(E),N=I(E,"DIV",{class:!0});var me=_(N);S&&S.l(me),me.forEach(c),this.h()},h(){v(n,"class","table-cell"),v(r,"class","table-cell"),v(u,"class","table-cell"),v(h,"class","table-cell"),v(l,"class","table-row text-xs text-neutral-600"),v(t,"class","table-header-group items-center"),v(e,"class","table border-spacing-1 gap-y-2"),v(N,"class","h-12")},m(E,z){D(E,e,z),m(e,t),m(t,l),m(l,n),m(l,a),m(l,r),m(r,o),m(l,s),m(l,u),m(u,f),m(l,d),m(l,h),m(e,g),k&&k.m(e,null),D(E,O,z),D(E,N,z),S&&S.m(N,null),R=!0,C||(V=Ye(Ke.call(null,u,{text:"Render media field with a markdown renderer."})),C=!0)},p(E,z){E[1]?k?(k.p(E,z),z[0]&2&&w(k,1)):(k=Bl(E),k.c(),w(k,1),k.m(e,null)):k&&(Ie(),p(k,1,1,()=>{k=null}),Ee()),E[3]?S?(S.p(E,z),z[0]&8&&w(S,1)):(S=ql(E),S.c(),w(S,1),S.m(N,null)):S&&(Ie(),p(S,1,1,()=>{S=null}),Ee())},i(E){R||(w(k),w(S),R=!0)},o(E){p(k),p(S),R=!1},d(E){E&&c(e),k&&k.d(),E&&c(O),E&&c(N),S&&S.d(),C=!1,V()}}}function Bl(i){let e,t,l=i[0].ui.media_paths,n=[];for(let r=0;r<l.length;r+=1)n[r]=jl(Nl(i,l,r));const a=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){e=y("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=I(r,"DIV",{class:!0});var o=_(e);for(let s=0;s<n.length;s+=1)n[s].l(o);o.forEach(c),this.h()},h(){v(e,"class","table-row-group")},m(r,o){D(r,e,o);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null);t=!0},p(r,o){if(o[0]&15875){l=r[0].ui.media_paths;let s;for(s=0;s<l.length;s+=1){const u=Nl(r,l,s);n[s]?(n[s].p(u,o),w(n[s],1)):(n[s]=jl(u),n[s].c(),w(n[s],1),n[s].m(e,null))}for(Ie(),s=l.length;s<n.length;s+=1)a(s);Ee()}},i(r){if(!t){for(let o=0;o<l.length;o+=1)w(n[o]);t=!0}},o(r){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)p(n[o]);t=!1},d(r){r&&c(e),Mt(n,r)}}}function Hl(i){let e,t,l,n,a,r=i[30].path.indexOf(ut)>=0,o,s,u=at(i[30].path)+"",f,d,h,g,O,N,R,C,V,k,S,E,z,ie,X,he,fe,me,P,A,B,j,H;const Q=[Zs,Ks],ee=[];function ve(M,K){return M[30].dtype&&M[30].dtype.type!=="map"?0:1}l=ve(i),n=ee[l]=Q[l](i);let ne=r&&Fl();function Me(...M){return i[17](i[30],...M)}g=new Yi({props:{class:"mx-auto w-8",size:"sm",hideLabel:!0,labelA:"",labelB:"",toggled:i[12](i[30])}}),g.$on("toggle",Me),k=new cn({props:{size:16}});function F(){return i[18](i[30])}ie=new on({props:{size:16}});function J(){return i[19](i[30])}P=new Ui({props:{size:16}});function b(){return i[20](i[30])}return{c(){e=y("div"),t=y("div"),n.c(),a=oe(),ne&&ne.c(),o=oe(),s=y("div"),f=te(u),d=oe(),h=y("div"),re(g.$$.fragment),O=oe(),N=y("div"),R=y("div"),C=y("div"),V=y("button"),re(k.$$.fragment),S=oe(),E=y("div"),z=y("button"),re(ie.$$.fragment),he=oe(),fe=y("div"),me=y("button"),re(P.$$.fragment),A=oe(),this.h()},l(M){e=I(M,"DIV",{class:!0});var K=_(e);t=I(K,"DIV",{class:!0});var Y=_(t);n.l(Y),a=ue(Y),ne&&ne.l(Y),Y.forEach(c),o=ue(K),s=I(K,"DIV",{class:!0});var Te=_(s);f=le(Te,u),Te.forEach(c),d=ue(K),h=I(K,"DIV",{class:!0});var pe=_(h);de(g.$$.fragment,pe),pe.forEach(c),O=ue(K),N=I(K,"DIV",{class:!0});var L=_(N);R=I(L,"DIV",{class:!0});var ke=_(R);C=I(ke,"DIV",{class:!0});var ce=_(C);V=I(ce,"BUTTON",{});var we=_(V);de(k.$$.fragment,we),we.forEach(c),ce.forEach(c),S=ue(ke),E=I(ke,"DIV",{class:!0});var Pe=_(E);z=I(Pe,"BUTTON",{});var _e=_(z);de(ie.$$.fragment,_e),_e.forEach(c),Pe.forEach(c),he=ue(ke),fe=I(ke,"DIV",{class:!0});var ye=_(fe);me=I(ye,"BUTTON",{});var Fe=_(me);de(P.$$.fragment,Fe),Fe.forEach(c),ye.forEach(c),ke.forEach(c),L.forEach(c),A=ue(K),K.forEach(c),this.h()},h(){v(t,"class","table-cell w-12 rounded-md p-0.5 align-middle"),G(t,"bg-blue-200",i[33]),G(t,"bg-teal-100",i[34]),v(s,"class","table-cell w-40 align-middle"),v(h,"class","table-cell w-8 align-middle"),V.disabled=i[35],G(V,"opacity-50",i[35]),v(C,"class","ml-auto align-middle"),z.disabled=X=i[36],G(z,"opacity-50",i[36]),v(E,"class","align-middle"),v(fe,"class","align-middle"),v(R,"class","flex flex-row gap-x-1"),v(N,"class","table-cell"),v(e,"class","table-row h-10")},m(M,K){D(M,e,K),m(e,t),ee[l].m(t,null),m(t,a),ne&&ne.m(t,null),m(e,o),m(e,s),m(s,f),m(e,d),m(e,h),se(g,h,null),m(e,O),m(e,N),m(N,R),m(R,C),m(C,V),se(k,V,null),m(R,S),m(R,E),m(E,z),se(ie,z,null),m(R,he),m(R,fe),m(fe,me),se(P,me,null),m(e,A),B=!0,j||(H=[Ze(V,"click",F),Ye(Ke.call(null,C,{text:"Move media field up"})),Ze(z,"click",J),Ye(Ke.call(null,E,{text:"Move media field down"})),Ze(me,"click",b),Ye(Ke.call(null,fe,{text:"Remove media field"}))],j=!0)},p(M,K){i=M;let Y=l;l=ve(i),l===Y?ee[l].p(i,K):(Ie(),p(ee[Y],1,1,()=>{ee[Y]=null}),Ee(),n=ee[l],n?n.p(i,K):(n=ee[l]=Q[l](i),n.c()),w(n,1),n.m(t,a)),K[0]&3&&(r=i[30].path.indexOf(ut)>=0),r?ne||(ne=Fl(),ne.c(),ne.m(t,null)):ne&&(ne.d(1),ne=null),(!B||K[0]&3)&&G(t,"bg-blue-200",i[33]),(!B||K[0]&3)&&G(t,"bg-teal-100",i[34]),(!B||K[0]&3)&&u!==(u=at(i[30].path)+"")&&Ve(f,u);const Te={};K[0]&3&&(Te.toggled=i[12](i[30])),g.$set(Te),(!B||K[0]&1&&X!==(X=i[36]))&&(z.disabled=X),(!B||K[0]&1)&&G(z,"opacity-50",i[36])},i(M){B||(w(n),w(g.$$.fragment,M),w(k.$$.fragment,M),w(ie.$$.fragment,M),w(P.$$.fragment,M),B=!0)},o(M){p(n),p(g.$$.fragment,M),p(k.$$.fragment,M),p(ie.$$.fragment,M),p(P.$$.fragment,M),B=!1},d(M){M&&c(e),ee[l].d(),ne&&ne.d(),ae(g),ae(k),ae(ie),ae(P),j=!1,it(H)}}}function Ks(i){let e,t="{}",l,n;return{c(){e=y("span"),l=te(t),this.h()},l(a){e=I(a,"SPAN",{class:!0,title:!0});var r=_(e);l=le(r,t),r.forEach(c),this.h()},h(){var a;v(e,"class","font-mono"),v(e,"title",n=(a=i[30].dtype)==null?void 0:a.type)},m(a,r){D(a,e,r),m(e,l)},p(a,r){var o;r[0]&3&&n!==(n=(o=a[30].dtype)==null?void 0:o.type)&&v(e,"title",n)},i:U,o:U,d(a){a&&c(e)}}}function Zs(i){let e,t,l;var n=jt[i[30].dtype.type];function a(r){return{props:{title:r[30].dtype.type}}}return n&&(e=ct(n,a(i))),{c(){e&&re(e.$$.fragment),t=Je()},l(r){e&&de(e.$$.fragment,r),t=Je()},m(r,o){e&&se(e,r,o),D(r,t,o),l=!0},p(r,o){const s={};if(o[0]&3&&(s.title=r[30].dtype.type),o[0]&3&&n!==(n=jt[r[30].dtype.type])){if(e){Ie();const u=e;p(u.$$.fragment,1,0,()=>{ae(u,1)}),Ee()}n?(e=ct(n,a(r)),re(e.$$.fragment),w(e.$$.fragment,1),se(e,t.parentNode,t)):e=null}else n&&e.$set(s)},i(r){l||(e&&w(e.$$.fragment,r),l=!0)},o(r){e&&p(e.$$.fragment,r),l=!1},d(r){r&&c(t),e&&ae(e,r)}}}function Fl(i){let e;return{c(){e=te("[]")},l(t){e=le(t,"[]")},m(t,l){D(t,e,l)},d(t){t&&c(e)}}}function jl(i){let e,t,l=i[30]&&Hl(zt(i));return{c(){l&&l.c(),e=Je()},l(n){l&&l.l(n),e=Je()},m(n,a){l&&l.m(n,a),D(n,e,a),t=!0},p(n,a){n[30]?l?(l.p(zt(n),a),a[0]&3&&w(l,1)):(l=Hl(zt(n)),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(Ie(),p(l,1,1,()=>{l=null}),Ee())},i(n){t||(w(l),t=!0)},o(n){p(l),t=!1},d(n){l&&l.d(n),n&&c(e)}}}function ql(i){let e,t;return e=new Nt({props:{buttonOutline:!0,disabled:i[3].length===0,buttonIcon:rn,items:i[3],buttonText:"Add media field",comboBoxPlaceholder:"Add media field",hoist:!1}}),e.$on("select",i[8]),{c(){re(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p(l,n){const a={};n[0]&8&&(a.disabled=l[3].length===0),n[0]&8&&(a.items=l[3]),e.$set(a)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Qs(i){var l;let e,t;return e=new qi({props:{selected:((l=i[0])==null?void 0:l.preferred_embedding)||void 0,$$slots:{default:[Gs]},$$scope:{ctx:i}}}),e.$on("change",i[14]),{c(){re(e.$$.fragment)},l(n){de(e.$$.fragment,n)},m(n,a){se(e,n,a),t=!0},p(n,a){var o;const r={};a[0]&1&&(r.selected=((o=n[0])==null?void 0:o.preferred_embedding)||void 0),a[0]&64|a[1]&64&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){ae(e,n)}}}function Ws(i){let e,t;return e=new ti({}),{c(){re(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p:U,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Yl(i){let e,t;return e=new li({props:{value:i[26].name}}),{c(){re(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p(l,n){const a={};n[0]&64&&(a.value=l[26].name),e.$set(a)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Gs(i){let e,t,l,n;e=new li({props:{value:void 0,text:"None"}});let a=i[6].data||[],r=[];for(let s=0;s<a.length;s+=1)r[s]=Yl(Ll(i,a,s));const o=s=>p(r[s],1,1,()=>{r[s]=null});return{c(){re(e.$$.fragment),t=oe();for(let s=0;s<r.length;s+=1)r[s].c();l=Je()},l(s){de(e.$$.fragment,s),t=ue(s);for(let u=0;u<r.length;u+=1)r[u].l(s);l=Je()},m(s,u){se(e,s,u),D(s,t,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(s,u);D(s,l,u),n=!0},p(s,u){if(u[0]&64){a=s[6].data||[];let f;for(f=0;f<a.length;f+=1){const d=Ll(s,a,f);r[f]?(r[f].p(d,u),w(r[f],1)):(r[f]=Yl(d),r[f].c(),w(r[f],1),r[f].m(l.parentNode,l))}for(Ie(),f=a.length;f<r.length;f+=1)o(f);Ee()}},i(s){if(!n){w(e.$$.fragment,s);for(let u=0;u<a.length;u+=1)w(r[u]);n=!0}},o(s){p(e.$$.fragment,s),r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)p(r[u]);n=!1},d(s){ae(e,s),s&&c(t),Mt(r,s),s&&c(l)}}}function Xs(i){let e,t,l,n;const a=[qs,js],r=[];function o(s,u){return s[0]==null||s[2].data==null?0:1}return e=o(i),t=r[e]=a[e](i),{c(){t.c(),l=Je()},l(s){t.l(s),l=Je()},m(s,u){r[e].m(s,u),D(s,l,u),n=!0},p(s,u){let f=e;e=o(s),e===f?r[e].p(s,u):(Ie(),p(r[f],1,1,()=>{r[f]=null}),Ee(),t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),w(t,1),t.m(l.parentNode,l))},i(s){n||(w(t),n=!0)},o(s){p(t),n=!1},d(s){r[e].d(s),s&&c(l)}}}function Js(i,e,t){let l,n,a,r,o,s=U,u=()=>(s(),s=Xe(l,j=>t(2,o=j)),l),f;i.$$.on_destroy.push(()=>s());let{namespace:d}=e,{datasetName:h}=e,{newSettings:g}=e;const O=Fi();We(i,O,j=>t(6,f=j));function N(j){const H=j.detail.id;g.ui==null&&t(0,g.ui={},g),g.ui.media_paths==null&&t(0,g.ui.media_paths=[],g),g.ui.media_paths.find(ee=>$e(ee,H.path))==null&&t(0,g.ui.media_paths=[...g.ui.media_paths,H.path],g)}function R(j){var H;((H=g.ui)==null?void 0:H.media_paths)!=null&&t(0,g.ui.media_paths=g.ui.media_paths.filter(Q=>!$e(Q,j.path)),g)}function C(j){var Q;if(((Q=g.ui)==null?void 0:Q.media_paths)==null)return;const H=g.ui.media_paths.findIndex(ee=>$e(ee,j.path));H<=0||t(0,g.ui.media_paths=[...g.ui.media_paths.slice(0,H-1),j.path,g.ui.media_paths[H-1],...g.ui.media_paths.slice(H+1)],g)}function V(j){var Q;if(((Q=g.ui)==null?void 0:Q.media_paths)==null)return;const H=g.ui.media_paths.findIndex(ee=>$e(ee,j.path));H<0||H>=g.ui.media_paths.length-1||t(0,g.ui.media_paths=[...g.ui.media_paths.slice(0,H),g.ui.media_paths[H+1],j.path,...g.ui.media_paths.slice(H+2)],g)}function k(j){var H,Q;return((Q=(H=g.ui)==null?void 0:H.markdown_paths)==null?void 0:Q.find(ee=>$e(ee,j.path)))!=null}function S(j,H){j.detail.toggled?E(H):z(H)}function E(j){g.ui==null&&t(0,g.ui={},g),g.ui.markdown_paths==null&&t(0,g.ui.markdown_paths=[],g),g.ui.markdown_paths.find(Q=>$e(Q,j.path))==null&&t(0,g.ui.markdown_paths=[...g.ui.markdown_paths,j.path],g)}function z(j){g.ui!=null&&g.ui.markdown_paths!=null&&t(0,g.ui.markdown_paths=g.ui.markdown_paths.filter(H=>!$e(H,j.path)),g)}function ie(j){const H=j.target.value;t(0,g.preferred_embedding=H===""?void 0:H,g)}const X=(j,H)=>S(H,j),he=j=>C(j),fe=j=>V(j),me=j=>R(j),P=(j,H)=>$e(H.path,j),A=()=>{(g==null?void 0:g.ui)!=null&&t(0,g.ui.view_type="scroll",g)},B=()=>{(g==null?void 0:g.ui)!=null&&t(0,g.ui.view_type="single_item",g)};return i.$$set=j=>{"namespace"in j&&t(15,d=j.namespace),"datasetName"in j&&t(16,h=j.datasetName),"newSettings"in j&&t(0,g=j.newSettings)},i.$$.update=()=>{var j;i.$$.dirty[0]&98304&&u(t(5,l=Tt(d,h))),i.$$.dirty[0]&1&&t(4,n=((j=g==null?void 0:g.ui)==null?void 0:j.view_type)||"single_item"),i.$$.dirty[0]&4&&t(1,a=o.data!=null?xl(o.data).filter(H=>{var Q;return((Q=H.dtype)==null?void 0:Q.type)==="string"&&!$e(H.path,[ji])&&!$l(H)&&!ei(H)}):null),i.$$.dirty[0]&3&&t(3,r=a!=null?a.filter(H=>{var Q,ee;return!((ee=(Q=g.ui)==null?void 0:Q.media_paths)!=null&&ee.includes(H.path))}).map(H=>{const Q=at(H.path);return{id:H,text:Q}}):null)},[g,a,o,r,n,l,f,O,N,R,C,V,k,S,ie,d,h,X,he,fe,me,P,A,B]}class da extends Ae{constructor(e){super(),Re(this,e,Js,Xs,ze,{namespace:15,datasetName:16,newSettings:0},null,[-1,-1])}}export{rn as A,bn as C,Gn as D,hr as E,ca as R,ni as T,pn as a,Ds as b,da as c};
