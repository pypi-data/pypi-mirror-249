[build-system]
build-backend = "poetry.core.masonry.api"
requires = ["poetry-core>=1.0.0"]

[tool.black]
known_first_party = ["secret_transfer", "tests"]
line-length = 120
target-version = ["py310"]

[tool.poetry]
authors = ["ovsds <github@ovsds.ru>"]
description = "Yaml-based secret manager for secret load/set/transfer."
keywords = ["secret", "transfer", "yaml"]
license = "MIT"
name = "secret-transfer"
readme = "README.md"
repository = "https://github.com/ovsds/secret-transfer"
version = "0.1.0"

[tool.poetry.dependencies]
click = "^8.1.3"
lazy-object-proxy = "^1.9.0"
pydantic = "^2.0.3"
python = ">=3.8,<3.13"
python-dotenv = "^1.0.0"
pyyaml = "^6.0"

[tool.poetry.dev-dependencies]
black = "*"
pytest = "*"
pytest-mock = "*"
ruff = "*"
toml-sort = "*"

[tool.poetry.scripts]
secret-transfer = 'secret_transfer.cli:main'

[[tool.poetry.source]]
name = "PyPI"
priority = "primary"

[tool.pyright]
exclude = ["**/__pycache__"]
include = ["secret_transfer", "tests"]
pythonPlatform = "All"
pythonVersion = "3.10"
reportConstantRedefinition = "none"
reportMissingTypeStubs = "warning"
reportPrivateUsage = "information"
reportPropertyTypeMismatch = "warning"
reportUninitializedInstanceVariable = "warning"
reportUnknownMemberType = "none"
reportUnnecessaryTypeIgnoreComment = "warning"
typeCheckingMode = "strict"
useLibraryCodeForTypes = true
venv = ".venv"
venvPath = '.'

[tool.pytest.ini_options]
log_cli = true
log_level = "WARNING"
pythonpath = "."

[tool.ruff.lint]
extend-select = [
  "I", # isort
  "UP", # pyupgrade
]

[tool.tomlsort]
all = true
ignore_case = true
in_place = true
trailing_comma_inline_array = true
