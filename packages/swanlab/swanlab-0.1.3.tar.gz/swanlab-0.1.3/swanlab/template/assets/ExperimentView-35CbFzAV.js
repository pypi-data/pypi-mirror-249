import{_ as e,z as t,o as a,b as s,F as r,m as n,j as i,w as l,t as d,v as u,a as c,A as o,B as p,C as m,e as v,f as x,i as h,D as _,c as f,u as b,k as I,h as g}from"./index-P3eFTPEJ.js";const w={class:"w-full pt-2 pl-6 bg-higher flex border-b h-full"},k=e({__name:"TabsHeader",setup(e){const c=["index","chart","log"];return(e,o)=>{const p=t("router-link");return a(),s("div",w,[(a(),s(r,null,n(c,(t=>i(p,{to:t,key:t,class:"link","active-class":"link-active"},{default:l((()=>[u(d(e.$t(`experiment.tabs.${t}`)),1)])),_:2},1032,["to"]))),64))])}}},[["__scopeId","data-v-409adde4"]]),$={class:"w-full h-full"},y={class:"w-full bg-higher h-16"},E={class:"experiment-content"},S=e({__name:"ExperimentLayout",setup:e=>(e,t)=>(a(),s("div",$,[c("div",y,[o(e.$slots,"tabs",{},void 0,!0)]),c("div",E,[o(e.$slots,"default",{},void 0,!0)])]))},[["__scopeId","data-v-cd2c064a"]]),j={__name:"ExperimentView",setup(e){const s=p(),r=m(),n=v(),d=x((()=>void 0!==r.id)),u=h("show_error"),c=async(e=s.params.experimentId)=>{r.experiment=void 0,r.charts=void 0,g.get(`/experiment/${e}`).then((({data:e})=>{r.experiment=e,n.setExperimentStatus(e.experiment_id,e.status),r.isRunning&&w()})).catch((e=>{u(e.data.code)}))};c(),_(((e,t)=>{e.params.experimentId!==t.params.experimentId&&(c(e.params.experimentId),clearInterval(o))}));let o=null;const w=()=>{o=setInterval((()=>{g.get(`/experiment/${r.id}/status`).then((({data:e})=>{Number(r.id)===Number(s.params.experimentId)?(r.setStatus(e.status),n.setExperimentStatus(r.id,e.status),r.charts=e.charts,r.isRunning||clearInterval(o)):clearInterval(o)}))}),1e3)};return(e,s)=>{const n=t("router-view");return d.value?(a(),f(S,{key:b(r).id},{tabs:l((()=>[i(k)])),default:l((()=>[i(n)])),_:1})):I("",!0)}}};export{j as default};
