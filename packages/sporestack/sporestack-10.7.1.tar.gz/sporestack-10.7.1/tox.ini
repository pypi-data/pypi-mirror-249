[tox]
env_list =
    py{37,38,39,310,311}-pydantic{1,2}

[testenv]
deps =
    pydantic1: pydantic~=1.10
    pydantic2: pydantic~=2.0
    pytest~=7.2
    pytest-socket~=0.6.0
    pytest-cov~=4.0
    pytest-mock~=3.6
    respx~=0.20.1
commands =
    pytest --cov=sporestack --cov-fail-under=39 --cov-report=term --durations=3
    sporestack api-endpoint
